/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_node_modules_pnpm_particles-bg_2_5_5_node_modules_particles-bg_dist_index_es_js"],{

/***/ "(app-pages-browser)/./node_modules/.pnpm/particles-bg@2.5.5/node_modules/particles-bg/dist/index.es.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/.pnpm/particles-bg@2.5.5/node_modules/particles-bg/dist/index.es.js ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/.pnpm/next@14.2.35_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var raf_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! raf-manager */ \"(app-pages-browser)/./node_modules/.pnpm/raf-manager@0.3.3/node_modules/raf-manager/build/RAFManager.min.js\");\n/* harmony import */ var raf_manager__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(raf_manager__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var proton_engine__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! proton-engine */ \"(app-pages-browser)/./node_modules/.pnpm/proton-engine@4.2.1/node_modules/proton-engine/build/proton.min.js\");\n/* harmony import */ var proton_engine__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(proton_engine__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\n// Code source from here, thanks author\n// https://github.com/drawcall/Proton/blob/gh-pages/source/src/utils/Rand.js\nvar Rand = function () {\n    function Rand() {\n        classCallCheck(this, Rand);\n\n        this.list = [];\n    }\n\n    createClass(Rand, [{\n        key: \"set\",\n        value: function set$$1(probability, target) {\n            this.list.push({\n                probability: probability,\n                target: target,\n                a: 0,\n                b: 1\n            });\n\n            this.calculation();\n        }\n    }, {\n        key: \"calculation\",\n        value: function calculation() {\n            var total = 0;\n            for (var i = 0; i < this.list.length; i++) {\n                total += this.list[i].probability;\n            }\n\n            for (var _i = 0; _i < this.list.length; _i++) {\n                var obj = this.list[_i];\n                var val = obj.probability / total;\n\n                obj.a = _i === 0 ? 0 : this.list[_i - 1].b;\n                obj.b = obj.a + val;\n            }\n        }\n    }, {\n        key: \"getResult\",\n        value: function getResult() {\n            var val = Math.random();\n            for (var i = 0; i < this.list.length; i++) {\n                var obj = this.list[i];\n\n                if (val <= obj.b && val > obj.a) {\n                    return obj.target;\n                }\n            }\n\n            return this.list[0].target;\n        }\n    }]);\n    return Rand;\n}();\n\nvar Canvas = function (_React$Component) {\n  inherits(Canvas, _React$Component);\n\n  function Canvas(props) {\n    classCallCheck(this, Canvas);\n\n    var _this = possibleConstructorReturn(this, (Canvas.__proto__ || Object.getPrototypeOf(Canvas)).call(this, props));\n\n    _this._iid = 0;\n    _this._oid = 0;\n    _this.size = { width: 0, height: 0 };\n    _this.canvasRef = react__WEBPACK_IMPORTED_MODULE_0___default().createRef();\n    return _this;\n  }\n\n  createClass(Canvas, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this._oid = setTimeout(function () {\n        _this2.initCanvas();\n        _this2.resize = _this2.resize.bind(_this2);\n        window.addEventListener(\"resize\", _this2.resize);\n      }, 100);\n\n      var canvas = this.getCanvas();\n      this.props.onCanvasDidMount && this.props.onCanvasDidMount(canvas);\n    }\n  }, {\n    key: \"initCanvas\",\n    value: function initCanvas() {\n      var canvas = this.getCanvas();\n\n      if (this.props.globalCompositeOperation) {\n        var context = canvas.getContext(\"2d\");\n        context.globalCompositeOperation = this.props.globalCompositeOperation;\n      }\n\n      var _setCanvasSize = this.setCanvasSize(canvas),\n          width = _setCanvasSize.width,\n          height = _setCanvasSize.height;\n\n      this.heartbeatDetectionCanvasSize(canvas);\n      this.props.onCanvasInited(canvas, width, height);\n    }\n  }, {\n    key: \"getCanvas\",\n    value: function getCanvas() {\n      var canvas = this.canvasRef.current;\n      return canvas;\n    }\n  }, {\n    key: \"heartbeatDetectionCanvasSize\",\n    value: function heartbeatDetectionCanvasSize(canvas) {\n      var _this3 = this;\n\n      this._iid = setInterval(function () {\n        if (_this3.canvasRef.current) {\n          var newHeight = _this3.canvasRef.current.clientHeight;\n          if (newHeight !== _this3.size.height) {\n            var _setCanvasSize2 = _this3.setCanvasSize(canvas),\n                width = _setCanvasSize2.width,\n                height = _setCanvasSize2.height;\n\n            _this3.props.onResize && _this3.props.onResize(width, height);\n          }\n        }\n      }, 1000 / 10);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        window.removeEventListener(\"resize\", this.resize);\n        clearInterval(this._iid);\n        clearTimeout(this._oid);\n      } catch (e) {}\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var canvas = this.getCanvas();\n\n      var _setCanvasSize3 = this.setCanvasSize(canvas),\n          width = _setCanvasSize3.width,\n          height = _setCanvasSize3.height;\n\n      this.props.onResize && this.props.onResize(width, height);\n    }\n  }, {\n    key: \"setCanvasSize\",\n    value: function setCanvasSize(canvas) {\n      var width = this.canvasRef.current.clientWidth;\n      var height = this.canvasRef.current.clientHeight;\n\n      this.size.width = width;\n      this.size.height = height;\n      canvas.width = width;\n      canvas.height = height;\n      return { width: width, height: height };\n    }\n  }, {\n    key: \"handleWaypointEnter\",\n    value: function handleWaypointEnter() {\n      raf_manager__WEBPACK_IMPORTED_MODULE_1___default().start();\n    }\n  }, {\n    key: \"handleWaypointLeave\",\n    value: function handleWaypointLeave() {\n      raf_manager__WEBPACK_IMPORTED_MODULE_1___default().stop();\n    }\n  }, {\n    key: \"getStyle\",\n    value: function getStyle() {\n      var bg = this.props.bg;\n\n      var style = { width: \"100%\", height: \"100%\" };\n\n      if (bg === true) {\n        style = Object.assign(style, {\n          position: \"absolute\",\n          zIndex: -1,\n          top: 0,\n          left: 0\n        });\n      } else if (bg && (typeof bg === \"undefined\" ? \"undefined\" : _typeof(bg)) === \"object\") {\n        style = Object.assign(style, bg);\n      }\n\n      return style;\n    }\n  }, {\n    key: \"handleMouseDown\",\n    value: function handleMouseDown(e) {\n      this.props.onMouseDown && this.props.onMouseDown(e);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"canvas\", { className: \"particles-bg-canvas-self\",\n        ref: this.canvasRef,\n        onMouseDown: this.handleMouseDown.bind(this),\n        style: this.getStyle()\n      });\n    }\n  }]);\n  return Canvas;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\n\nfunction hexToRgb(hex) {\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16)\n    } : {};\n}\n\nfunction getColor(color, a) {\n    var c = void 0;\n    if (color) {\n        c = hexToRgb(color);\n        return \"rgba(\" + c.r + \",\" + c.g + \",\" + c.b + \", \" + a + \")\";\n    } else {\n        return null;\n    }\n}\n\nvar Ball = function (_React$Component) {\n  inherits(Ball, _React$Component);\n\n  function Ball(props) {\n    classCallCheck(this, Ball);\n\n    var _this = possibleConstructorReturn(this, (Ball.__proto__ || Object.getPrototypeOf(Ball)).call(this, props));\n\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Ball, [{\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      this.createMiniEmitter(canvas);\n      raf_manager__WEBPACK_IMPORTED_MODULE_1___default().add(this.renderProton);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        raf_manager__WEBPACK_IMPORTED_MODULE_1___default().remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {}\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      var _this2 = this;\n\n      var context = canvas.getContext(\"2d\");\n      this.proton = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default())();\n\n      var emitter = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Emitter)();\n      emitter.rate = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Rate)(this.props.num ? new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(this.props.num) : new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(4, 9), new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(0.8, 1.3));\n\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Mass)(1));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Radius)(1, 50));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Life)(5, 6));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Velocity)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(5, 8), new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(30, 70), \"polar\"));\n\n      emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Alpha)(1, 0));\n      emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Color)([\"#36aaf3\", \"#fd769c\", \"#94ff22\", \"#ffa545\", \"#ffffff\"]));\n      emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Scale)(0.7, 1));\n      emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Gravity)(3));\n      emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Collision)(emitter));\n      emitter.addBehaviour(this.customDeadBehaviour(canvas));\n      emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().CrossZone)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().RectZone)(0, 0, canvas.width, canvas.height), \"bound\"));\n\n      emitter.p.x = Math.min(500, Math.max(canvas.width / 2 - 400, 50));\n      emitter.p.y = canvas.height / 2 + 50;\n      emitter.emit();\n      this.proton.addEmitter(emitter);\n\n      var renderer = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().CanvasRenderer)(canvas);\n      renderer.onProtonUpdate = function () {\n        context.fillStyle = getColor(_this2.props.color, 0.2) || \"rgba(255, 255, 255, 0.2)\";\n        context.fillRect(0, 0, canvas.width, canvas.height);\n      };\n      this.proton.addRenderer(renderer);\n    }\n  }, {\n    key: \"customDeadBehaviour\",\n    value: function customDeadBehaviour(canvas) {\n      var _this3 = this;\n\n      return {\n        initialize: function initialize(particle) {},\n        applyBehaviour: function applyBehaviour(particle) {\n          if (particle.p.y + particle.radius >= canvas.height) {\n            if (particle.radius > 9) {\n              _this3.miniEmitteing(particle);\n              particle.dead = true;\n            }\n          }\n        }\n      };\n    }\n  }, {\n    key: \"createMiniEmitter\",\n    value: function createMiniEmitter(canvas) {\n      var miniEmitter = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Emitter)();\n      miniEmitter.rate = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Rate)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(3, 6), new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(1, 2));\n\n      miniEmitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Mass)(1));\n      miniEmitter.radiusInitialize = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Radius)();\n      miniEmitter.addInitialize(miniEmitter.radiusInitialize);\n      miniEmitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Life)(0.5, 1));\n      miniEmitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().V)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(1.5, 3), new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(0, 70, true), \"polar\"));\n\n      miniEmitter.colorBehaviour = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Color)(\"#ffffff\");\n      miniEmitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Alpha)(1, 0));\n      miniEmitter.addBehaviour(miniEmitter.colorBehaviour);\n      miniEmitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Gravity)(4));\n      miniEmitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Collision)(miniEmitter));\n      miniEmitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().CrossZone)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().RectZone)(0, 0, canvas.width, canvas.height), \"bound\"));\n      this.proton.addEmitter(miniEmitter);\n\n      this.miniEmitter = miniEmitter;\n    }\n  }, {\n    key: \"miniEmitteing\",\n    value: function miniEmitteing(particle) {\n      var miniEmitter = this.miniEmitter;\n      miniEmitter.radiusInitialize.reset(particle.radius * 0.05, particle.radius * 0.2);\n      miniEmitter.colorBehaviour.reset(particle.color);\n      miniEmitter.p.x = particle.p.x;\n      miniEmitter.p.y = particle.p.y;\n      miniEmitter.emit(\"once\");\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Ball;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\n\nvar Color = function (_React$Component) {\n  inherits(Color, _React$Component);\n\n  function Color(props) {\n    classCallCheck(this, Color);\n\n    var _this = possibleConstructorReturn(this, (Color.__proto__ || Object.getPrototypeOf(Color)).call(this, props));\n\n    _this.colors = [\"#529B88\", \"#CDD180\", \"#FFFA32\", \"#FB6255\", \"#FB4A53\", \"#FF4E50\", \"#F9D423\"];\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Color, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        raf_manager__WEBPACK_IMPORTED_MODULE_1___default().remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      raf_manager__WEBPACK_IMPORTED_MODULE_1___default().add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {}\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default())();\n      var emitter = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Emitter)();\n      emitter.rate = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Rate)(this.props.num ? new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(this.props.num) : new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(5, 8), new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(0.1, 0.25));\n\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Mass)(1));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Radius)(20, 200));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Life)(2, 4));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Position)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().RectZone)(0, 0, width, height)));\n\n      emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Alpha)(0, 1, Infinity, (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().easeOutCubic)));\n      emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Scale)(1, 0, Infinity, (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().easeOutCubic)));\n      emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Color)(this.colors, \"random\"));\n\n      emitter.emit();\n      this.proton.addEmitter(emitter);\n\n      var renderer = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().CanvasRenderer)(canvas);\n      this.proton.addRenderer(renderer);\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Color;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\n\nvar Color$1 = function (_React$Component) {\n    inherits(Color, _React$Component);\n\n    function Color(props) {\n        classCallCheck(this, Color);\n\n        var _this = possibleConstructorReturn(this, (Color.__proto__ || Object.getPrototypeOf(Color)).call(this, props));\n\n        _this.colors = [\"#529B88\", \"#CDD180\", \"#FFFA32\", \"#FB6255\", \"#FB4A53\", \"#FF4E50\", \"#F9D423\"];\n        _this.renderProton = _this.renderProton.bind(_this);\n        return _this;\n    }\n\n    createClass(Color, [{\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n            try {\n                raf_manager__WEBPACK_IMPORTED_MODULE_1___default().remove(this.renderProton);\n                this.proton.destroy();\n            } catch (e) {}\n        }\n    }, {\n        key: \"onCanvasInited\",\n        value: function onCanvasInited(canvas, width, height) {\n            this.createProton(canvas, width, height);\n            raf_manager__WEBPACK_IMPORTED_MODULE_1___default().add(this.renderProton);\n        }\n    }, {\n        key: \"onResize\",\n        value: function onResize(width, height) {\n            this.crossZoneBehaviour.zone.width = width;\n            this.crossZoneBehaviour.zone.height = height;\n            this.proton.renderers[0].resize(width, height);        }\n    }, {\n        key: \"getProp\",\n        value: function getProp(key, defaultVal) {\n            var config = this.props.config || {};\n            var val = config[key] || defaultVal;\n            if (Array.isArray(val)) {\n                return new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(val[0], val[1]);\n            } else {\n                return val;\n            }\n        }\n    }, {\n        key: \"getArrProp\",\n        value: function getArrProp(key, defaultVal) {\n            var config = this.props.config || {};\n            var val = config[key] || defaultVal;\n            if (!val) return null;\n\n            if (Array.isArray(val)) {\n                return val;\n            } else {\n                return [val, val];\n            }\n        }\n    }, {\n        key: \"createProton\",\n        value: function createProton(canvas, width, height) {\n            var num = this.getProp(\"num\", [5, 8]);\n            var rps = this.getProp(\"rps\", [0.1, 0.2]);\n            var mass = this.getProp(\"mass\", 1);\n            var radius = this.getProp(\"radius\", [10, 30]);\n            var life = this.getProp(\"life\", [2, 3]);\n            var body = this.getProp(\"body\");\n            var position = this.getProp(\"position\");\n            var v = this.getProp(\"v\", [2, 3]);\n            var tha = this.getProp(\"tha\", [-15, 15]);\n            var alpha = this.getArrProp(\"alpha\");\n            var scale = this.getArrProp(\"scale\");\n            var color = this.getArrProp(\"color\");\n            var cross = this.getProp(\"cross\", \"dead\");\n            var random = this.getProp(\"random\");\n            var rotate = this.getArrProp(\"rotate\");\n            var g = this.getProp(\"g\");\n            var f = this.getArrProp(\"f\");\n            var emitterV = this.getProp(\"emitter\");\n\n            this.proton = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default())();\n            var emitter = void 0;\n            if (emitterV === \"follow\") {\n                emitter = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().FollowEmitter)();\n            } else {\n                emitter = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Emitter)();\n            }\n            emitter.rate = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Rate)(num, rps);\n\n            emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Mass)(mass));\n            emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Radius)(radius));\n            emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Life)(life));\n            emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Velocity)(v, tha, \"polar\"));\n            if (body) emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Body)(body));\n\n            var pos = void 0;\n            if (position === \"all\" || position === \"screen\") {\n                pos = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Position)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().RectZone)(0, 0, canvas.width, canvas.height));\n            } else if ((typeof position === \"undefined\" ? \"undefined\" : _typeof(position)) === \"object\") {\n                pos = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Position)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().RectZone)(position.x, position.y, position.width, position.height));\n            } else {\n                emitter.p.x = canvas.width / 2;\n                emitter.p.y = canvas.height / 2;\n            }\n\n            emitter.addInitialize(pos);\n\n            /// behaviour\n            var alphaB = alpha ? new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Alpha)(alpha[0], alpha[1]) : new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Alpha)(0, 1);\n            var scaleB = scale ? new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Scale)(scale[0], scale[1]) : new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Scale)(1, 0.2);\n            var colorB = color ? new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Color)(color[0], color[1]) : new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Color)(this.colors);\n\n            emitter.addBehaviour(alphaB);\n            emitter.addBehaviour(scaleB);\n            if (!body) emitter.addBehaviour(colorB);\n\n            if (rotate) {\n                if (rotate[0] === true || rotate[0] === \"rotate\") {\n                    emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Rotate)());\n                } else {\n                    emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Rotate)(rotate[0], rotate[1]));\n                }\n            }\n\n            var zone = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().RectZone)(0, 0, canvas.width, canvas.height);\n            var crossZoneBehaviour = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().CrossZone)(zone, cross);\n            emitter.addBehaviour(crossZoneBehaviour);\n\n            random && emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().RandomDrift)(random, random, 0.05));\n            g && emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().G)(g));\n            f && emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().F)(f[0], f[1]));\n\n            emitter.emit();\n            this.proton.addEmitter(emitter);\n\n            var renderer = this.createRenderer(canvas);\n            this.proton.addRenderer(renderer);\n\n            this.emitter = emitter;\n            this.crossZoneBehaviour = crossZoneBehaviour;\n        }\n    }, {\n        key: \"createRenderer\",\n        value: function createRenderer(canvas) {\n            var width = canvas.width;\n            var height = canvas.height;\n            var context = canvas.getContext(\"2d\");\n            var renderer = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().CanvasRenderer)(canvas);\n\n            var onUpdate = this.getProp(\"onUpdate\");\n            if (onUpdate) {\n                renderer.onProtonUpdate = function () {\n                    onUpdate(context, width, height);\n                };\n            }\n\n            var onParticleCreated = this.getProp(\"onParticleCreated\");\n            if (onParticleCreated) {\n                renderer.onParticleCreated = function (particle) {\n                    onParticleCreated(context, particle);\n                };\n            }\n\n            var onParticleUpdate = this.getProp(\"onParticleUpdate\");\n            if (onParticleUpdate) {\n                renderer.onParticleUpdate = function (particle) {\n                    onParticleUpdate(context, particle);\n                };\n            }\n\n            return renderer;\n        }\n    }, {\n        key: \"renderProton\",\n        value: function renderProton() {\n            this.proton && this.proton.update();\n        }\n    }, {\n        key: \"handleMouseDown\",\n        value: function handleMouseDown(e) {\n            var onMouseDown = this.getProp(\"onMouseDown\");\n            if (onMouseDown) {\n                onMouseDown(e);\n            }\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var globalCompositeOperation = this.props.globalCompositeOperation || this.props.operation || \"source-over\";\n\n            return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Canvas, {\n                bg: this.props.bg,\n                onMouseDown: this.handleMouseDown.bind(this),\n                globalCompositeOperation: globalCompositeOperation,\n                onCanvasInited: this.onCanvasInited.bind(this),\n                onResize: this.onResize.bind(this)\n            });\n        }\n    }]);\n    return Color;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\n\nvar Lines = function (_React$Component) {\n  inherits(Lines, _React$Component);\n\n  function Lines(props) {\n    classCallCheck(this, Lines);\n\n    var _this = possibleConstructorReturn(this, (Lines.__proto__ || Object.getPrototypeOf(Lines)).call(this, props));\n\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Lines, [{\n    key: \"onCanvasDidMount\",\n    value: function onCanvasDidMount(canvas) {\n      if (this.props.color) {\n        canvas.style.backgroundColor = this.props.color;\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        raf_manager__WEBPACK_IMPORTED_MODULE_1___default().remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      raf_manager__WEBPACK_IMPORTED_MODULE_1___default().add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default())();\n\n      var emitter = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Emitter)();\n      emitter.damping = 0.008;\n      emitter.rate = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Rate)(this.props.num ? this.props.num : 250);\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Mass)(1));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Radius)(4));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Velocity)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(1.5), new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(0, 360), \"polar\"));\n      var mouseObj = {\n        x: width / 2,\n        y: height / 2\n      };\n\n      var attractionBehaviour = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Attraction)(mouseObj, 0, 0);\n      var crossZoneBehaviour = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().CrossZone)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().RectZone)(0, 0, canvas.width, canvas.height), \"cross\");\n      emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Color)(\"random\"));\n      emitter.addBehaviour(attractionBehaviour, crossZoneBehaviour);\n      emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().RandomDrift)(10, 10, 0.05));\n      emitter.p.x = canvas.width / 2;\n      emitter.p.y = canvas.height / 2;\n      emitter.emit(\"once\");\n\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas));\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var _this2 = this;\n\n      var context = canvas.getContext(\"2d\");\n      var renderer = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().CanvasRenderer)(canvas);\n      renderer.onProtonUpdate = function () {\n        context.fillStyle = getColor(_this2.props.color, 0.02) || \"rgba(0, 0, 0, 0.02)\";\n        context.fillRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleUpdate = function (particle) {\n        context.beginPath();\n        context.strokeStyle = particle.color;\n        context.lineWidth = 1;\n        context.moveTo(particle.old.p.x, particle.old.p.y);\n        context.lineTo(particle.p.x, particle.p.y);\n        context.closePath();\n        context.stroke();\n      };\n\n      return renderer;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasDidMount: this.onCanvasDidMount.bind(this),\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Lines;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\n\nvar Thick = function (_React$Component) {\n  inherits(Thick, _React$Component);\n\n  function Thick(props) {\n    classCallCheck(this, Thick);\n\n    var _this = possibleConstructorReturn(this, (Thick.__proto__ || Object.getPrototypeOf(Thick)).call(this, props));\n\n    _this.hue = 0;\n    _this.index = 0;\n    _this.colorTemplate = \"hsla(hue,80%,50%, 0.75)\";\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Thick, [{\n    key: \"onCanvasDidMount\",\n    value: function onCanvasDidMount(canvas) {\n      if (this.props.color) {\n        canvas.style.backgroundColor = this.props.color;\n      }\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.canvas = canvas;\n      this.createProton(canvas, width, height);\n      raf_manager__WEBPACK_IMPORTED_MODULE_1___default().add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default())();\n\n      var emitter = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Emitter)();\n      emitter.damping = 0.008;\n      emitter.rate = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Rate)(this.props.num ? this.props.num : 150);\n\n      // Initialize\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Mass)(1));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Radius)(8));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().V)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(0.1, 0.5), new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(0, 360), \"polar\"));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Position)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().CircleZone)(canvas.width / 2, canvas.height / 2, 100)));\n\n      // Behaviour\n      var crossZoneBehaviour = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().CrossZone)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().RectZone)(0, 0, canvas.width, canvas.height), \"cross\");\n      emitter.addBehaviour(crossZoneBehaviour);\n      this.repulsion = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Repulsion)({\n        x: canvas.width / 2,\n        y: canvas.height / 2 - 100\n      }, 3, 300);\n\n      this.attraction = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Attraction)({\n        x: canvas.width / 2,\n        y: canvas.height / 2\n      }, 3, 200);\n      emitter.addBehaviour(this.attraction, this.repulsion);\n      emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Color)(\"random\"));\n      emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().RandomDrift)(20, 15, 0.15));\n\n      emitter.emit(\"once\");\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas));\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var _this2 = this;\n\n      var context = canvas.getContext(\"2d\");\n      var renderer = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().CanvasRenderer)(canvas);\n\n      renderer.onProtonUpdate = function () {\n        _this2.hue += 1;\n        context.fillStyle = getColor(_this2.props.color, 0.02) || \"rgba(0, 0, 0, 0.02)\";\n        context.fillRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleCreated = function (particle) {\n        particle.data.begin = proton_engine__WEBPACK_IMPORTED_MODULE_2___default().MathUtil.randomAToB(1, 120);\n        particle.data.tha = proton_engine__WEBPACK_IMPORTED_MODULE_2___default().MathUtil.randomAToB(0, Math.PI * 2);\n      };\n\n      renderer.onParticleUpdate = function (particle) {\n        var hue = particle.data.begin + _this2.hue;\n        particle.color = _this2.colorTemplate.replace(\"hue\", hue % 360);\n\n        var ratio = 3 / 4;\n        var radius = particle.radius * (1 - ratio) * Math.cos(particle.data.tha += 0.01) + particle.radius * ratio;\n\n        context.beginPath();\n        context.fillStyle = particle.color;\n        context.arc(particle.p.x, particle.p.y, radius, 0, Math.PI * 2, true);\n        context.closePath();\n        context.fill();\n      };\n\n      return renderer;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        raf_manager__WEBPACK_IMPORTED_MODULE_1___default().remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      var canvas = this.canvas;\n      this.proton.update();\n      if (this.index % 200 === 0) {\n        this.attraction.targetPosition.x = Math.random() * canvas.width;\n        this.attraction.targetPosition.y = Math.random() * canvas.height;\n\n        this.repulsion.targetPosition.x = Math.random() * canvas.width;\n        this.repulsion.targetPosition.y = Math.random() * canvas.height;\n      }\n\n      this.index++;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Canvas, { bg: this.props.bg,\n        onCanvasDidMount: this.onCanvasDidMount.bind(this),\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Thick;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\n\nvar Square = function (_React$Component) {\n  inherits(Square, _React$Component);\n\n  function Square(props) {\n    classCallCheck(this, Square);\n\n    var _this = possibleConstructorReturn(this, (Square.__proto__ || Object.getPrototypeOf(Square)).call(this, props));\n\n    _this.colors = [\"#fad390\", \"#81ecec\", \"#ffffff\", \"#badc58\", \"#f9ca24\", \"#FEA47F\"];\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Square, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        raf_manager__WEBPACK_IMPORTED_MODULE_1___default().remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasDidMount\",\n    value: function onCanvasDidMount(canvas) {}\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      raf_manager__WEBPACK_IMPORTED_MODULE_1___default().add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      var dis = 150;\n      this.crossZoneBehaviour.zone.width = width + 2 * dis;\n      this.crossZoneBehaviour.zone.height = height + 2 * dis;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default())();\n      var emitter = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Emitter)();\n      emitter.rate = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Rate)(this.props.num ? this.props.num : 50);\n      emitter.damping = 0;\n\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Mass)(1));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Radius)(4, 70));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Velocity)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(2, 10), new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(0), \"polar\"));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Position)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().LineZone)(0, canvas.height, canvas.width, canvas.height)));\n\n      var dis = 150;\n      var crossZoneBehaviour = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().CrossZone)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().RectZone)(0 - dis, 0 - dis, canvas.width + 2 * dis, canvas.height + 2 * dis), \"cross\");\n      emitter.addBehaviour(crossZoneBehaviour);\n      emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Alpha)(proton_engine__WEBPACK_IMPORTED_MODULE_2___default().getSpan(0.1, 0.55)));\n      emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Color)(this.colors));\n\n      emitter.emit(\"once\");\n      this.proton.addEmitter(emitter);\n      var renderer = this.createRenderer(canvas);\n      this.proton.addRenderer(renderer);\n\n      this.crossZoneBehaviour = crossZoneBehaviour;\n      emitter.preEmit(2);\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var context = canvas.getContext(\"2d\");\n      var renderer = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().CustomRenderer)();\n\n      renderer.onProtonUpdate = function () {\n        context.clearRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleCreated = function (particle) {\n        var w = particle.radius || 60;\n        var h = proton_engine__WEBPACK_IMPORTED_MODULE_2___default().MathUtil.randomAToB(100, 200, \"int\");\n        particle.data.w = w;\n        particle.data.h = h;\n      };\n\n      renderer.onParticleUpdate = function (particle) {\n        var w = particle.data.w;\n        var h = particle.data.h;\n        context.save();\n        context.globalAlpha = particle.alpha;\n        context.fillStyle = particle.color;\n\n        context.translate(particle.p.x, particle.p.y);\n        context.rotate(proton_engine__WEBPACK_IMPORTED_MODULE_2___default().MathUtil.degreeTransform(particle.rotation));\n        context.translate(-particle.p.x, -particle.p.y);\n\n        context.beginPath();\n        context.rect(particle.p.x - w / 2, particle.p.y - h / 2, w, h);\n\n        context.closePath();\n        context.fill();\n        context.globalAlpha = 1;\n        context.restore();\n      };\n\n      return renderer;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"lighter\",\n        onCanvasDidMount: this.onCanvasDidMount.bind(this),\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Square;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\n\nvar Cobweb = function (_React$Component) {\n  inherits(Cobweb, _React$Component);\n\n  function Cobweb(props) {\n    classCallCheck(this, Cobweb);\n\n    var _this = possibleConstructorReturn(this, (Cobweb.__proto__ || Object.getPrototypeOf(Cobweb)).call(this, props));\n\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Cobweb, [{\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      raf_manager__WEBPACK_IMPORTED_MODULE_1___default().add(this.renderProton);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        raf_manager__WEBPACK_IMPORTED_MODULE_1___default().remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default())();\n\n      var emitter = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Emitter)();\n      emitter.rate = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Rate)(this.props.num ? new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(this.props.num) : new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(100), new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(0.05, 0.2));\n\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Mass)(1));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Radius)(1, 4));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Life)(Infinity));\n\n      var pointZone = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Position)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().RectZone)(0, 0, width, height));\n      emitter.addInitialize(pointZone);\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Velocity)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(0.3, 0.6), new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(0, 360), \"polar\"));\n\n      emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Alpha)(proton_engine__WEBPACK_IMPORTED_MODULE_2___default().getSpan(0.2, 0.9)));\n      emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Color)(this.props.color || \"#333\"));\n      this.crossZoneBehaviour = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().CrossZone)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().RectZone)(0, 0, width, height), \"cross\");\n      emitter.addBehaviour(this.crossZoneBehaviour);\n\n      emitter.emit(\"once\");\n      emitter.damping = 0;\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas, emitter));\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas, emitter) {\n      var _this2 = this;\n\n      var context = canvas.getContext(\"2d\");\n      var renderer = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().CanvasRenderer)(canvas);\n      var R = 140;\n\n      renderer.onProtonUpdateAfter = function () {\n        var particles = emitter.particles;\n\n        for (var i = 0; i < particles.length; i++) {\n          for (var j = i + 1; j < particles.length; j++) {\n            var pA = particles[i];\n            var pB = particles[j];\n            var dis = pA.p.distanceTo(pB.p);\n\n            if (dis < R) {\n              var alpha = (1 - dis / R) * 0.5;\n              context.strokeStyle = getColor(_this2.props.color, alpha) || \"rgba(3, 3, 3, \" + alpha + \")\";\n              context.beginPath();\n              context.moveTo(pA.p.x, pA.p.y);\n              context.lineTo(pB.p.x, pB.p.y);\n              context.closePath();\n              context.stroke();\n            }\n          }\n        }\n      };\n\n      return renderer;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Cobweb;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\n\nvar Circle = function (_React$Component) {\n  inherits(Circle, _React$Component);\n\n  function Circle(props) {\n    classCallCheck(this, Circle);\n\n    var _this = possibleConstructorReturn(this, (Circle.__proto__ || Object.getPrototypeOf(Circle)).call(this, props));\n\n    _this.colors = [\"#74b9ff\", \"#e84393\", \"#6c5ce7\", \"#00b894\", \"#fdcb6e\", \"#006266\", \"#1B1464\"];\n\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Circle, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        raf_manager__WEBPACK_IMPORTED_MODULE_1___default().remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      raf_manager__WEBPACK_IMPORTED_MODULE_1___default().add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default())();\n\n      var emitter = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Emitter)();\n      emitter.rate = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Rate)(this.props.num || 20);\n      emitter.damping = 0.008;\n\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Mass)(1));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Radius)(30, 600));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Velocity)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(0.5), new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(0, 360), \"polar\"));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Position)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().RectZone)(0, 0, canvas.width, canvas.height)));\n\n      var crossZoneBehaviour = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().CrossZone)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().RectZone)(0, 0, canvas.width, canvas.height), \"cross\");\n      emitter.addBehaviour(crossZoneBehaviour);\n      emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Alpha)(proton_engine__WEBPACK_IMPORTED_MODULE_2___default().getSpan(0.35, 0.55)));\n      emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Color)(this.getColor()));\n      emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().RandomDrift)(50, 50, 0.5));\n\n      emitter.emit(\"once\");\n      this.proton.addEmitter(emitter);\n\n      var renderer = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().CanvasRenderer)(canvas);\n      this.proton.addRenderer(renderer);\n\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    }\n  }, {\n    key: \"getColor\",\n    value: function getColor() {\n      var c = this.colors;\n      if (this.props.color) {\n        if (Array.isArray(this.props.color)) {\n          c = this.props.color;\n        } else {\n          c = [this.props.color];\n        }\n      }\n\n      return c;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"darken\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Circle;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\n\nvar Tadpole = function (_React$Component) {\n  inherits(Tadpole, _React$Component);\n\n  function Tadpole(props) {\n    classCallCheck(this, Tadpole);\n\n    var _this = possibleConstructorReturn(this, (Tadpole.__proto__ || Object.getPrototypeOf(Tadpole)).call(this, props));\n\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Tadpole, [{\n    key: \"onCanvasDidMount\",\n    value: function onCanvasDidMount(canvas) {}\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      this.renderProton();\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default())();\n\n      var emitter = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Emitter)();\n      emitter.damping = 0.008;\n      emitter.rate = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Rate)(this.props.num ? this.props.num : 50);\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Mass)(1));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Radius)(5, 9));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Velocity)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(1.5), new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(0, 360), \"polar\"));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Position)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().RectZone)(0, 0, width, height)));\n\n      var mouseInfo = {\n        x: width / 2,\n        y: height / 2\n      };\n\n      var attractionBehaviour = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Attraction)(mouseInfo, 0, 0);\n      var crossZoneBehaviour = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().CrossZone)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().RectZone)(0, 0, canvas.width, canvas.height), \"bound\");\n      emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Color)(this.props.color || \"#bbb\"));\n      //emitter.addBehaviour(new Proton.Alpha(new Proton.Span(0.5, 1)));\n      emitter.addBehaviour(attractionBehaviour, crossZoneBehaviour);\n      emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().RandomDrift)(15, 15, 0.05));\n      emitter.emit(\"once\");\n\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas));\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var jointCount = 10;\n      var delayTime = 8;\n      var context = canvas.getContext(\"2d\");\n      var renderer = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().CanvasRenderer)(canvas);\n\n      renderer.onProtonUpdate = function () {\n        context.clearRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleCreated = function (particle) {\n        particle.data.points = [];\n        particle.data.index = 0;\n      };\n\n      renderer.onParticleUpdate = function (particle) {\n        drawTadpoleTail(particle);\n        if (particle.data.index % delayTime === 0) fillPointsData(particle);\n        drawTadpoleHead(particle);\n        particle.data.index++;\n      };\n\n      var fillPointsData = function fillPointsData(particle) {\n        particle.data.points.unshift(particle.p.y);\n        particle.data.points.unshift(particle.p.x);\n\n        if (particle.data.points.length > jointCount) {\n          particle.data.points.pop();\n          particle.data.points.pop();\n        }\n      };\n\n      var drawTadpoleHead = function drawTadpoleHead(particle) {\n        context.fillStyle = particle.color;\n        context.beginPath();\n        context.arc(particle.p.x, particle.p.y, particle.radius, 0, Math.PI * 2, true);\n        context.closePath();\n        context.fill();\n      };\n\n      var drawTadpoleTail = function drawTadpoleTail(particle) {\n        context.beginPath();\n        context.strokeStyle = particle.color;\n\n        context.moveTo(particle.p.x, particle.p.y);\n\n        var l = particle.data.points.length;\n        for (var i = 0; i < l; i += 2) {\n          var x = particle.data.points[i];\n          var y = particle.data.points[i + 1];\n\n          context.lineWidth = linearEvaluation(i, l);\n          context.lineTo(x, y);\n          context.stroke();\n        }\n      };\n\n      var linearEvaluation = function linearEvaluation(i, l) {\n        if (l <= 2) return 1;\n\n        var max = 6;\n        var A = (max - 1) / (2 / l - 1);\n        var B = 1 - A;\n        var X = (i + 2) / l;\n        var val = A * X + B;\n        val = val >> 0;\n\n        return val;\n      };\n\n      return renderer;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      var _this2 = this;\n\n      raf_manager__WEBPACK_IMPORTED_MODULE_1___default().add(function () {\n        _this2.proton.update();\n        //this.proton.stats.update();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasDidMount: this.onCanvasDidMount.bind(this),\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Tadpole;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\n\nvar COLOR = [\"#f6b93b\", \"#18dcff\", \"#cd84f1\", \"#ED4C67\", \"#ffffff\", \"#b71540\", \"#32ff7e\", \"#ff3838\"];\n\nvar Polygon = function (_React$Component) {\n  inherits(Polygon, _React$Component);\n\n  function Polygon(props) {\n    classCallCheck(this, Polygon);\n\n    var _this = possibleConstructorReturn(this, (Polygon.__proto__ || Object.getPrototypeOf(Polygon)).call(this, props));\n\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Polygon, [{\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas);\n      this.createEmitter({\n        canvas: canvas,\n        x: width / 2,\n        y: height / 2,\n        mainEmitter: true,\n        zone: \"bound\"\n      });\n\n      raf_manager__WEBPACK_IMPORTED_MODULE_1___default().add(this.renderProton);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        raf_manager__WEBPACK_IMPORTED_MODULE_1___default().remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {}\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas) {\n      this.proton = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default())();\n      var renderer = this.createRenderer(canvas);\n      this.proton.addRenderer(renderer);\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var context = canvas.getContext(\"2d\");\n      var renderer = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().CustomRenderer)();\n\n      renderer.onProtonUpdate = function () {\n        context.clearRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleCreated = function (particle) {\n        particle.data.count = proton_engine__WEBPACK_IMPORTED_MODULE_2___default().MathUtil.randomAToB(3, 10, true);\n      };\n\n      renderer.onParticleUpdate = function (particle) {\n        context.save();\n        context.globalAlpha = particle.alpha;\n        context.fillStyle = particle.color;\n\n        context.translate(particle.p.x, particle.p.y);\n        context.rotate(proton_engine__WEBPACK_IMPORTED_MODULE_2___default().MathUtil.degreeTransform(particle.rotation));\n        context.translate(-particle.p.x, -particle.p.y);\n\n        context.beginPath();\n        drawPolygon(particle, particle.data.count);\n\n        context.closePath();\n        context.fill();\n        context.globalAlpha = 1;\n        context.restore();\n      };\n\n      renderer.onParticleDead = function (particle) {};\n\n      var drawPolygon = function drawPolygon(particle, count) {\n        if (count >= 7) {\n          context.arc(particle.p.x, particle.p.y, particle.radius, 0, Math.PI * 2, true);\n        } else {\n          var radius = particle.radius;\n\n          for (var i = 0; i <= count; i++) {\n            var x = particle.p.x + radius * Math.cos(Math.PI / 180 * 360 / count * i);\n            var y = particle.p.y + radius * Math.sin(Math.PI / 180 * 360 / count * i);\n\n            if (i === 0) context.moveTo(x, y);else context.lineTo(x, y);\n          }\n        }\n      };\n\n      return renderer;\n    }\n  }, {\n    key: \"createEmitter\",\n    value: function createEmitter(_ref) {\n      var mainEmitter = _ref.mainEmitter,\n          canvas = _ref.canvas,\n          x = _ref.x,\n          y = _ref.y,\n          radius = _ref.radius,\n          _ref$color = _ref.color,\n          color = _ref$color === undefined ? COLOR : _ref$color,\n          _ref$zone = _ref.zone,\n          zone = _ref$zone === undefined ? \"dead\" : _ref$zone,\n          _ref$once = _ref.once,\n          once = _ref$once === undefined ? \"all\" : _ref$once,\n          _ref$alpha = _ref.alpha,\n          alpha = _ref$alpha === undefined ? 0.85 : _ref$alpha,\n          _ref$gravity = _ref.gravity,\n          gravity = _ref$gravity === undefined ? 3.5 : _ref$gravity;\n\n      var emitter = this.proton.pool.get((proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Emitter));\n\n      if (!emitter.completed) {\n        emitter.rate = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Rate)(this.props.num ? new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(this.props.num) : new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(4, 9), new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(1.6, 2.2));\n\n        var radiusInit = mainEmitter ? new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Radius)(10, 110) : new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Radius)(3, radius);\n        emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Mass)(1));\n        emitter.addInitialize(radiusInit);\n        emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Life)(3, 6));\n        emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Velocity)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(4, 6), new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(-90, 90), \"polar\"));\n\n        emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Alpha)(alpha, 0.2));\n        emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Color)(color));\n        emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Scale)(1, 0.3));\n        emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Rotate)());\n        emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Gravity)(gravity));\n\n        emitter.addBehaviour(this.customDeadBehaviour(canvas));\n        emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().CrossZone)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().RectZone)(0, 0, canvas.width, canvas.height), zone));\n      }\n\n      emitter.p.x = x;\n      emitter.p.y = y;\n      if (once === \"once\") emitter.emit(\"once\");else emitter.emit();\n\n      this.proton.addEmitter(emitter);\n      //this.expireEmitter(emitter);\n    }\n  }, {\n    key: \"expireEmitter\",\n    value: function expireEmitter(emitter) {\n      var _this2 = this;\n\n      setTimeout(function () {\n        emitter.completed = true;\n        _this2.proton.pool.expire(emitter);\n        _this2.proton.removeEmitter(emitter);\n      }, 500);\n    }\n  }, {\n    key: \"customDeadBehaviour\",\n    value: function customDeadBehaviour(canvas) {\n      var _this3 = this;\n\n      return {\n        initialize: function initialize(particle) {\n          particle.data = particle.data || {};\n          particle.data.oldRadius = particle.radius;\n          particle.data.emitterCount = 0;\n        },\n        applyBehaviour: function applyBehaviour(particle) {\n          if (particle.radius < 5) return;\n          if (particle.data.emitterCount >= 2) return;\n\n          if (particle.radius <= 1 / 3 * particle.data.oldRadius) {\n            particle.data.emitterCount++;\n            _this3.createEmitter({\n              canvas: canvas,\n              x: particle.p.x,\n              y: particle.p.y,\n              radius: particle.radius * (1 / 2),\n              alpha: 0.5,\n              gravity: 5,\n              color: particle.color,\n              once: \"once\"\n            });\n          }\n        }\n      };\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Polygon;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\n\nvar Fountain = function (_React$Component) {\n  inherits(Fountain, _React$Component);\n\n  function Fountain(props) {\n    classCallCheck(this, Fountain);\n\n    var _this = possibleConstructorReturn(this, (Fountain.__proto__ || Object.getPrototypeOf(Fountain)).call(this, props));\n\n    _this.colors = [\"#529B88\", \"#CDD180\", \"#FFFA32\", \"#FB6255\", \"#FB4A53\", \"#FF4E50\", \"#F9D423\"];\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Fountain, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        raf_manager__WEBPACK_IMPORTED_MODULE_1___default().remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      raf_manager__WEBPACK_IMPORTED_MODULE_1___default().add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {}\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default())();\n      var emitter = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Emitter)();\n      emitter.rate = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Rate)(this.props.num ? new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(this.props.num) : new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(4, 8), new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(0.1, 0.25));\n\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Mass)(1));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Radius)(20, 200));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Life)(2, 4));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Velocity)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(4, 7), new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Span)(0, 360), \"polar\"));\n      emitter.addInitialize(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Position)(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().CircleZone)(width / 2, height / 2, 100)));\n\n      emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Alpha)(1, 0));\n      emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Scale)(0.2, 1));\n      emitter.addBehaviour(this.createCustomBehaviour());\n      emitter.addBehaviour(new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Color)(this.colors, \"random\"));\n      emitter.emit();\n      this.proton.addEmitter(emitter);\n\n      var renderer = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().CanvasRenderer)(canvas);\n      this.proton.addRenderer(renderer);\n    }\n  }, {\n    key: \"createCustomBehaviour\",\n    value: function createCustomBehaviour() {\n      var f = 10 * 100;\n      return {\n        initialize: function initialize(particle) {\n          particle.f = new (proton_engine__WEBPACK_IMPORTED_MODULE_2___default().Vector2D)(0, 0);\n        },\n        applyBehaviour: function applyBehaviour(particle) {\n          var length = particle.v.length() / 1000;\n          var gradient = particle.v.getGradient();\n          gradient += 3.14 / 2;\n\n          particle.f.x = f * length * Math.cos(gradient);\n          particle.f.y = f * length * Math.sin(gradient);\n          particle.a.add(particle.f);\n        }\n      };\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"xor\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Fountain;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));\n\nvar ParticlesBg = function (_Component) {\n  inherits(ParticlesBg, _Component);\n\n  function ParticlesBg(props) {\n    classCallCheck(this, ParticlesBg);\n    return possibleConstructorReturn(this, (ParticlesBg.__proto__ || Object.getPrototypeOf(ParticlesBg)).call(this, props));\n  }\n\n  createClass(ParticlesBg, [{\n    key: \"getRandom\",\n    value: function getRandom() {\n      var _props = this.props,\n          num = _props.num,\n          bg = _props.bg,\n          color = _props.color;\n\n      // Code source from here, thanks author\n      // https://github.com/drawcall/Proton/blob/gh-pages/source/src/utils/Rand.js\n\n      if (!this.random) {\n        this.random = new Rand();\n        this.random.set(0.25, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Color, { num: num, bg: bg, color: color }));\n        this.random.set(0.2, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Ball, { num: num, bg: bg, color: color }));\n        this.random.set(0.2, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Lines, { num: num, bg: bg, color: color }));\n        this.random.set(0.16, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Thick, { num: num, bg: bg, color: color }));\n        this.random.set(0.18, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Circle, { num: num, bg: bg, color: color }));\n        this.random.set(0.04, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Cobweb, { num: num, bg: bg, color: color }));\n        this.random.set(0.1, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Polygon, { num: num, bg: bg, color: color }));\n        this.random.set(0.08, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Square, { num: num, bg: bg, color: color }));\n        this.random.set(0.18, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Tadpole, { num: num, bg: bg, color: color }));\n        this.random.set(0.15, react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Fountain, { num: num, bg: bg, color: color }));\n      }\n      return this.random.getResult();\n    }\n  }, {\n    key: \"getBgParticles\",\n    value: function getBgParticles() {\n      var _props2 = this.props,\n          type = _props2.type,\n          num = _props2.num,\n          bg = _props2.bg,\n          color = _props2.color,\n          config = _props2.config;\n\n\n      var particles = void 0;\n      switch (String(type).toLowerCase()) {\n        case \"color\":\n          particles = react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Color, { num: num, bg: bg, color: color });\n          break;\n        case \"ball\":\n          particles = react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Ball, { num: num, bg: bg, color: color });\n          break;\n        case \"lines\":\n          particles = react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Lines, { num: num, bg: bg, color: color });\n          break;\n        case \"thick\":\n          particles = react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Thick, { num: num, bg: bg, color: color });\n          break;\n        case \"circle\":\n          particles = react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Circle, { num: num, bg: bg, color: color });\n          break;\n        case \"cobweb\":\n          particles = react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Cobweb, { num: num, bg: bg, color: color });\n          break;\n        case \"polygon\":\n          particles = react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Polygon, { num: num, bg: bg, color: color });\n          break;\n        case \"square\":\n          particles = react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Square, { num: num, bg: bg, color: color });\n          break;\n        case \"tadpole\":\n          particles = react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Tadpole, { num: num, bg: bg, color: color });\n          break;\n        case \"fountain\":\n          particles = react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Fountain, { num: num, bg: bg, color: color });\n          break;\n        case \"custom\":\n          particles = react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Color$1, { bg: bg, config: config });\n          break;\n        case \"random\":\n          particles = this.getRandom(num);\n          break;\n\n        default:\n          particles = react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Color, { num: num, bg: bg, color: color });\n          break;\n      }\n\n      return particles;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var particles = this.getBgParticles();\n      return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n        (react__WEBPACK_IMPORTED_MODULE_0___default().Fragment),\n        null,\n        particles\n      );\n    }\n  }]);\n  return ParticlesBg;\n}(react__WEBPACK_IMPORTED_MODULE_0__.Component);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ParticlesBg);\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9wYXJ0aWNsZXMtYmdAMi41LjUvbm9kZV9tb2R1bGVzL3BhcnRpY2xlcy1iZy9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBeUM7QUFDSjtBQUNGOztBQUVuQztBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHNCQUFzQjtBQUNsRDtBQUNBOztBQUVBLDZCQUE2Qix1QkFBdUI7QUFDcEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsc0JBQXNCO0FBQ2xEOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CLHNCQUFzQixzREFBZTtBQUNyQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLE1BQU0sd0RBQWdCO0FBQ3RCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxNQUFNLHVEQUFlO0FBQ3JCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0I7O0FBRXBCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxhQUFhLDBEQUFtQixhQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUMsQ0FBQyx3REFBZTs7QUFFakI7QUFDQSw4QkFBOEIsRUFBRSxVQUFVLEVBQUUsVUFBVSxFQUFFO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sc0RBQWM7QUFDcEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5REFBaUI7QUFDekI7QUFDQSxRQUFRO0FBQ1I7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3QkFBd0Isc0RBQU07O0FBRTlCLHdCQUF3Qiw4REFBYztBQUN0Qyx5QkFBeUIsMkRBQVcsc0JBQXNCLDJEQUFXLHVCQUF1QiwyREFBVyxZQUFZLDJEQUFXOztBQUU5SCxnQ0FBZ0MsMkRBQVc7QUFDM0MsZ0NBQWdDLDZEQUFhO0FBQzdDLGdDQUFnQywyREFBVztBQUMzQyxnQ0FBZ0MsK0RBQWUsS0FBSywyREFBVyxZQUFZLDJEQUFXOztBQUV0RiwrQkFBK0IsNERBQVk7QUFDM0MsK0JBQStCLDREQUFZO0FBQzNDLCtCQUErQiw0REFBWTtBQUMzQywrQkFBK0IsOERBQWM7QUFDN0MsK0JBQStCLGdFQUFnQjtBQUMvQztBQUNBLCtCQUErQixnRUFBZ0IsS0FBSywrREFBZTs7QUFFbkU7QUFDQTtBQUNBO0FBQ0E7O0FBRUEseUJBQXlCLHFFQUFxQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSw0QkFBNEIsOERBQWM7QUFDMUMsNkJBQTZCLDJEQUFXLEtBQUssMkRBQVcsWUFBWSwyREFBVzs7QUFFL0Usb0NBQW9DLDJEQUFXO0FBQy9DLHlDQUF5Qyw2REFBYTtBQUN0RDtBQUNBLG9DQUFvQywyREFBVztBQUMvQyxvQ0FBb0Msd0RBQVEsS0FBSywyREFBVyxjQUFjLDJEQUFXOztBQUVyRix1Q0FBdUMsNERBQVk7QUFDbkQsbUNBQW1DLDREQUFZO0FBQy9DO0FBQ0EsbUNBQW1DLDhEQUFjO0FBQ2pELG1DQUFtQyxnRUFBZ0I7QUFDbkQsbUNBQW1DLGdFQUFnQixLQUFLLCtEQUFlO0FBQ3ZFOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxhQUFhLDBEQUFtQixXQUFXO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUMsQ0FBQyx3REFBZTs7QUFFakI7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5REFBaUI7QUFDekI7QUFDQSxRQUFRO0FBQ1I7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsTUFBTSxzREFBYztBQUNwQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSx3QkFBd0Isc0RBQU07QUFDOUIsd0JBQXdCLDhEQUFjO0FBQ3RDLHlCQUF5QiwyREFBVyxzQkFBc0IsMkRBQVcsdUJBQXVCLDJEQUFXLFlBQVksMkRBQVc7O0FBRTlILGdDQUFnQywyREFBVztBQUMzQyxnQ0FBZ0MsNkRBQWE7QUFDN0MsZ0NBQWdDLDJEQUFXO0FBQzNDLGdDQUFnQywrREFBZSxLQUFLLCtEQUFlOztBQUVuRSwrQkFBK0IsNERBQVksaUJBQWlCLG1FQUFtQjtBQUMvRSwrQkFBK0IsNERBQVksaUJBQWlCLG1FQUFtQjtBQUMvRSwrQkFBK0IsNERBQVk7O0FBRTNDO0FBQ0E7O0FBRUEseUJBQXlCLHFFQUFxQjtBQUM5QztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxhQUFhLDBEQUFtQixXQUFXO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUMsQ0FBQyx3REFBZTs7QUFFakI7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHlEQUFpQjtBQUNqQztBQUNBLGNBQWM7QUFDZDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxZQUFZLHNEQUFjO0FBQzFCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwyREFBVztBQUN0QyxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw4QkFBOEIsc0RBQU07QUFDcEM7QUFDQTtBQUNBLDhCQUE4QixvRUFBb0I7QUFDbEQsY0FBYztBQUNkLDhCQUE4Qiw4REFBYztBQUM1QztBQUNBLCtCQUErQiwyREFBVzs7QUFFMUMsc0NBQXNDLDJEQUFXO0FBQ2pELHNDQUFzQyw2REFBYTtBQUNuRCxzQ0FBc0MsMkRBQVc7QUFDakQsc0NBQXNDLCtEQUFlO0FBQ3JELGdEQUFnRCwyREFBVzs7QUFFM0Q7QUFDQTtBQUNBLDBCQUEwQiwrREFBZSxLQUFLLCtEQUFlO0FBQzdELGNBQWM7QUFDZCwwQkFBMEIsK0RBQWUsS0FBSywrREFBZTtBQUM3RCxjQUFjO0FBQ2Q7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EscUNBQXFDLDREQUFZLDJCQUEyQiw0REFBWTtBQUN4RixxQ0FBcUMsNERBQVksMkJBQTJCLDREQUFZO0FBQ3hGLHFDQUFxQyw0REFBWSwyQkFBMkIsNERBQVk7O0FBRXhGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNkNBQTZDLDZEQUFhO0FBQzFELGtCQUFrQjtBQUNsQiw2Q0FBNkMsNkRBQWE7QUFDMUQ7QUFDQTs7QUFFQSwyQkFBMkIsK0RBQWU7QUFDMUMseUNBQXlDLGdFQUFnQjtBQUN6RDs7QUFFQSwrQ0FBK0Msa0VBQWtCO0FBQ2pFLDBDQUEwQyx3REFBUTtBQUNsRCwwQ0FBMEMsd0RBQVE7O0FBRWxEO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixxRUFBcUI7O0FBRXBEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBLG1CQUFtQiwwREFBbUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUMsQ0FBQyx3REFBZTs7QUFFakI7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlEQUFpQjtBQUN6QjtBQUNBLFFBQVE7QUFDUjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxNQUFNLHNEQUFjO0FBQ3BCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0Esd0JBQXdCLHNEQUFNOztBQUU5Qix3QkFBd0IsOERBQWM7QUFDdEM7QUFDQSx5QkFBeUIsMkRBQVc7QUFDcEMsZ0NBQWdDLDJEQUFXO0FBQzNDLGdDQUFnQyw2REFBYTtBQUM3QyxnQ0FBZ0MsK0RBQWUsS0FBSywyREFBVyxXQUFXLDJEQUFXO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9DQUFvQyxpRUFBaUI7QUFDckQsbUNBQW1DLGdFQUFnQixLQUFLLCtEQUFlO0FBQ3ZFLCtCQUErQiw0REFBWTtBQUMzQztBQUNBLCtCQUErQixrRUFBa0I7QUFDakQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlCQUF5QixxRUFBcUI7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGFBQWEsMERBQW1CLFdBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDLENBQUMsd0RBQWU7O0FBRWpCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHNEQUFjO0FBQ3BCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0Esd0JBQXdCLHNEQUFNOztBQUU5Qix3QkFBd0IsOERBQWM7QUFDdEM7QUFDQSx5QkFBeUIsMkRBQVc7O0FBRXBDO0FBQ0EsZ0NBQWdDLDJEQUFXO0FBQzNDLGdDQUFnQyw2REFBYTtBQUM3QyxnQ0FBZ0Msd0RBQVEsS0FBSywyREFBVyxnQkFBZ0IsMkRBQVc7QUFDbkYsZ0NBQWdDLCtEQUFlLEtBQUssaUVBQWlCOztBQUVyRTtBQUNBLG1DQUFtQyxnRUFBZ0IsS0FBSywrREFBZTtBQUN2RTtBQUNBLDJCQUEyQixnRUFBZ0I7QUFDM0M7QUFDQTtBQUNBLE9BQU87O0FBRVAsNEJBQTRCLGlFQUFpQjtBQUM3QztBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsK0JBQStCLDREQUFZO0FBQzNDLCtCQUErQixrRUFBa0I7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0EseUJBQXlCLHFFQUFxQjs7QUFFOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhCQUE4Qiw2REFBZTtBQUM3Qyw0QkFBNEIsNkRBQWU7QUFDM0M7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5REFBaUI7QUFDekI7QUFDQSxRQUFRO0FBQ1I7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGFBQWEsMERBQW1CLFdBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQyxDQUFDLHdEQUFlOztBQUVqQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlEQUFpQjtBQUN6QjtBQUNBLFFBQVE7QUFDUjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLE1BQU0sc0RBQWM7QUFDcEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLHdCQUF3QixzREFBTTtBQUM5Qix3QkFBd0IsOERBQWM7QUFDdEMseUJBQXlCLDJEQUFXO0FBQ3BDOztBQUVBLGdDQUFnQywyREFBVztBQUMzQyxnQ0FBZ0MsNkRBQWE7QUFDN0MsZ0NBQWdDLCtEQUFlLEtBQUssMkRBQVcsYUFBYSwyREFBVztBQUN2RixnQ0FBZ0MsK0RBQWUsS0FBSywrREFBZTs7QUFFbkU7QUFDQSxtQ0FBbUMsZ0VBQWdCLEtBQUssK0RBQWU7QUFDdkU7QUFDQSwrQkFBK0IsNERBQVksQ0FBQyw0REFBYztBQUMxRCwrQkFBK0IsNERBQVk7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIscUVBQXFCOztBQUU5QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQiw2REFBZTtBQUMvQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCLDZEQUFlO0FBQ3RDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxhQUFhLDBEQUFtQixXQUFXO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQyxDQUFDLHdEQUFlOztBQUVqQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxzREFBYztBQUNwQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlEQUFpQjtBQUN6QjtBQUNBLFFBQVE7QUFDUjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLHdCQUF3QixzREFBTTs7QUFFOUIsd0JBQXdCLDhEQUFjO0FBQ3RDLHlCQUF5QiwyREFBVyxzQkFBc0IsMkRBQVcsdUJBQXVCLDJEQUFXLFdBQVcsMkRBQVc7O0FBRTdILGdDQUFnQywyREFBVztBQUMzQyxnQ0FBZ0MsNkRBQWE7QUFDN0MsZ0NBQWdDLDJEQUFXOztBQUUzQywwQkFBMEIsK0RBQWUsS0FBSywrREFBZTtBQUM3RDtBQUNBLGdDQUFnQywrREFBZSxLQUFLLDJEQUFXLGdCQUFnQiwyREFBVzs7QUFFMUYsK0JBQStCLDREQUFZLENBQUMsNERBQWM7QUFDMUQsK0JBQStCLDREQUFZO0FBQzNDLG9DQUFvQyxnRUFBZ0IsS0FBSywrREFBZTtBQUN4RTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlCQUF5QixxRUFBcUI7QUFDOUM7O0FBRUE7QUFDQTs7QUFFQSx3QkFBd0Isc0JBQXNCO0FBQzlDLDhCQUE4QixzQkFBc0I7QUFDcEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxhQUFhLDBEQUFtQixXQUFXO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUMsQ0FBQyx3REFBZTs7QUFFakI7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEseURBQWlCO0FBQ3pCO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLE1BQU0sc0RBQWM7QUFDcEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSx3QkFBd0Isc0RBQU07O0FBRTlCLHdCQUF3Qiw4REFBYztBQUN0Qyx5QkFBeUIsMkRBQVc7QUFDcEM7O0FBRUEsZ0NBQWdDLDJEQUFXO0FBQzNDLGdDQUFnQyw2REFBYTtBQUM3QyxnQ0FBZ0MsK0RBQWUsS0FBSywyREFBVyxXQUFXLDJEQUFXO0FBQ3JGLGdDQUFnQywrREFBZSxLQUFLLCtEQUFlOztBQUVuRSxtQ0FBbUMsZ0VBQWdCLEtBQUssK0RBQWU7QUFDdkU7QUFDQSwrQkFBK0IsNERBQVksQ0FBQyw0REFBYztBQUMxRCwrQkFBK0IsNERBQVk7QUFDM0MsK0JBQStCLGtFQUFrQjs7QUFFakQ7QUFDQTs7QUFFQSx5QkFBeUIscUVBQXFCO0FBQzlDOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxhQUFhLDBEQUFtQixXQUFXO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUMsQ0FBQyx3REFBZTs7QUFFakI7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLHdCQUF3QixzREFBTTs7QUFFOUIsd0JBQXdCLDhEQUFjO0FBQ3RDO0FBQ0EseUJBQXlCLDJEQUFXO0FBQ3BDLGdDQUFnQywyREFBVztBQUMzQyxnQ0FBZ0MsNkRBQWE7QUFDN0MsZ0NBQWdDLCtEQUFlLEtBQUssMkRBQVcsV0FBVywyREFBVztBQUNyRixnQ0FBZ0MsK0RBQWUsS0FBSywrREFBZTs7QUFFbkU7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0NBQW9DLGlFQUFpQjtBQUNyRCxtQ0FBbUMsZ0VBQWdCLEtBQUssK0RBQWU7QUFDdkUsK0JBQStCLDREQUFZO0FBQzNDO0FBQ0E7QUFDQSwrQkFBK0Isa0VBQWtCO0FBQ2pEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIscUVBQXFCOztBQUU5QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBLE1BQU0sc0RBQWM7QUFDcEI7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsYUFBYSwwREFBbUIsV0FBVztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUMsQ0FBQyx3REFBZTs7QUFFakI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVAsTUFBTSxzREFBYztBQUNwQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlEQUFpQjtBQUN6QjtBQUNBLFFBQVE7QUFDUjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSx3QkFBd0Isc0RBQU07QUFDOUI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixxRUFBcUI7O0FBRTlDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhCQUE4Qiw2REFBZTtBQUM3Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVCQUF1Qiw2REFBZTtBQUN0Qzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWOztBQUVBLDBCQUEwQixZQUFZO0FBQ3RDO0FBQ0E7O0FBRUEsOENBQThDO0FBQzlDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEseUNBQXlDLDhEQUFjOztBQUV2RDtBQUNBLDJCQUEyQiwyREFBVyxzQkFBc0IsMkRBQVcsdUJBQXVCLDJEQUFXLFlBQVksMkRBQVc7O0FBRWhJLDJDQUEyQyw2REFBYSxnQkFBZ0IsNkRBQWE7QUFDckYsa0NBQWtDLDJEQUFXO0FBQzdDO0FBQ0Esa0NBQWtDLDJEQUFXO0FBQzdDLGtDQUFrQywrREFBZSxLQUFLLDJEQUFXLFlBQVksMkRBQVc7O0FBRXhGLGlDQUFpQyw0REFBWTtBQUM3QyxpQ0FBaUMsNERBQVk7QUFDN0MsaUNBQWlDLDREQUFZO0FBQzdDLGlDQUFpQyw2REFBYTtBQUM5QyxpQ0FBaUMsOERBQWM7O0FBRS9DO0FBQ0EsaUNBQWlDLGdFQUFnQixLQUFLLCtEQUFlO0FBQ3JFOztBQUVBO0FBQ0E7QUFDQSxnREFBZ0Q7O0FBRWhEO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGFBQWEsMERBQW1CLFdBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQyxDQUFDLHdEQUFlOztBQUVqQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlEQUFpQjtBQUN6QjtBQUNBLFFBQVE7QUFDUjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxNQUFNLHNEQUFjO0FBQ3BCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLHdCQUF3QixzREFBTTtBQUM5Qix3QkFBd0IsOERBQWM7QUFDdEMseUJBQXlCLDJEQUFXLHNCQUFzQiwyREFBVyx1QkFBdUIsMkRBQVcsWUFBWSwyREFBVzs7QUFFOUgsZ0NBQWdDLDJEQUFXO0FBQzNDLGdDQUFnQyw2REFBYTtBQUM3QyxnQ0FBZ0MsMkRBQVc7QUFDM0MsZ0NBQWdDLCtEQUFlLEtBQUssMkRBQVcsWUFBWSwyREFBVztBQUN0RixnQ0FBZ0MsK0RBQWUsS0FBSyxpRUFBaUI7O0FBRXJFLCtCQUErQiw0REFBWTtBQUMzQywrQkFBK0IsNERBQVk7QUFDM0M7QUFDQSwrQkFBK0IsNERBQVk7QUFDM0M7QUFDQTs7QUFFQSx5QkFBeUIscUVBQXFCO0FBQzlDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwrREFBZTtBQUMxQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxhQUFhLDBEQUFtQixXQUFXO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUMsQ0FBQyx3REFBZTs7QUFFakI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw4QkFBOEIsMERBQW1CLFVBQVUsZ0NBQWdDO0FBQzNGLDZCQUE2QiwwREFBbUIsU0FBUyxnQ0FBZ0M7QUFDekYsNkJBQTZCLDBEQUFtQixVQUFVLGdDQUFnQztBQUMxRiw4QkFBOEIsMERBQW1CLFVBQVUsZ0NBQWdDO0FBQzNGLDhCQUE4QiwwREFBbUIsV0FBVyxnQ0FBZ0M7QUFDNUYsOEJBQThCLDBEQUFtQixXQUFXLGdDQUFnQztBQUM1Riw2QkFBNkIsMERBQW1CLFlBQVksZ0NBQWdDO0FBQzVGLDhCQUE4QiwwREFBbUIsV0FBVyxnQ0FBZ0M7QUFDNUYsOEJBQThCLDBEQUFtQixZQUFZLGdDQUFnQztBQUM3Riw4QkFBOEIsMERBQW1CLGFBQWEsZ0NBQWdDO0FBQzlGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMERBQW1CLFVBQVUsZ0NBQWdDO0FBQ25GO0FBQ0E7QUFDQSxzQkFBc0IsMERBQW1CLFNBQVMsZ0NBQWdDO0FBQ2xGO0FBQ0E7QUFDQSxzQkFBc0IsMERBQW1CLFVBQVUsZ0NBQWdDO0FBQ25GO0FBQ0E7QUFDQSxzQkFBc0IsMERBQW1CLFVBQVUsZ0NBQWdDO0FBQ25GO0FBQ0E7QUFDQSxzQkFBc0IsMERBQW1CLFdBQVcsZ0NBQWdDO0FBQ3BGO0FBQ0E7QUFDQSxzQkFBc0IsMERBQW1CLFdBQVcsZ0NBQWdDO0FBQ3BGO0FBQ0E7QUFDQSxzQkFBc0IsMERBQW1CLFlBQVksZ0NBQWdDO0FBQ3JGO0FBQ0E7QUFDQSxzQkFBc0IsMERBQW1CLFdBQVcsZ0NBQWdDO0FBQ3BGO0FBQ0E7QUFDQSxzQkFBc0IsMERBQW1CLFlBQVksZ0NBQWdDO0FBQ3JGO0FBQ0E7QUFDQSxzQkFBc0IsMERBQW1CLGFBQWEsZ0NBQWdDO0FBQ3RGO0FBQ0E7QUFDQSxzQkFBc0IsMERBQW1CLFlBQVksd0JBQXdCO0FBQzdFO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCLDBEQUFtQixVQUFVLGdDQUFnQztBQUNuRjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsYUFBYSwwREFBbUI7QUFDaEMsUUFBUSx1REFBYztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUMsQ0FBQyw0Q0FBUzs7QUFFWCwrREFBZSxXQUFXLEVBQUM7QUFDM0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3BhcnRpY2xlcy1iZ0AyLjUuNS9ub2RlX21vZHVsZXMvcGFydGljbGVzLWJnL2Rpc3QvaW5kZXguZXMuanM/ZGU5NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJBRk1hbmFnZXIgZnJvbSAncmFmLW1hbmFnZXInO1xuaW1wb3J0IFByb3RvbiBmcm9tICdwcm90b24tZW5naW5lJztcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmo7XG59IDogZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbn07XG5cbnZhciBjbGFzc0NhbGxDaGVjayA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG52YXIgY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7XG5cbnZhciBpbmhlcml0cyA9IGZ1bmN0aW9uIChzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7XG4gIH1cblxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbn07XG5cbnZhciBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuID0gZnVuY3Rpb24gKHNlbGYsIGNhbGwpIHtcbiAgaWYgKCFzZWxmKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG59O1xuXG4vLyBDb2RlIHNvdXJjZSBmcm9tIGhlcmUsIHRoYW5rcyBhdXRob3Jcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kcmF3Y2FsbC9Qcm90b24vYmxvYi9naC1wYWdlcy9zb3VyY2Uvc3JjL3V0aWxzL1JhbmQuanNcbnZhciBSYW5kID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJhbmQoKSB7XG4gICAgICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIFJhbmQpO1xuXG4gICAgICAgIHRoaXMubGlzdCA9IFtdO1xuICAgIH1cblxuICAgIGNyZWF0ZUNsYXNzKFJhbmQsIFt7XG4gICAgICAgIGtleTogXCJzZXRcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldCQkMShwcm9iYWJpbGl0eSwgdGFyZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLmxpc3QucHVzaCh7XG4gICAgICAgICAgICAgICAgcHJvYmFiaWxpdHk6IHByb2JhYmlsaXR5LFxuICAgICAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgICAgICAgICAgIGE6IDAsXG4gICAgICAgICAgICAgICAgYjogMVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRpb24oKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImNhbGN1bGF0aW9uXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjYWxjdWxhdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0b3RhbCA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRvdGFsICs9IHRoaXMubGlzdFtpXS5wcm9iYWJpbGl0eTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRoaXMubGlzdC5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0gdGhpcy5saXN0W19pXTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gb2JqLnByb2JhYmlsaXR5IC8gdG90YWw7XG5cbiAgICAgICAgICAgICAgICBvYmouYSA9IF9pID09PSAwID8gMCA6IHRoaXMubGlzdFtfaSAtIDFdLmI7XG4gICAgICAgICAgICAgICAgb2JqLmIgPSBvYmouYSArIHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImdldFJlc3VsdFwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UmVzdWx0KCkge1xuICAgICAgICAgICAgdmFyIHZhbCA9IE1hdGgucmFuZG9tKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBvYmogPSB0aGlzLmxpc3RbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAodmFsIDw9IG9iai5iICYmIHZhbCA+IG9iai5hKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmoudGFyZ2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdFswXS50YXJnZXQ7XG4gICAgICAgIH1cbiAgICB9XSk7XG4gICAgcmV0dXJuIFJhbmQ7XG59KCk7XG5cbnZhciBDYW52YXMgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBpbmhlcml0cyhDYW52YXMsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENhbnZhcyhwcm9wcykge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIENhbnZhcyk7XG5cbiAgICB2YXIgX3RoaXMgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDYW52YXMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDYW52YXMpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5faWlkID0gMDtcbiAgICBfdGhpcy5fb2lkID0gMDtcbiAgICBfdGhpcy5zaXplID0geyB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG4gICAgX3RoaXMuY2FudmFzUmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoQ2FudmFzLCBbe1xuICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB0aGlzLl9vaWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMyLmluaXRDYW52YXMoKTtcbiAgICAgICAgX3RoaXMyLnJlc2l6ZSA9IF90aGlzMi5yZXNpemUuYmluZChfdGhpczIpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBfdGhpczIucmVzaXplKTtcbiAgICAgIH0sIDEwMCk7XG5cbiAgICAgIHZhciBjYW52YXMgPSB0aGlzLmdldENhbnZhcygpO1xuICAgICAgdGhpcy5wcm9wcy5vbkNhbnZhc0RpZE1vdW50ICYmIHRoaXMucHJvcHMub25DYW52YXNEaWRNb3VudChjYW52YXMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpbml0Q2FudmFzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRDYW52YXMoKSB7XG4gICAgICB2YXIgY2FudmFzID0gdGhpcy5nZXRDYW52YXMoKTtcblxuICAgICAgaWYgKHRoaXMucHJvcHMuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSB0aGlzLnByb3BzLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIF9zZXRDYW52YXNTaXplID0gdGhpcy5zZXRDYW52YXNTaXplKGNhbnZhcyksXG4gICAgICAgICAgd2lkdGggPSBfc2V0Q2FudmFzU2l6ZS53aWR0aCxcbiAgICAgICAgICBoZWlnaHQgPSBfc2V0Q2FudmFzU2l6ZS5oZWlnaHQ7XG5cbiAgICAgIHRoaXMuaGVhcnRiZWF0RGV0ZWN0aW9uQ2FudmFzU2l6ZShjYW52YXMpO1xuICAgICAgdGhpcy5wcm9wcy5vbkNhbnZhc0luaXRlZChjYW52YXMsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRDYW52YXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2FudmFzKCkge1xuICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgICByZXR1cm4gY2FudmFzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJoZWFydGJlYXREZXRlY3Rpb25DYW52YXNTaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhlYXJ0YmVhdERldGVjdGlvbkNhbnZhc1NpemUoY2FudmFzKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdGhpcy5faWlkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXMzLmNhbnZhc1JlZi5jdXJyZW50KSB7XG4gICAgICAgICAgdmFyIG5ld0hlaWdodCA9IF90aGlzMy5jYW52YXNSZWYuY3VycmVudC5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgaWYgKG5ld0hlaWdodCAhPT0gX3RoaXMzLnNpemUuaGVpZ2h0KSB7XG4gICAgICAgICAgICB2YXIgX3NldENhbnZhc1NpemUyID0gX3RoaXMzLnNldENhbnZhc1NpemUoY2FudmFzKSxcbiAgICAgICAgICAgICAgICB3aWR0aCA9IF9zZXRDYW52YXNTaXplMi53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBfc2V0Q2FudmFzU2l6ZTIuaGVpZ2h0O1xuXG4gICAgICAgICAgICBfdGhpczMucHJvcHMub25SZXNpemUgJiYgX3RoaXMzLnByb3BzLm9uUmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgMTAwMCAvIDEwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50V2lsbFVubW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICB0cnkge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLnJlc2l6ZSk7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faWlkKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX29pZCk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZXNpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzaXplKCkge1xuICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuZ2V0Q2FudmFzKCk7XG5cbiAgICAgIHZhciBfc2V0Q2FudmFzU2l6ZTMgPSB0aGlzLnNldENhbnZhc1NpemUoY2FudmFzKSxcbiAgICAgICAgICB3aWR0aCA9IF9zZXRDYW52YXNTaXplMy53aWR0aCxcbiAgICAgICAgICBoZWlnaHQgPSBfc2V0Q2FudmFzU2l6ZTMuaGVpZ2h0O1xuXG4gICAgICB0aGlzLnByb3BzLm9uUmVzaXplICYmIHRoaXMucHJvcHMub25SZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldENhbnZhc1NpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q2FudmFzU2l6ZShjYW52YXMpIHtcbiAgICAgIHZhciB3aWR0aCA9IHRoaXMuY2FudmFzUmVmLmN1cnJlbnQuY2xpZW50V2lkdGg7XG4gICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5jYW52YXNSZWYuY3VycmVudC5jbGllbnRIZWlnaHQ7XG5cbiAgICAgIHRoaXMuc2l6ZS53aWR0aCA9IHdpZHRoO1xuICAgICAgdGhpcy5zaXplLmhlaWdodCA9IGhlaWdodDtcbiAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgIHJldHVybiB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaGFuZGxlV2F5cG9pbnRFbnRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVXYXlwb2ludEVudGVyKCkge1xuICAgICAgUkFGTWFuYWdlci5zdGFydCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJoYW5kbGVXYXlwb2ludExlYXZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVdheXBvaW50TGVhdmUoKSB7XG4gICAgICBSQUZNYW5hZ2VyLnN0b3AoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0U3R5bGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3R5bGUoKSB7XG4gICAgICB2YXIgYmcgPSB0aGlzLnByb3BzLmJnO1xuXG4gICAgICB2YXIgc3R5bGUgPSB7IHdpZHRoOiBcIjEwMCVcIiwgaGVpZ2h0OiBcIjEwMCVcIiB9O1xuXG4gICAgICBpZiAoYmcgPT09IHRydWUpIHtcbiAgICAgICAgc3R5bGUgPSBPYmplY3QuYXNzaWduKHN0eWxlLCB7XG4gICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICB6SW5kZXg6IC0xLFxuICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICBsZWZ0OiAwXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChiZyAmJiAodHlwZW9mIGJnID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoYmcpKSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBzdHlsZSA9IE9iamVjdC5hc3NpZ24oc3R5bGUsIGJnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0eWxlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJoYW5kbGVNb3VzZURvd25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duKGUpIHtcbiAgICAgIHRoaXMucHJvcHMub25Nb3VzZURvd24gJiYgdGhpcy5wcm9wcy5vbk1vdXNlRG93bihlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIsIHsgY2xhc3NOYW1lOiBcInBhcnRpY2xlcy1iZy1jYW52YXMtc2VsZlwiLFxuICAgICAgICByZWY6IHRoaXMuY2FudmFzUmVmLFxuICAgICAgICBvbk1vdXNlRG93bjogdGhpcy5oYW5kbGVNb3VzZURvd24uYmluZCh0aGlzKSxcbiAgICAgICAgc3R5bGU6IHRoaXMuZ2V0U3R5bGUoKVxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDYW52YXM7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmZ1bmN0aW9uIGhleFRvUmdiKGhleCkge1xuICAgIHZhciByZXN1bHQgPSAvXiM/KFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pJC9pLmV4ZWMoaGV4KTtcbiAgICByZXR1cm4gcmVzdWx0ID8ge1xuICAgICAgICByOiBwYXJzZUludChyZXN1bHRbMV0sIDE2KSxcbiAgICAgICAgZzogcGFyc2VJbnQocmVzdWx0WzJdLCAxNiksXG4gICAgICAgIGI6IHBhcnNlSW50KHJlc3VsdFszXSwgMTYpXG4gICAgfSA6IHt9O1xufVxuXG5mdW5jdGlvbiBnZXRDb2xvcihjb2xvciwgYSkge1xuICAgIHZhciBjID0gdm9pZCAwO1xuICAgIGlmIChjb2xvcikge1xuICAgICAgICBjID0gaGV4VG9SZ2IoY29sb3IpO1xuICAgICAgICByZXR1cm4gXCJyZ2JhKFwiICsgYy5yICsgXCIsXCIgKyBjLmcgKyBcIixcIiArIGMuYiArIFwiLCBcIiArIGEgKyBcIilcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbnZhciBCYWxsID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgaW5oZXJpdHMoQmFsbCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQmFsbChwcm9wcykge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIEJhbGwpO1xuXG4gICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQmFsbC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEJhbGwpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5yZW5kZXJQcm90b24gPSBfdGhpcy5yZW5kZXJQcm90b24uYmluZChfdGhpcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoQmFsbCwgW3tcbiAgICBrZXk6IFwib25DYW52YXNJbml0ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25DYW52YXNJbml0ZWQoY2FudmFzLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB0aGlzLmNyZWF0ZVByb3RvbihjYW52YXMsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgdGhpcy5jcmVhdGVNaW5pRW1pdHRlcihjYW52YXMpO1xuICAgICAgUkFGTWFuYWdlci5hZGQodGhpcy5yZW5kZXJQcm90b24pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIFJBRk1hbmFnZXIucmVtb3ZlKHRoaXMucmVuZGVyUHJvdG9uKTtcbiAgICAgICAgdGhpcy5wcm90b24uZGVzdHJveSgpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25SZXNpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SZXNpemUoKSB7fVxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZVByb3RvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVQcm90b24oY2FudmFzLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgdGhpcy5wcm90b24gPSBuZXcgUHJvdG9uKCk7XG5cbiAgICAgIHZhciBlbWl0dGVyID0gbmV3IFByb3Rvbi5FbWl0dGVyKCk7XG4gICAgICBlbWl0dGVyLnJhdGUgPSBuZXcgUHJvdG9uLlJhdGUodGhpcy5wcm9wcy5udW0gPyBuZXcgUHJvdG9uLlNwYW4odGhpcy5wcm9wcy5udW0pIDogbmV3IFByb3Rvbi5TcGFuKDQsIDkpLCBuZXcgUHJvdG9uLlNwYW4oMC44LCAxLjMpKTtcblxuICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uTWFzcygxKSk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5SYWRpdXMoMSwgNTApKTtcbiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLkxpZmUoNSwgNikpO1xuICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uVmVsb2NpdHkobmV3IFByb3Rvbi5TcGFuKDUsIDgpLCBuZXcgUHJvdG9uLlNwYW4oMzAsIDcwKSwgXCJwb2xhclwiKSk7XG5cbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uQWxwaGEoMSwgMCkpO1xuICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5Db2xvcihbXCIjMzZhYWYzXCIsIFwiI2ZkNzY5Y1wiLCBcIiM5NGZmMjJcIiwgXCIjZmZhNTQ1XCIsIFwiI2ZmZmZmZlwiXSkpO1xuICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5TY2FsZSgwLjcsIDEpKTtcbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uR3Jhdml0eSgzKSk7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkNvbGxpc2lvbihlbWl0dGVyKSk7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cih0aGlzLmN1c3RvbURlYWRCZWhhdmlvdXIoY2FudmFzKSk7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkNyb3NzWm9uZShuZXcgUHJvdG9uLlJlY3Rab25lKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCksIFwiYm91bmRcIikpO1xuXG4gICAgICBlbWl0dGVyLnAueCA9IE1hdGgubWluKDUwMCwgTWF0aC5tYXgoY2FudmFzLndpZHRoIC8gMiAtIDQwMCwgNTApKTtcbiAgICAgIGVtaXR0ZXIucC55ID0gY2FudmFzLmhlaWdodCAvIDIgKyA1MDtcbiAgICAgIGVtaXR0ZXIuZW1pdCgpO1xuICAgICAgdGhpcy5wcm90b24uYWRkRW1pdHRlcihlbWl0dGVyKTtcblxuICAgICAgdmFyIHJlbmRlcmVyID0gbmV3IFByb3Rvbi5DYW52YXNSZW5kZXJlcihjYW52YXMpO1xuICAgICAgcmVuZGVyZXIub25Qcm90b25VcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZ2V0Q29sb3IoX3RoaXMyLnByb3BzLmNvbG9yLCAwLjIpIHx8IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpXCI7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgIH07XG4gICAgICB0aGlzLnByb3Rvbi5hZGRSZW5kZXJlcihyZW5kZXJlcik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImN1c3RvbURlYWRCZWhhdmlvdXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3VzdG9tRGVhZEJlaGF2aW91cihjYW52YXMpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHBhcnRpY2xlKSB7fSxcbiAgICAgICAgYXBwbHlCZWhhdmlvdXI6IGZ1bmN0aW9uIGFwcGx5QmVoYXZpb3VyKHBhcnRpY2xlKSB7XG4gICAgICAgICAgaWYgKHBhcnRpY2xlLnAueSArIHBhcnRpY2xlLnJhZGl1cyA+PSBjYW52YXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICBpZiAocGFydGljbGUucmFkaXVzID4gOSkge1xuICAgICAgICAgICAgICBfdGhpczMubWluaUVtaXR0ZWluZyhwYXJ0aWNsZSk7XG4gICAgICAgICAgICAgIHBhcnRpY2xlLmRlYWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlTWluaUVtaXR0ZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlTWluaUVtaXR0ZXIoY2FudmFzKSB7XG4gICAgICB2YXIgbWluaUVtaXR0ZXIgPSBuZXcgUHJvdG9uLkVtaXR0ZXIoKTtcbiAgICAgIG1pbmlFbWl0dGVyLnJhdGUgPSBuZXcgUHJvdG9uLlJhdGUobmV3IFByb3Rvbi5TcGFuKDMsIDYpLCBuZXcgUHJvdG9uLlNwYW4oMSwgMikpO1xuXG4gICAgICBtaW5pRW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uTWFzcygxKSk7XG4gICAgICBtaW5pRW1pdHRlci5yYWRpdXNJbml0aWFsaXplID0gbmV3IFByb3Rvbi5SYWRpdXMoKTtcbiAgICAgIG1pbmlFbWl0dGVyLmFkZEluaXRpYWxpemUobWluaUVtaXR0ZXIucmFkaXVzSW5pdGlhbGl6ZSk7XG4gICAgICBtaW5pRW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uTGlmZSgwLjUsIDEpKTtcbiAgICAgIG1pbmlFbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5WKG5ldyBQcm90b24uU3BhbigxLjUsIDMpLCBuZXcgUHJvdG9uLlNwYW4oMCwgNzAsIHRydWUpLCBcInBvbGFyXCIpKTtcblxuICAgICAgbWluaUVtaXR0ZXIuY29sb3JCZWhhdmlvdXIgPSBuZXcgUHJvdG9uLkNvbG9yKFwiI2ZmZmZmZlwiKTtcbiAgICAgIG1pbmlFbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkFscGhhKDEsIDApKTtcbiAgICAgIG1pbmlFbWl0dGVyLmFkZEJlaGF2aW91cihtaW5pRW1pdHRlci5jb2xvckJlaGF2aW91cik7XG4gICAgICBtaW5pRW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5HcmF2aXR5KDQpKTtcbiAgICAgIG1pbmlFbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkNvbGxpc2lvbihtaW5pRW1pdHRlcikpO1xuICAgICAgbWluaUVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uQ3Jvc3Nab25lKG5ldyBQcm90b24uUmVjdFpvbmUoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KSwgXCJib3VuZFwiKSk7XG4gICAgICB0aGlzLnByb3Rvbi5hZGRFbWl0dGVyKG1pbmlFbWl0dGVyKTtcblxuICAgICAgdGhpcy5taW5pRW1pdHRlciA9IG1pbmlFbWl0dGVyO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJtaW5pRW1pdHRlaW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1pbmlFbWl0dGVpbmcocGFydGljbGUpIHtcbiAgICAgIHZhciBtaW5pRW1pdHRlciA9IHRoaXMubWluaUVtaXR0ZXI7XG4gICAgICBtaW5pRW1pdHRlci5yYWRpdXNJbml0aWFsaXplLnJlc2V0KHBhcnRpY2xlLnJhZGl1cyAqIDAuMDUsIHBhcnRpY2xlLnJhZGl1cyAqIDAuMik7XG4gICAgICBtaW5pRW1pdHRlci5jb2xvckJlaGF2aW91ci5yZXNldChwYXJ0aWNsZS5jb2xvcik7XG4gICAgICBtaW5pRW1pdHRlci5wLnggPSBwYXJ0aWNsZS5wLng7XG4gICAgICBtaW5pRW1pdHRlci5wLnkgPSBwYXJ0aWNsZS5wLnk7XG4gICAgICBtaW5pRW1pdHRlci5lbWl0KFwib25jZVwiKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyUHJvdG9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclByb3RvbigpIHtcbiAgICAgIHRoaXMucHJvdG9uICYmIHRoaXMucHJvdG9uLnVwZGF0ZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2FudmFzLCB7IGJnOiB0aGlzLnByb3BzLmJnLFxuICAgICAgICBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb246IFwiZGFya2VyXCIsXG4gICAgICAgIG9uQ2FudmFzSW5pdGVkOiB0aGlzLm9uQ2FudmFzSW5pdGVkLmJpbmQodGhpcyksXG4gICAgICAgIG9uUmVzaXplOiB0aGlzLm9uUmVzaXplLmJpbmQodGhpcylcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQmFsbDtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxudmFyIENvbG9yID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgaW5oZXJpdHMoQ29sb3IsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENvbG9yKHByb3BzKSB7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29sb3IpO1xuXG4gICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ29sb3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDb2xvcikpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLmNvbG9ycyA9IFtcIiM1MjlCODhcIiwgXCIjQ0REMTgwXCIsIFwiI0ZGRkEzMlwiLCBcIiNGQjYyNTVcIiwgXCIjRkI0QTUzXCIsIFwiI0ZGNEU1MFwiLCBcIiNGOUQ0MjNcIl07XG4gICAgX3RoaXMucmVuZGVyUHJvdG9uID0gX3RoaXMucmVuZGVyUHJvdG9uLmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKENvbG9yLCBbe1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIFJBRk1hbmFnZXIucmVtb3ZlKHRoaXMucmVuZGVyUHJvdG9uKTtcbiAgICAgICAgdGhpcy5wcm90b24uZGVzdHJveSgpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25DYW52YXNJbml0ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25DYW52YXNJbml0ZWQoY2FudmFzLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB0aGlzLmNyZWF0ZVByb3RvbihjYW52YXMsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgUkFGTWFuYWdlci5hZGQodGhpcy5yZW5kZXJQcm90b24pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblJlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlc2l6ZSgpIHt9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlUHJvdG9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVByb3RvbihjYW52YXMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMucHJvdG9uID0gbmV3IFByb3RvbigpO1xuICAgICAgdmFyIGVtaXR0ZXIgPSBuZXcgUHJvdG9uLkVtaXR0ZXIoKTtcbiAgICAgIGVtaXR0ZXIucmF0ZSA9IG5ldyBQcm90b24uUmF0ZSh0aGlzLnByb3BzLm51bSA/IG5ldyBQcm90b24uU3Bhbih0aGlzLnByb3BzLm51bSkgOiBuZXcgUHJvdG9uLlNwYW4oNSwgOCksIG5ldyBQcm90b24uU3BhbigwLjEsIDAuMjUpKTtcblxuICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uTWFzcygxKSk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5SYWRpdXMoMjAsIDIwMCkpO1xuICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uTGlmZSgyLCA0KSk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5Qb3NpdGlvbihuZXcgUHJvdG9uLlJlY3Rab25lKDAsIDAsIHdpZHRoLCBoZWlnaHQpKSk7XG5cbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uQWxwaGEoMCwgMSwgSW5maW5pdHksIFByb3Rvbi5lYXNlT3V0Q3ViaWMpKTtcbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uU2NhbGUoMSwgMCwgSW5maW5pdHksIFByb3Rvbi5lYXNlT3V0Q3ViaWMpKTtcbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uQ29sb3IodGhpcy5jb2xvcnMsIFwicmFuZG9tXCIpKTtcblxuICAgICAgZW1pdHRlci5lbWl0KCk7XG4gICAgICB0aGlzLnByb3Rvbi5hZGRFbWl0dGVyKGVtaXR0ZXIpO1xuXG4gICAgICB2YXIgcmVuZGVyZXIgPSBuZXcgUHJvdG9uLkNhbnZhc1JlbmRlcmVyKGNhbnZhcyk7XG4gICAgICB0aGlzLnByb3Rvbi5hZGRSZW5kZXJlcihyZW5kZXJlcik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclByb3RvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJQcm90b24oKSB7XG4gICAgICB0aGlzLnByb3RvbiAmJiB0aGlzLnByb3Rvbi51cGRhdGUoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENhbnZhcywgeyBiZzogdGhpcy5wcm9wcy5iZyxcbiAgICAgICAgZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uOiBcImRhcmtlclwiLFxuICAgICAgICBvbkNhbnZhc0luaXRlZDogdGhpcy5vbkNhbnZhc0luaXRlZC5iaW5kKHRoaXMpLFxuICAgICAgICBvblJlc2l6ZTogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpXG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENvbG9yO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG52YXIgQ29sb3IkMSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgaW5oZXJpdHMoQ29sb3IsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gQ29sb3IocHJvcHMpIHtcbiAgICAgICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29sb3IpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKENvbG9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ29sb3IpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMuY29sb3JzID0gW1wiIzUyOUI4OFwiLCBcIiNDREQxODBcIiwgXCIjRkZGQTMyXCIsIFwiI0ZCNjI1NVwiLCBcIiNGQjRBNTNcIiwgXCIjRkY0RTUwXCIsIFwiI0Y5RDQyM1wiXTtcbiAgICAgICAgX3RoaXMucmVuZGVyUHJvdG9uID0gX3RoaXMucmVuZGVyUHJvdG9uLmJpbmQoX3RoaXMpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgY3JlYXRlQ2xhc3MoQ29sb3IsIFt7XG4gICAgICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIFJBRk1hbmFnZXIucmVtb3ZlKHRoaXMucmVuZGVyUHJvdG9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3Rvbi5kZXN0cm95KCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwib25DYW52YXNJbml0ZWRcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2FudmFzSW5pdGVkKGNhbnZhcywgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVQcm90b24oY2FudmFzLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIFJBRk1hbmFnZXIuYWRkKHRoaXMucmVuZGVyUHJvdG9uKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcIm9uUmVzaXplXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlc2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLmNyb3NzWm9uZUJlaGF2aW91ci56b25lLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICB0aGlzLmNyb3NzWm9uZUJlaGF2aW91ci56b25lLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIHRoaXMucHJvdG9uLnJlbmRlcmVyc1swXS5yZXNpemUod2lkdGgsIGhlaWdodCk7ICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwiZ2V0UHJvcFwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UHJvcChrZXksIGRlZmF1bHRWYWwpIHtcbiAgICAgICAgICAgIHZhciBjb25maWcgPSB0aGlzLnByb3BzLmNvbmZpZyB8fCB7fTtcbiAgICAgICAgICAgIHZhciB2YWwgPSBjb25maWdba2V5XSB8fCBkZWZhdWx0VmFsO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvdG9uLlNwYW4odmFsWzBdLCB2YWxbMV0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwiZ2V0QXJyUHJvcFwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QXJyUHJvcChrZXksIGRlZmF1bHRWYWwpIHtcbiAgICAgICAgICAgIHZhciBjb25maWcgPSB0aGlzLnByb3BzLmNvbmZpZyB8fCB7fTtcbiAgICAgICAgICAgIHZhciB2YWwgPSBjb25maWdba2V5XSB8fCBkZWZhdWx0VmFsO1xuICAgICAgICAgICAgaWYgKCF2YWwpIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFt2YWwsIHZhbF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJjcmVhdGVQcm90b25cIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVByb3RvbihjYW52YXMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgICAgIHZhciBudW0gPSB0aGlzLmdldFByb3AoXCJudW1cIiwgWzUsIDhdKTtcbiAgICAgICAgICAgIHZhciBycHMgPSB0aGlzLmdldFByb3AoXCJycHNcIiwgWzAuMSwgMC4yXSk7XG4gICAgICAgICAgICB2YXIgbWFzcyA9IHRoaXMuZ2V0UHJvcChcIm1hc3NcIiwgMSk7XG4gICAgICAgICAgICB2YXIgcmFkaXVzID0gdGhpcy5nZXRQcm9wKFwicmFkaXVzXCIsIFsxMCwgMzBdKTtcbiAgICAgICAgICAgIHZhciBsaWZlID0gdGhpcy5nZXRQcm9wKFwibGlmZVwiLCBbMiwgM10pO1xuICAgICAgICAgICAgdmFyIGJvZHkgPSB0aGlzLmdldFByb3AoXCJib2R5XCIpO1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5nZXRQcm9wKFwicG9zaXRpb25cIik7XG4gICAgICAgICAgICB2YXIgdiA9IHRoaXMuZ2V0UHJvcChcInZcIiwgWzIsIDNdKTtcbiAgICAgICAgICAgIHZhciB0aGEgPSB0aGlzLmdldFByb3AoXCJ0aGFcIiwgWy0xNSwgMTVdKTtcbiAgICAgICAgICAgIHZhciBhbHBoYSA9IHRoaXMuZ2V0QXJyUHJvcChcImFscGhhXCIpO1xuICAgICAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5nZXRBcnJQcm9wKFwic2NhbGVcIik7XG4gICAgICAgICAgICB2YXIgY29sb3IgPSB0aGlzLmdldEFyclByb3AoXCJjb2xvclwiKTtcbiAgICAgICAgICAgIHZhciBjcm9zcyA9IHRoaXMuZ2V0UHJvcChcImNyb3NzXCIsIFwiZGVhZFwiKTtcbiAgICAgICAgICAgIHZhciByYW5kb20gPSB0aGlzLmdldFByb3AoXCJyYW5kb21cIik7XG4gICAgICAgICAgICB2YXIgcm90YXRlID0gdGhpcy5nZXRBcnJQcm9wKFwicm90YXRlXCIpO1xuICAgICAgICAgICAgdmFyIGcgPSB0aGlzLmdldFByb3AoXCJnXCIpO1xuICAgICAgICAgICAgdmFyIGYgPSB0aGlzLmdldEFyclByb3AoXCJmXCIpO1xuICAgICAgICAgICAgdmFyIGVtaXR0ZXJWID0gdGhpcy5nZXRQcm9wKFwiZW1pdHRlclwiKTtcblxuICAgICAgICAgICAgdGhpcy5wcm90b24gPSBuZXcgUHJvdG9uKCk7XG4gICAgICAgICAgICB2YXIgZW1pdHRlciA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmIChlbWl0dGVyViA9PT0gXCJmb2xsb3dcIikge1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIgPSBuZXcgUHJvdG9uLkZvbGxvd0VtaXR0ZXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZW1pdHRlciA9IG5ldyBQcm90b24uRW1pdHRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW1pdHRlci5yYXRlID0gbmV3IFByb3Rvbi5SYXRlKG51bSwgcnBzKTtcblxuICAgICAgICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uTWFzcyhtYXNzKSk7XG4gICAgICAgICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5SYWRpdXMocmFkaXVzKSk7XG4gICAgICAgICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5MaWZlKGxpZmUpKTtcbiAgICAgICAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLlZlbG9jaXR5KHYsIHRoYSwgXCJwb2xhclwiKSk7XG4gICAgICAgICAgICBpZiAoYm9keSkgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uQm9keShib2R5KSk7XG5cbiAgICAgICAgICAgIHZhciBwb3MgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAocG9zaXRpb24gPT09IFwiYWxsXCIgfHwgcG9zaXRpb24gPT09IFwic2NyZWVuXCIpIHtcbiAgICAgICAgICAgICAgICBwb3MgPSBuZXcgUHJvdG9uLlBvc2l0aW9uKG5ldyBQcm90b24uUmVjdFpvbmUoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCh0eXBlb2YgcG9zaXRpb24gPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihwb3NpdGlvbikpID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgcG9zID0gbmV3IFByb3Rvbi5Qb3NpdGlvbihuZXcgUHJvdG9uLlJlY3Rab25lKHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIHBvc2l0aW9uLndpZHRoLCBwb3NpdGlvbi5oZWlnaHQpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZW1pdHRlci5wLnggPSBjYW52YXMud2lkdGggLyAyO1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIucC55ID0gY2FudmFzLmhlaWdodCAvIDI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShwb3MpO1xuXG4gICAgICAgICAgICAvLy8gYmVoYXZpb3VyXG4gICAgICAgICAgICB2YXIgYWxwaGFCID0gYWxwaGEgPyBuZXcgUHJvdG9uLkFscGhhKGFscGhhWzBdLCBhbHBoYVsxXSkgOiBuZXcgUHJvdG9uLkFscGhhKDAsIDEpO1xuICAgICAgICAgICAgdmFyIHNjYWxlQiA9IHNjYWxlID8gbmV3IFByb3Rvbi5TY2FsZShzY2FsZVswXSwgc2NhbGVbMV0pIDogbmV3IFByb3Rvbi5TY2FsZSgxLCAwLjIpO1xuICAgICAgICAgICAgdmFyIGNvbG9yQiA9IGNvbG9yID8gbmV3IFByb3Rvbi5Db2xvcihjb2xvclswXSwgY29sb3JbMV0pIDogbmV3IFByb3Rvbi5Db2xvcih0aGlzLmNvbG9ycyk7XG5cbiAgICAgICAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKGFscGhhQik7XG4gICAgICAgICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihzY2FsZUIpO1xuICAgICAgICAgICAgaWYgKCFib2R5KSBlbWl0dGVyLmFkZEJlaGF2aW91cihjb2xvckIpO1xuXG4gICAgICAgICAgICBpZiAocm90YXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJvdGF0ZVswXSA9PT0gdHJ1ZSB8fCByb3RhdGVbMF0gPT09IFwicm90YXRlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5Sb3RhdGUoKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5Sb3RhdGUocm90YXRlWzBdLCByb3RhdGVbMV0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB6b25lID0gbmV3IFByb3Rvbi5SZWN0Wm9uZSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgICAgdmFyIGNyb3NzWm9uZUJlaGF2aW91ciA9IG5ldyBQcm90b24uQ3Jvc3Nab25lKHpvbmUsIGNyb3NzKTtcbiAgICAgICAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKGNyb3NzWm9uZUJlaGF2aW91cik7XG5cbiAgICAgICAgICAgIHJhbmRvbSAmJiBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLlJhbmRvbURyaWZ0KHJhbmRvbSwgcmFuZG9tLCAwLjA1KSk7XG4gICAgICAgICAgICBnICYmIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uRyhnKSk7XG4gICAgICAgICAgICBmICYmIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uRihmWzBdLCBmWzFdKSk7XG5cbiAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgpO1xuICAgICAgICAgICAgdGhpcy5wcm90b24uYWRkRW1pdHRlcihlbWl0dGVyKTtcblxuICAgICAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5jcmVhdGVSZW5kZXJlcihjYW52YXMpO1xuICAgICAgICAgICAgdGhpcy5wcm90b24uYWRkUmVuZGVyZXIocmVuZGVyZXIpO1xuXG4gICAgICAgICAgICB0aGlzLmVtaXR0ZXIgPSBlbWl0dGVyO1xuICAgICAgICAgICAgdGhpcy5jcm9zc1pvbmVCZWhhdmlvdXIgPSBjcm9zc1pvbmVCZWhhdmlvdXI7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJjcmVhdGVSZW5kZXJlclwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIoY2FudmFzKSB7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSBjYW52YXMud2lkdGg7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgICAgIHZhciByZW5kZXJlciA9IG5ldyBQcm90b24uQ2FudmFzUmVuZGVyZXIoY2FudmFzKTtcblxuICAgICAgICAgICAgdmFyIG9uVXBkYXRlID0gdGhpcy5nZXRQcm9wKFwib25VcGRhdGVcIik7XG4gICAgICAgICAgICBpZiAob25VcGRhdGUpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5vblByb3RvblVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgb25VcGRhdGUoY29udGV4dCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG9uUGFydGljbGVDcmVhdGVkID0gdGhpcy5nZXRQcm9wKFwib25QYXJ0aWNsZUNyZWF0ZWRcIik7XG4gICAgICAgICAgICBpZiAob25QYXJ0aWNsZUNyZWF0ZWQpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5vblBhcnRpY2xlQ3JlYXRlZCA9IGZ1bmN0aW9uIChwYXJ0aWNsZSkge1xuICAgICAgICAgICAgICAgICAgICBvblBhcnRpY2xlQ3JlYXRlZChjb250ZXh0LCBwYXJ0aWNsZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG9uUGFydGljbGVVcGRhdGUgPSB0aGlzLmdldFByb3AoXCJvblBhcnRpY2xlVXBkYXRlXCIpO1xuICAgICAgICAgICAgaWYgKG9uUGFydGljbGVVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5vblBhcnRpY2xlVXBkYXRlID0gZnVuY3Rpb24gKHBhcnRpY2xlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uUGFydGljbGVVcGRhdGUoY29udGV4dCwgcGFydGljbGUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZW5kZXJlcjtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcInJlbmRlclByb3RvblwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyUHJvdG9uKCkge1xuICAgICAgICAgICAgdGhpcy5wcm90b24gJiYgdGhpcy5wcm90b24udXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJoYW5kbGVNb3VzZURvd25cIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bihlKSB7XG4gICAgICAgICAgICB2YXIgb25Nb3VzZURvd24gPSB0aGlzLmdldFByb3AoXCJvbk1vdXNlRG93blwiKTtcbiAgICAgICAgICAgIGlmIChvbk1vdXNlRG93bikge1xuICAgICAgICAgICAgICAgIG9uTW91c2VEb3duKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gdGhpcy5wcm9wcy5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gfHwgdGhpcy5wcm9wcy5vcGVyYXRpb24gfHwgXCJzb3VyY2Utb3ZlclwiO1xuXG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDYW52YXMsIHtcbiAgICAgICAgICAgICAgICBiZzogdGhpcy5wcm9wcy5iZyxcbiAgICAgICAgICAgICAgICBvbk1vdXNlRG93bjogdGhpcy5oYW5kbGVNb3VzZURvd24uYmluZCh0aGlzKSxcbiAgICAgICAgICAgICAgICBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb246IGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbixcbiAgICAgICAgICAgICAgICBvbkNhbnZhc0luaXRlZDogdGhpcy5vbkNhbnZhc0luaXRlZC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgICAgIG9uUmVzaXplOiB0aGlzLm9uUmVzaXplLmJpbmQodGhpcylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfV0pO1xuICAgIHJldHVybiBDb2xvcjtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxudmFyIExpbmVzID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgaW5oZXJpdHMoTGluZXMsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIExpbmVzKHByb3BzKSB7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgTGluZXMpO1xuXG4gICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTGluZXMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihMaW5lcykpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLnJlbmRlclByb3RvbiA9IF90aGlzLnJlbmRlclByb3Rvbi5iaW5kKF90aGlzKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhMaW5lcywgW3tcbiAgICBrZXk6IFwib25DYW52YXNEaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNhbnZhc0RpZE1vdW50KGNhbnZhcykge1xuICAgICAgaWYgKHRoaXMucHJvcHMuY29sb3IpIHtcbiAgICAgICAgY2FudmFzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHRoaXMucHJvcHMuY29sb3I7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgUkFGTWFuYWdlci5yZW1vdmUodGhpcy5yZW5kZXJQcm90b24pO1xuICAgICAgICB0aGlzLnByb3Rvbi5kZXN0cm95KCk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkNhbnZhc0luaXRlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNhbnZhc0luaXRlZChjYW52YXMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMuY3JlYXRlUHJvdG9uKGNhbnZhcywgd2lkdGgsIGhlaWdodCk7XG4gICAgICBSQUZNYW5hZ2VyLmFkZCh0aGlzLnJlbmRlclByb3Rvbik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uUmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMuY3Jvc3Nab25lQmVoYXZpb3VyLnpvbmUud2lkdGggPSB3aWR0aDtcbiAgICAgIHRoaXMuY3Jvc3Nab25lQmVoYXZpb3VyLnpvbmUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgdGhpcy5wcm90b24ucmVuZGVyZXJzWzBdLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlUHJvdG9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVByb3RvbihjYW52YXMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMucHJvdG9uID0gbmV3IFByb3RvbigpO1xuXG4gICAgICB2YXIgZW1pdHRlciA9IG5ldyBQcm90b24uRW1pdHRlcigpO1xuICAgICAgZW1pdHRlci5kYW1waW5nID0gMC4wMDg7XG4gICAgICBlbWl0dGVyLnJhdGUgPSBuZXcgUHJvdG9uLlJhdGUodGhpcy5wcm9wcy5udW0gPyB0aGlzLnByb3BzLm51bSA6IDI1MCk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5NYXNzKDEpKTtcbiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLlJhZGl1cyg0KSk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5WZWxvY2l0eShuZXcgUHJvdG9uLlNwYW4oMS41KSwgbmV3IFByb3Rvbi5TcGFuKDAsIDM2MCksIFwicG9sYXJcIikpO1xuICAgICAgdmFyIG1vdXNlT2JqID0ge1xuICAgICAgICB4OiB3aWR0aCAvIDIsXG4gICAgICAgIHk6IGhlaWdodCAvIDJcbiAgICAgIH07XG5cbiAgICAgIHZhciBhdHRyYWN0aW9uQmVoYXZpb3VyID0gbmV3IFByb3Rvbi5BdHRyYWN0aW9uKG1vdXNlT2JqLCAwLCAwKTtcbiAgICAgIHZhciBjcm9zc1pvbmVCZWhhdmlvdXIgPSBuZXcgUHJvdG9uLkNyb3NzWm9uZShuZXcgUHJvdG9uLlJlY3Rab25lKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCksIFwiY3Jvc3NcIik7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkNvbG9yKFwicmFuZG9tXCIpKTtcbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKGF0dHJhY3Rpb25CZWhhdmlvdXIsIGNyb3NzWm9uZUJlaGF2aW91cik7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLlJhbmRvbURyaWZ0KDEwLCAxMCwgMC4wNSkpO1xuICAgICAgZW1pdHRlci5wLnggPSBjYW52YXMud2lkdGggLyAyO1xuICAgICAgZW1pdHRlci5wLnkgPSBjYW52YXMuaGVpZ2h0IC8gMjtcbiAgICAgIGVtaXR0ZXIuZW1pdChcIm9uY2VcIik7XG5cbiAgICAgIHRoaXMucHJvdG9uLmFkZEVtaXR0ZXIoZW1pdHRlcik7XG4gICAgICB0aGlzLnByb3Rvbi5hZGRSZW5kZXJlcih0aGlzLmNyZWF0ZVJlbmRlcmVyKGNhbnZhcykpO1xuICAgICAgdGhpcy5jcm9zc1pvbmVCZWhhdmlvdXIgPSBjcm9zc1pvbmVCZWhhdmlvdXI7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZVJlbmRlcmVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVJlbmRlcmVyKGNhbnZhcykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgIHZhciByZW5kZXJlciA9IG5ldyBQcm90b24uQ2FudmFzUmVuZGVyZXIoY2FudmFzKTtcbiAgICAgIHJlbmRlcmVyLm9uUHJvdG9uVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGdldENvbG9yKF90aGlzMi5wcm9wcy5jb2xvciwgMC4wMikgfHwgXCJyZ2JhKDAsIDAsIDAsIDAuMDIpXCI7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgIH07XG5cbiAgICAgIHJlbmRlcmVyLm9uUGFydGljbGVVcGRhdGUgPSBmdW5jdGlvbiAocGFydGljbGUpIHtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHBhcnRpY2xlLmNvbG9yO1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDE7XG4gICAgICAgIGNvbnRleHQubW92ZVRvKHBhcnRpY2xlLm9sZC5wLngsIHBhcnRpY2xlLm9sZC5wLnkpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhwYXJ0aWNsZS5wLngsIHBhcnRpY2xlLnAueSk7XG4gICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gcmVuZGVyZXI7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclByb3RvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJQcm90b24oKSB7XG4gICAgICB0aGlzLnByb3RvbiAmJiB0aGlzLnByb3Rvbi51cGRhdGUoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENhbnZhcywgeyBiZzogdGhpcy5wcm9wcy5iZyxcbiAgICAgICAgZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uOiBcImRhcmtlclwiLFxuICAgICAgICBvbkNhbnZhc0RpZE1vdW50OiB0aGlzLm9uQ2FudmFzRGlkTW91bnQuYmluZCh0aGlzKSxcbiAgICAgICAgb25DYW52YXNJbml0ZWQ6IHRoaXMub25DYW52YXNJbml0ZWQuYmluZCh0aGlzKSxcbiAgICAgICAgb25SZXNpemU6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKVxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBMaW5lcztcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxudmFyIFRoaWNrID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgaW5oZXJpdHMoVGhpY2ssIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRoaWNrKHByb3BzKSB7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgVGhpY2spO1xuXG4gICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVGhpY2suX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUaGljaykpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLmh1ZSA9IDA7XG4gICAgX3RoaXMuaW5kZXggPSAwO1xuICAgIF90aGlzLmNvbG9yVGVtcGxhdGUgPSBcImhzbGEoaHVlLDgwJSw1MCUsIDAuNzUpXCI7XG4gICAgX3RoaXMucmVuZGVyUHJvdG9uID0gX3RoaXMucmVuZGVyUHJvdG9uLmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKFRoaWNrLCBbe1xuICAgIGtleTogXCJvbkNhbnZhc0RpZE1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2FudmFzRGlkTW91bnQoY2FudmFzKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5jb2xvcikge1xuICAgICAgICBjYW52YXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5wcm9wcy5jb2xvcjtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25DYW52YXNJbml0ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25DYW52YXNJbml0ZWQoY2FudmFzLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICAgIHRoaXMuY3JlYXRlUHJvdG9uKGNhbnZhcywgd2lkdGgsIGhlaWdodCk7XG4gICAgICBSQUZNYW5hZ2VyLmFkZCh0aGlzLnJlbmRlclByb3Rvbik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uUmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMuY3Jvc3Nab25lQmVoYXZpb3VyLnpvbmUud2lkdGggPSB3aWR0aDtcbiAgICAgIHRoaXMuY3Jvc3Nab25lQmVoYXZpb3VyLnpvbmUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgdGhpcy5wcm90b24ucmVuZGVyZXJzWzBdLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlUHJvdG9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVByb3RvbihjYW52YXMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMucHJvdG9uID0gbmV3IFByb3RvbigpO1xuXG4gICAgICB2YXIgZW1pdHRlciA9IG5ldyBQcm90b24uRW1pdHRlcigpO1xuICAgICAgZW1pdHRlci5kYW1waW5nID0gMC4wMDg7XG4gICAgICBlbWl0dGVyLnJhdGUgPSBuZXcgUHJvdG9uLlJhdGUodGhpcy5wcm9wcy5udW0gPyB0aGlzLnByb3BzLm51bSA6IDE1MCk7XG5cbiAgICAgIC8vIEluaXRpYWxpemVcbiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLk1hc3MoMSkpO1xuICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uUmFkaXVzKDgpKTtcbiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLlYobmV3IFByb3Rvbi5TcGFuKDAuMSwgMC41KSwgbmV3IFByb3Rvbi5TcGFuKDAsIDM2MCksIFwicG9sYXJcIikpO1xuICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uUG9zaXRpb24obmV3IFByb3Rvbi5DaXJjbGVab25lKGNhbnZhcy53aWR0aCAvIDIsIGNhbnZhcy5oZWlnaHQgLyAyLCAxMDApKSk7XG5cbiAgICAgIC8vIEJlaGF2aW91clxuICAgICAgdmFyIGNyb3NzWm9uZUJlaGF2aW91ciA9IG5ldyBQcm90b24uQ3Jvc3Nab25lKG5ldyBQcm90b24uUmVjdFpvbmUoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KSwgXCJjcm9zc1wiKTtcbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKGNyb3NzWm9uZUJlaGF2aW91cik7XG4gICAgICB0aGlzLnJlcHVsc2lvbiA9IG5ldyBQcm90b24uUmVwdWxzaW9uKHtcbiAgICAgICAgeDogY2FudmFzLndpZHRoIC8gMixcbiAgICAgICAgeTogY2FudmFzLmhlaWdodCAvIDIgLSAxMDBcbiAgICAgIH0sIDMsIDMwMCk7XG5cbiAgICAgIHRoaXMuYXR0cmFjdGlvbiA9IG5ldyBQcm90b24uQXR0cmFjdGlvbih7XG4gICAgICAgIHg6IGNhbnZhcy53aWR0aCAvIDIsXG4gICAgICAgIHk6IGNhbnZhcy5oZWlnaHQgLyAyXG4gICAgICB9LCAzLCAyMDApO1xuICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIodGhpcy5hdHRyYWN0aW9uLCB0aGlzLnJlcHVsc2lvbik7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkNvbG9yKFwicmFuZG9tXCIpKTtcbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uUmFuZG9tRHJpZnQoMjAsIDE1LCAwLjE1KSk7XG5cbiAgICAgIGVtaXR0ZXIuZW1pdChcIm9uY2VcIik7XG4gICAgICB0aGlzLnByb3Rvbi5hZGRFbWl0dGVyKGVtaXR0ZXIpO1xuICAgICAgdGhpcy5wcm90b24uYWRkUmVuZGVyZXIodGhpcy5jcmVhdGVSZW5kZXJlcihjYW52YXMpKTtcbiAgICAgIHRoaXMuY3Jvc3Nab25lQmVoYXZpb3VyID0gY3Jvc3Nab25lQmVoYXZpb3VyO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVSZW5kZXJlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVSZW5kZXJlcihjYW52YXMpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICB2YXIgcmVuZGVyZXIgPSBuZXcgUHJvdG9uLkNhbnZhc1JlbmRlcmVyKGNhbnZhcyk7XG5cbiAgICAgIHJlbmRlcmVyLm9uUHJvdG9uVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczIuaHVlICs9IDE7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZ2V0Q29sb3IoX3RoaXMyLnByb3BzLmNvbG9yLCAwLjAyKSB8fCBcInJnYmEoMCwgMCwgMCwgMC4wMilcIjtcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgfTtcblxuICAgICAgcmVuZGVyZXIub25QYXJ0aWNsZUNyZWF0ZWQgPSBmdW5jdGlvbiAocGFydGljbGUpIHtcbiAgICAgICAgcGFydGljbGUuZGF0YS5iZWdpbiA9IFByb3Rvbi5NYXRoVXRpbC5yYW5kb21BVG9CKDEsIDEyMCk7XG4gICAgICAgIHBhcnRpY2xlLmRhdGEudGhhID0gUHJvdG9uLk1hdGhVdGlsLnJhbmRvbUFUb0IoMCwgTWF0aC5QSSAqIDIpO1xuICAgICAgfTtcblxuICAgICAgcmVuZGVyZXIub25QYXJ0aWNsZVVwZGF0ZSA9IGZ1bmN0aW9uIChwYXJ0aWNsZSkge1xuICAgICAgICB2YXIgaHVlID0gcGFydGljbGUuZGF0YS5iZWdpbiArIF90aGlzMi5odWU7XG4gICAgICAgIHBhcnRpY2xlLmNvbG9yID0gX3RoaXMyLmNvbG9yVGVtcGxhdGUucmVwbGFjZShcImh1ZVwiLCBodWUgJSAzNjApO1xuXG4gICAgICAgIHZhciByYXRpbyA9IDMgLyA0O1xuICAgICAgICB2YXIgcmFkaXVzID0gcGFydGljbGUucmFkaXVzICogKDEgLSByYXRpbykgKiBNYXRoLmNvcyhwYXJ0aWNsZS5kYXRhLnRoYSArPSAwLjAxKSArIHBhcnRpY2xlLnJhZGl1cyAqIHJhdGlvO1xuXG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gcGFydGljbGUuY29sb3I7XG4gICAgICAgIGNvbnRleHQuYXJjKHBhcnRpY2xlLnAueCwgcGFydGljbGUucC55LCByYWRpdXMsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcbiAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gcmVuZGVyZXI7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgUkFGTWFuYWdlci5yZW1vdmUodGhpcy5yZW5kZXJQcm90b24pO1xuICAgICAgICB0aGlzLnByb3Rvbi5kZXN0cm95KCk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJQcm90b25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyUHJvdG9uKCkge1xuICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuY2FudmFzO1xuICAgICAgdGhpcy5wcm90b24udXBkYXRlKCk7XG4gICAgICBpZiAodGhpcy5pbmRleCAlIDIwMCA9PT0gMCkge1xuICAgICAgICB0aGlzLmF0dHJhY3Rpb24udGFyZ2V0UG9zaXRpb24ueCA9IE1hdGgucmFuZG9tKCkgKiBjYW52YXMud2lkdGg7XG4gICAgICAgIHRoaXMuYXR0cmFjdGlvbi50YXJnZXRQb3NpdGlvbi55ID0gTWF0aC5yYW5kb20oKSAqIGNhbnZhcy5oZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5yZXB1bHNpb24udGFyZ2V0UG9zaXRpb24ueCA9IE1hdGgucmFuZG9tKCkgKiBjYW52YXMud2lkdGg7XG4gICAgICAgIHRoaXMucmVwdWxzaW9uLnRhcmdldFBvc2l0aW9uLnkgPSBNYXRoLnJhbmRvbSgpICogY2FudmFzLmhlaWdodDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pbmRleCsrO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2FudmFzLCB7IGJnOiB0aGlzLnByb3BzLmJnLFxuICAgICAgICBvbkNhbnZhc0RpZE1vdW50OiB0aGlzLm9uQ2FudmFzRGlkTW91bnQuYmluZCh0aGlzKSxcbiAgICAgICAgb25DYW52YXNJbml0ZWQ6IHRoaXMub25DYW52YXNJbml0ZWQuYmluZCh0aGlzKSxcbiAgICAgICAgb25SZXNpemU6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKVxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBUaGljaztcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxudmFyIFNxdWFyZSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIGluaGVyaXRzKFNxdWFyZSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gU3F1YXJlKHByb3BzKSB7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgU3F1YXJlKTtcblxuICAgIHZhciBfdGhpcyA9IHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFNxdWFyZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNxdWFyZSkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLmNvbG9ycyA9IFtcIiNmYWQzOTBcIiwgXCIjODFlY2VjXCIsIFwiI2ZmZmZmZlwiLCBcIiNiYWRjNThcIiwgXCIjZjljYTI0XCIsIFwiI0ZFQTQ3RlwiXTtcbiAgICBfdGhpcy5yZW5kZXJQcm90b24gPSBfdGhpcy5yZW5kZXJQcm90b24uYmluZChfdGhpcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoU3F1YXJlLCBbe1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIFJBRk1hbmFnZXIucmVtb3ZlKHRoaXMucmVuZGVyUHJvdG9uKTtcbiAgICAgICAgdGhpcy5wcm90b24uZGVzdHJveSgpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25DYW52YXNEaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNhbnZhc0RpZE1vdW50KGNhbnZhcykge31cbiAgfSwge1xuICAgIGtleTogXCJvbkNhbnZhc0luaXRlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNhbnZhc0luaXRlZChjYW52YXMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMuY3JlYXRlUHJvdG9uKGNhbnZhcywgd2lkdGgsIGhlaWdodCk7XG4gICAgICBSQUZNYW5hZ2VyLmFkZCh0aGlzLnJlbmRlclByb3Rvbik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uUmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHZhciBkaXMgPSAxNTA7XG4gICAgICB0aGlzLmNyb3NzWm9uZUJlaGF2aW91ci56b25lLndpZHRoID0gd2lkdGggKyAyICogZGlzO1xuICAgICAgdGhpcy5jcm9zc1pvbmVCZWhhdmlvdXIuem9uZS5oZWlnaHQgPSBoZWlnaHQgKyAyICogZGlzO1xuICAgICAgdGhpcy5wcm90b24ucmVuZGVyZXJzWzBdLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlUHJvdG9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVByb3RvbihjYW52YXMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMucHJvdG9uID0gbmV3IFByb3RvbigpO1xuICAgICAgdmFyIGVtaXR0ZXIgPSBuZXcgUHJvdG9uLkVtaXR0ZXIoKTtcbiAgICAgIGVtaXR0ZXIucmF0ZSA9IG5ldyBQcm90b24uUmF0ZSh0aGlzLnByb3BzLm51bSA/IHRoaXMucHJvcHMubnVtIDogNTApO1xuICAgICAgZW1pdHRlci5kYW1waW5nID0gMDtcblxuICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uTWFzcygxKSk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5SYWRpdXMoNCwgNzApKTtcbiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLlZlbG9jaXR5KG5ldyBQcm90b24uU3BhbigyLCAxMCksIG5ldyBQcm90b24uU3BhbigwKSwgXCJwb2xhclwiKSk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5Qb3NpdGlvbihuZXcgUHJvdG9uLkxpbmVab25lKDAsIGNhbnZhcy5oZWlnaHQsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCkpKTtcblxuICAgICAgdmFyIGRpcyA9IDE1MDtcbiAgICAgIHZhciBjcm9zc1pvbmVCZWhhdmlvdXIgPSBuZXcgUHJvdG9uLkNyb3NzWm9uZShuZXcgUHJvdG9uLlJlY3Rab25lKDAgLSBkaXMsIDAgLSBkaXMsIGNhbnZhcy53aWR0aCArIDIgKiBkaXMsIGNhbnZhcy5oZWlnaHQgKyAyICogZGlzKSwgXCJjcm9zc1wiKTtcbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKGNyb3NzWm9uZUJlaGF2aW91cik7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkFscGhhKFByb3Rvbi5nZXRTcGFuKDAuMSwgMC41NSkpKTtcbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uQ29sb3IodGhpcy5jb2xvcnMpKTtcblxuICAgICAgZW1pdHRlci5lbWl0KFwib25jZVwiKTtcbiAgICAgIHRoaXMucHJvdG9uLmFkZEVtaXR0ZXIoZW1pdHRlcik7XG4gICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLmNyZWF0ZVJlbmRlcmVyKGNhbnZhcyk7XG4gICAgICB0aGlzLnByb3Rvbi5hZGRSZW5kZXJlcihyZW5kZXJlcik7XG5cbiAgICAgIHRoaXMuY3Jvc3Nab25lQmVoYXZpb3VyID0gY3Jvc3Nab25lQmVoYXZpb3VyO1xuICAgICAgZW1pdHRlci5wcmVFbWl0KDIpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVSZW5kZXJlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVSZW5kZXJlcihjYW52YXMpIHtcbiAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgIHZhciByZW5kZXJlciA9IG5ldyBQcm90b24uQ3VzdG9tUmVuZGVyZXIoKTtcblxuICAgICAgcmVuZGVyZXIub25Qcm90b25VcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICB9O1xuXG4gICAgICByZW5kZXJlci5vblBhcnRpY2xlQ3JlYXRlZCA9IGZ1bmN0aW9uIChwYXJ0aWNsZSkge1xuICAgICAgICB2YXIgdyA9IHBhcnRpY2xlLnJhZGl1cyB8fCA2MDtcbiAgICAgICAgdmFyIGggPSBQcm90b24uTWF0aFV0aWwucmFuZG9tQVRvQigxMDAsIDIwMCwgXCJpbnRcIik7XG4gICAgICAgIHBhcnRpY2xlLmRhdGEudyA9IHc7XG4gICAgICAgIHBhcnRpY2xlLmRhdGEuaCA9IGg7XG4gICAgICB9O1xuXG4gICAgICByZW5kZXJlci5vblBhcnRpY2xlVXBkYXRlID0gZnVuY3Rpb24gKHBhcnRpY2xlKSB7XG4gICAgICAgIHZhciB3ID0gcGFydGljbGUuZGF0YS53O1xuICAgICAgICB2YXIgaCA9IHBhcnRpY2xlLmRhdGEuaDtcbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBwYXJ0aWNsZS5hbHBoYTtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBwYXJ0aWNsZS5jb2xvcjtcblxuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShwYXJ0aWNsZS5wLngsIHBhcnRpY2xlLnAueSk7XG4gICAgICAgIGNvbnRleHQucm90YXRlKFByb3Rvbi5NYXRoVXRpbC5kZWdyZWVUcmFuc2Zvcm0ocGFydGljbGUucm90YXRpb24pKTtcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUoLXBhcnRpY2xlLnAueCwgLXBhcnRpY2xlLnAueSk7XG5cbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dC5yZWN0KHBhcnRpY2xlLnAueCAtIHcgLyAyLCBwYXJ0aWNsZS5wLnkgLSBoIC8gMiwgdywgaCk7XG5cbiAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSAxO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiByZW5kZXJlcjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyUHJvdG9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclByb3RvbigpIHtcbiAgICAgIHRoaXMucHJvdG9uICYmIHRoaXMucHJvdG9uLnVwZGF0ZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2FudmFzLCB7IGJnOiB0aGlzLnByb3BzLmJnLFxuICAgICAgICBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb246IFwibGlnaHRlclwiLFxuICAgICAgICBvbkNhbnZhc0RpZE1vdW50OiB0aGlzLm9uQ2FudmFzRGlkTW91bnQuYmluZCh0aGlzKSxcbiAgICAgICAgb25DYW52YXNJbml0ZWQ6IHRoaXMub25DYW52YXNJbml0ZWQuYmluZCh0aGlzKSxcbiAgICAgICAgb25SZXNpemU6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKVxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBTcXVhcmU7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbnZhciBDb2J3ZWIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBpbmhlcml0cyhDb2J3ZWIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENvYndlYihwcm9wcykge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIENvYndlYik7XG5cbiAgICB2YXIgX3RoaXMgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDb2J3ZWIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDb2J3ZWIpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5yZW5kZXJQcm90b24gPSBfdGhpcy5yZW5kZXJQcm90b24uYmluZChfdGhpcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoQ29id2ViLCBbe1xuICAgIGtleTogXCJvbkNhbnZhc0luaXRlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNhbnZhc0luaXRlZChjYW52YXMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMuY3JlYXRlUHJvdG9uKGNhbnZhcywgd2lkdGgsIGhlaWdodCk7XG4gICAgICBSQUZNYW5hZ2VyLmFkZCh0aGlzLnJlbmRlclByb3Rvbik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgUkFGTWFuYWdlci5yZW1vdmUodGhpcy5yZW5kZXJQcm90b24pO1xuICAgICAgICB0aGlzLnByb3Rvbi5kZXN0cm95KCk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblJlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlc2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB0aGlzLmNyb3NzWm9uZUJlaGF2aW91ci56b25lLndpZHRoID0gd2lkdGg7XG4gICAgICB0aGlzLmNyb3NzWm9uZUJlaGF2aW91ci56b25lLmhlaWdodCA9IGhlaWdodDtcbiAgICAgIHRoaXMucHJvdG9uLnJlbmRlcmVyc1swXS5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZVByb3RvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVQcm90b24oY2FudmFzLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB0aGlzLnByb3RvbiA9IG5ldyBQcm90b24oKTtcblxuICAgICAgdmFyIGVtaXR0ZXIgPSBuZXcgUHJvdG9uLkVtaXR0ZXIoKTtcbiAgICAgIGVtaXR0ZXIucmF0ZSA9IG5ldyBQcm90b24uUmF0ZSh0aGlzLnByb3BzLm51bSA/IG5ldyBQcm90b24uU3Bhbih0aGlzLnByb3BzLm51bSkgOiBuZXcgUHJvdG9uLlNwYW4oMTAwKSwgbmV3IFByb3Rvbi5TcGFuKDAuMDUsIDAuMikpO1xuXG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5NYXNzKDEpKTtcbiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLlJhZGl1cygxLCA0KSk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5MaWZlKEluZmluaXR5KSk7XG5cbiAgICAgIHZhciBwb2ludFpvbmUgPSBuZXcgUHJvdG9uLlBvc2l0aW9uKG5ldyBQcm90b24uUmVjdFpvbmUoMCwgMCwgd2lkdGgsIGhlaWdodCkpO1xuICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKHBvaW50Wm9uZSk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5WZWxvY2l0eShuZXcgUHJvdG9uLlNwYW4oMC4zLCAwLjYpLCBuZXcgUHJvdG9uLlNwYW4oMCwgMzYwKSwgXCJwb2xhclwiKSk7XG5cbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uQWxwaGEoUHJvdG9uLmdldFNwYW4oMC4yLCAwLjkpKSk7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkNvbG9yKHRoaXMucHJvcHMuY29sb3IgfHwgXCIjMzMzXCIpKTtcbiAgICAgIHRoaXMuY3Jvc3Nab25lQmVoYXZpb3VyID0gbmV3IFByb3Rvbi5Dcm9zc1pvbmUobmV3IFByb3Rvbi5SZWN0Wm9uZSgwLCAwLCB3aWR0aCwgaGVpZ2h0KSwgXCJjcm9zc1wiKTtcbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKHRoaXMuY3Jvc3Nab25lQmVoYXZpb3VyKTtcblxuICAgICAgZW1pdHRlci5lbWl0KFwib25jZVwiKTtcbiAgICAgIGVtaXR0ZXIuZGFtcGluZyA9IDA7XG4gICAgICB0aGlzLnByb3Rvbi5hZGRFbWl0dGVyKGVtaXR0ZXIpO1xuICAgICAgdGhpcy5wcm90b24uYWRkUmVuZGVyZXIodGhpcy5jcmVhdGVSZW5kZXJlcihjYW52YXMsIGVtaXR0ZXIpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlUmVuZGVyZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIoY2FudmFzLCBlbWl0dGVyKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgdmFyIHJlbmRlcmVyID0gbmV3IFByb3Rvbi5DYW52YXNSZW5kZXJlcihjYW52YXMpO1xuICAgICAgdmFyIFIgPSAxNDA7XG5cbiAgICAgIHJlbmRlcmVyLm9uUHJvdG9uVXBkYXRlQWZ0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwYXJ0aWNsZXMgPSBlbWl0dGVyLnBhcnRpY2xlcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRpY2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGZvciAodmFyIGogPSBpICsgMTsgaiA8IHBhcnRpY2xlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdmFyIHBBID0gcGFydGljbGVzW2ldO1xuICAgICAgICAgICAgdmFyIHBCID0gcGFydGljbGVzW2pdO1xuICAgICAgICAgICAgdmFyIGRpcyA9IHBBLnAuZGlzdGFuY2VUbyhwQi5wKTtcblxuICAgICAgICAgICAgaWYgKGRpcyA8IFIpIHtcbiAgICAgICAgICAgICAgdmFyIGFscGhhID0gKDEgLSBkaXMgLyBSKSAqIDAuNTtcbiAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGdldENvbG9yKF90aGlzMi5wcm9wcy5jb2xvciwgYWxwaGEpIHx8IFwicmdiYSgzLCAzLCAzLCBcIiArIGFscGhhICsgXCIpXCI7XG4gICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHBBLnAueCwgcEEucC55KTtcbiAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocEIucC54LCBwQi5wLnkpO1xuICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHJlbmRlcmVyO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJQcm90b25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyUHJvdG9uKCkge1xuICAgICAgdGhpcy5wcm90b24gJiYgdGhpcy5wcm90b24udXBkYXRlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDYW52YXMsIHsgYmc6IHRoaXMucHJvcHMuYmcsXG4gICAgICAgIGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbjogXCJkYXJrZXJcIixcbiAgICAgICAgb25DYW52YXNJbml0ZWQ6IHRoaXMub25DYW52YXNJbml0ZWQuYmluZCh0aGlzKSxcbiAgICAgICAgb25SZXNpemU6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKVxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDb2J3ZWI7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbnZhciBDaXJjbGUgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBpbmhlcml0cyhDaXJjbGUsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENpcmNsZShwcm9wcykge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIENpcmNsZSk7XG5cbiAgICB2YXIgX3RoaXMgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDaXJjbGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDaXJjbGUpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5jb2xvcnMgPSBbXCIjNzRiOWZmXCIsIFwiI2U4NDM5M1wiLCBcIiM2YzVjZTdcIiwgXCIjMDBiODk0XCIsIFwiI2ZkY2I2ZVwiLCBcIiMwMDYyNjZcIiwgXCIjMUIxNDY0XCJdO1xuXG4gICAgX3RoaXMucmVuZGVyUHJvdG9uID0gX3RoaXMucmVuZGVyUHJvdG9uLmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKENpcmNsZSwgW3tcbiAgICBrZXk6IFwiY29tcG9uZW50V2lsbFVubW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBSQUZNYW5hZ2VyLnJlbW92ZSh0aGlzLnJlbmRlclByb3Rvbik7XG4gICAgICAgIHRoaXMucHJvdG9uLmRlc3Ryb3koKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uQ2FudmFzSW5pdGVkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2FudmFzSW5pdGVkKGNhbnZhcywgd2lkdGgsIGhlaWdodCkge1xuICAgICAgdGhpcy5jcmVhdGVQcm90b24oY2FudmFzLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIFJBRk1hbmFnZXIuYWRkKHRoaXMucmVuZGVyUHJvdG9uKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25SZXNpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SZXNpemUod2lkdGgsIGhlaWdodCkge1xuICAgICAgdGhpcy5jcm9zc1pvbmVCZWhhdmlvdXIuem9uZS53aWR0aCA9IHdpZHRoO1xuICAgICAgdGhpcy5jcm9zc1pvbmVCZWhhdmlvdXIuem9uZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICB0aGlzLnByb3Rvbi5yZW5kZXJlcnNbMF0ucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVQcm90b25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlUHJvdG9uKGNhbnZhcywgd2lkdGgsIGhlaWdodCkge1xuICAgICAgdGhpcy5wcm90b24gPSBuZXcgUHJvdG9uKCk7XG5cbiAgICAgIHZhciBlbWl0dGVyID0gbmV3IFByb3Rvbi5FbWl0dGVyKCk7XG4gICAgICBlbWl0dGVyLnJhdGUgPSBuZXcgUHJvdG9uLlJhdGUodGhpcy5wcm9wcy5udW0gfHwgMjApO1xuICAgICAgZW1pdHRlci5kYW1waW5nID0gMC4wMDg7XG5cbiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLk1hc3MoMSkpO1xuICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uUmFkaXVzKDMwLCA2MDApKTtcbiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLlZlbG9jaXR5KG5ldyBQcm90b24uU3BhbigwLjUpLCBuZXcgUHJvdG9uLlNwYW4oMCwgMzYwKSwgXCJwb2xhclwiKSk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5Qb3NpdGlvbihuZXcgUHJvdG9uLlJlY3Rab25lKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCkpKTtcblxuICAgICAgdmFyIGNyb3NzWm9uZUJlaGF2aW91ciA9IG5ldyBQcm90b24uQ3Jvc3Nab25lKG5ldyBQcm90b24uUmVjdFpvbmUoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KSwgXCJjcm9zc1wiKTtcbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKGNyb3NzWm9uZUJlaGF2aW91cik7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkFscGhhKFByb3Rvbi5nZXRTcGFuKDAuMzUsIDAuNTUpKSk7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkNvbG9yKHRoaXMuZ2V0Q29sb3IoKSkpO1xuICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5SYW5kb21EcmlmdCg1MCwgNTAsIDAuNSkpO1xuXG4gICAgICBlbWl0dGVyLmVtaXQoXCJvbmNlXCIpO1xuICAgICAgdGhpcy5wcm90b24uYWRkRW1pdHRlcihlbWl0dGVyKTtcblxuICAgICAgdmFyIHJlbmRlcmVyID0gbmV3IFByb3Rvbi5DYW52YXNSZW5kZXJlcihjYW52YXMpO1xuICAgICAgdGhpcy5wcm90b24uYWRkUmVuZGVyZXIocmVuZGVyZXIpO1xuXG4gICAgICB0aGlzLmNyb3NzWm9uZUJlaGF2aW91ciA9IGNyb3NzWm9uZUJlaGF2aW91cjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Q29sb3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29sb3IoKSB7XG4gICAgICB2YXIgYyA9IHRoaXMuY29sb3JzO1xuICAgICAgaWYgKHRoaXMucHJvcHMuY29sb3IpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5wcm9wcy5jb2xvcikpIHtcbiAgICAgICAgICBjID0gdGhpcy5wcm9wcy5jb2xvcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjID0gW3RoaXMucHJvcHMuY29sb3JdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJQcm90b25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyUHJvdG9uKCkge1xuICAgICAgdGhpcy5wcm90b24gJiYgdGhpcy5wcm90b24udXBkYXRlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDYW52YXMsIHsgYmc6IHRoaXMucHJvcHMuYmcsXG4gICAgICAgIGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbjogXCJkYXJrZW5cIixcbiAgICAgICAgb25DYW52YXNJbml0ZWQ6IHRoaXMub25DYW52YXNJbml0ZWQuYmluZCh0aGlzKSxcbiAgICAgICAgb25SZXNpemU6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKVxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDaXJjbGU7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbnZhciBUYWRwb2xlID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgaW5oZXJpdHMoVGFkcG9sZSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVGFkcG9sZShwcm9wcykge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIFRhZHBvbGUpO1xuXG4gICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVGFkcG9sZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFRhZHBvbGUpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5yZW5kZXJQcm90b24gPSBfdGhpcy5yZW5kZXJQcm90b24uYmluZChfdGhpcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoVGFkcG9sZSwgW3tcbiAgICBrZXk6IFwib25DYW52YXNEaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNhbnZhc0RpZE1vdW50KGNhbnZhcykge31cbiAgfSwge1xuICAgIGtleTogXCJvbkNhbnZhc0luaXRlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNhbnZhc0luaXRlZChjYW52YXMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMuY3JlYXRlUHJvdG9uKGNhbnZhcywgd2lkdGgsIGhlaWdodCk7XG4gICAgICB0aGlzLnJlbmRlclByb3RvbigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblJlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlc2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB0aGlzLmNyb3NzWm9uZUJlaGF2aW91ci56b25lLndpZHRoID0gd2lkdGg7XG4gICAgICB0aGlzLmNyb3NzWm9uZUJlaGF2aW91ci56b25lLmhlaWdodCA9IGhlaWdodDtcbiAgICAgIHRoaXMucHJvdG9uLnJlbmRlcmVyc1swXS5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZVByb3RvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVQcm90b24oY2FudmFzLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB0aGlzLnByb3RvbiA9IG5ldyBQcm90b24oKTtcblxuICAgICAgdmFyIGVtaXR0ZXIgPSBuZXcgUHJvdG9uLkVtaXR0ZXIoKTtcbiAgICAgIGVtaXR0ZXIuZGFtcGluZyA9IDAuMDA4O1xuICAgICAgZW1pdHRlci5yYXRlID0gbmV3IFByb3Rvbi5SYXRlKHRoaXMucHJvcHMubnVtID8gdGhpcy5wcm9wcy5udW0gOiA1MCk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5NYXNzKDEpKTtcbiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLlJhZGl1cyg1LCA5KSk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5WZWxvY2l0eShuZXcgUHJvdG9uLlNwYW4oMS41KSwgbmV3IFByb3Rvbi5TcGFuKDAsIDM2MCksIFwicG9sYXJcIikpO1xuICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uUG9zaXRpb24obmV3IFByb3Rvbi5SZWN0Wm9uZSgwLCAwLCB3aWR0aCwgaGVpZ2h0KSkpO1xuXG4gICAgICB2YXIgbW91c2VJbmZvID0ge1xuICAgICAgICB4OiB3aWR0aCAvIDIsXG4gICAgICAgIHk6IGhlaWdodCAvIDJcbiAgICAgIH07XG5cbiAgICAgIHZhciBhdHRyYWN0aW9uQmVoYXZpb3VyID0gbmV3IFByb3Rvbi5BdHRyYWN0aW9uKG1vdXNlSW5mbywgMCwgMCk7XG4gICAgICB2YXIgY3Jvc3Nab25lQmVoYXZpb3VyID0gbmV3IFByb3Rvbi5Dcm9zc1pvbmUobmV3IFByb3Rvbi5SZWN0Wm9uZSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpLCBcImJvdW5kXCIpO1xuICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5Db2xvcih0aGlzLnByb3BzLmNvbG9yIHx8IFwiI2JiYlwiKSk7XG4gICAgICAvL2VtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uQWxwaGEobmV3IFByb3Rvbi5TcGFuKDAuNSwgMSkpKTtcbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKGF0dHJhY3Rpb25CZWhhdmlvdXIsIGNyb3NzWm9uZUJlaGF2aW91cik7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLlJhbmRvbURyaWZ0KDE1LCAxNSwgMC4wNSkpO1xuICAgICAgZW1pdHRlci5lbWl0KFwib25jZVwiKTtcblxuICAgICAgdGhpcy5wcm90b24uYWRkRW1pdHRlcihlbWl0dGVyKTtcbiAgICAgIHRoaXMucHJvdG9uLmFkZFJlbmRlcmVyKHRoaXMuY3JlYXRlUmVuZGVyZXIoY2FudmFzKSk7XG4gICAgICB0aGlzLmNyb3NzWm9uZUJlaGF2aW91ciA9IGNyb3NzWm9uZUJlaGF2aW91cjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlUmVuZGVyZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIoY2FudmFzKSB7XG4gICAgICB2YXIgam9pbnRDb3VudCA9IDEwO1xuICAgICAgdmFyIGRlbGF5VGltZSA9IDg7XG4gICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICB2YXIgcmVuZGVyZXIgPSBuZXcgUHJvdG9uLkNhbnZhc1JlbmRlcmVyKGNhbnZhcyk7XG5cbiAgICAgIHJlbmRlcmVyLm9uUHJvdG9uVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgfTtcblxuICAgICAgcmVuZGVyZXIub25QYXJ0aWNsZUNyZWF0ZWQgPSBmdW5jdGlvbiAocGFydGljbGUpIHtcbiAgICAgICAgcGFydGljbGUuZGF0YS5wb2ludHMgPSBbXTtcbiAgICAgICAgcGFydGljbGUuZGF0YS5pbmRleCA9IDA7XG4gICAgICB9O1xuXG4gICAgICByZW5kZXJlci5vblBhcnRpY2xlVXBkYXRlID0gZnVuY3Rpb24gKHBhcnRpY2xlKSB7XG4gICAgICAgIGRyYXdUYWRwb2xlVGFpbChwYXJ0aWNsZSk7XG4gICAgICAgIGlmIChwYXJ0aWNsZS5kYXRhLmluZGV4ICUgZGVsYXlUaW1lID09PSAwKSBmaWxsUG9pbnRzRGF0YShwYXJ0aWNsZSk7XG4gICAgICAgIGRyYXdUYWRwb2xlSGVhZChwYXJ0aWNsZSk7XG4gICAgICAgIHBhcnRpY2xlLmRhdGEuaW5kZXgrKztcbiAgICAgIH07XG5cbiAgICAgIHZhciBmaWxsUG9pbnRzRGF0YSA9IGZ1bmN0aW9uIGZpbGxQb2ludHNEYXRhKHBhcnRpY2xlKSB7XG4gICAgICAgIHBhcnRpY2xlLmRhdGEucG9pbnRzLnVuc2hpZnQocGFydGljbGUucC55KTtcbiAgICAgICAgcGFydGljbGUuZGF0YS5wb2ludHMudW5zaGlmdChwYXJ0aWNsZS5wLngpO1xuXG4gICAgICAgIGlmIChwYXJ0aWNsZS5kYXRhLnBvaW50cy5sZW5ndGggPiBqb2ludENvdW50KSB7XG4gICAgICAgICAgcGFydGljbGUuZGF0YS5wb2ludHMucG9wKCk7XG4gICAgICAgICAgcGFydGljbGUuZGF0YS5wb2ludHMucG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBkcmF3VGFkcG9sZUhlYWQgPSBmdW5jdGlvbiBkcmF3VGFkcG9sZUhlYWQocGFydGljbGUpIHtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBwYXJ0aWNsZS5jb2xvcjtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dC5hcmMocGFydGljbGUucC54LCBwYXJ0aWNsZS5wLnksIHBhcnRpY2xlLnJhZGl1cywgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xuICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBkcmF3VGFkcG9sZVRhaWwgPSBmdW5jdGlvbiBkcmF3VGFkcG9sZVRhaWwocGFydGljbGUpIHtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHBhcnRpY2xlLmNvbG9yO1xuXG4gICAgICAgIGNvbnRleHQubW92ZVRvKHBhcnRpY2xlLnAueCwgcGFydGljbGUucC55KTtcblxuICAgICAgICB2YXIgbCA9IHBhcnRpY2xlLmRhdGEucG9pbnRzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpICs9IDIpIHtcbiAgICAgICAgICB2YXIgeCA9IHBhcnRpY2xlLmRhdGEucG9pbnRzW2ldO1xuICAgICAgICAgIHZhciB5ID0gcGFydGljbGUuZGF0YS5wb2ludHNbaSArIDFdO1xuXG4gICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBsaW5lYXJFdmFsdWF0aW9uKGksIGwpO1xuICAgICAgICAgIGNvbnRleHQubGluZVRvKHgsIHkpO1xuICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBsaW5lYXJFdmFsdWF0aW9uID0gZnVuY3Rpb24gbGluZWFyRXZhbHVhdGlvbihpLCBsKSB7XG4gICAgICAgIGlmIChsIDw9IDIpIHJldHVybiAxO1xuXG4gICAgICAgIHZhciBtYXggPSA2O1xuICAgICAgICB2YXIgQSA9IChtYXggLSAxKSAvICgyIC8gbCAtIDEpO1xuICAgICAgICB2YXIgQiA9IDEgLSBBO1xuICAgICAgICB2YXIgWCA9IChpICsgMikgLyBsO1xuICAgICAgICB2YXIgdmFsID0gQSAqIFggKyBCO1xuICAgICAgICB2YWwgPSB2YWwgPj4gMDtcblxuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHJlbmRlcmVyO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJQcm90b25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyUHJvdG9uKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIFJBRk1hbmFnZXIuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMyLnByb3Rvbi51cGRhdGUoKTtcbiAgICAgICAgLy90aGlzLnByb3Rvbi5zdGF0cy51cGRhdGUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2FudmFzLCB7IGJnOiB0aGlzLnByb3BzLmJnLFxuICAgICAgICBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb246IFwiZGFya2VyXCIsXG4gICAgICAgIG9uQ2FudmFzRGlkTW91bnQ6IHRoaXMub25DYW52YXNEaWRNb3VudC5iaW5kKHRoaXMpLFxuICAgICAgICBvbkNhbnZhc0luaXRlZDogdGhpcy5vbkNhbnZhc0luaXRlZC5iaW5kKHRoaXMpLFxuICAgICAgICBvblJlc2l6ZTogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpXG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFRhZHBvbGU7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbnZhciBDT0xPUiA9IFtcIiNmNmI5M2JcIiwgXCIjMThkY2ZmXCIsIFwiI2NkODRmMVwiLCBcIiNFRDRDNjdcIiwgXCIjZmZmZmZmXCIsIFwiI2I3MTU0MFwiLCBcIiMzMmZmN2VcIiwgXCIjZmYzODM4XCJdO1xuXG52YXIgUG9seWdvbiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIGluaGVyaXRzKFBvbHlnb24sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFBvbHlnb24ocHJvcHMpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBQb2x5Z29uKTtcblxuICAgIHZhciBfdGhpcyA9IHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFBvbHlnb24uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihQb2x5Z29uKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMucmVuZGVyUHJvdG9uID0gX3RoaXMucmVuZGVyUHJvdG9uLmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKFBvbHlnb24sIFt7XG4gICAga2V5OiBcIm9uQ2FudmFzSW5pdGVkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2FudmFzSW5pdGVkKGNhbnZhcywgd2lkdGgsIGhlaWdodCkge1xuICAgICAgdGhpcy5jcmVhdGVQcm90b24oY2FudmFzKTtcbiAgICAgIHRoaXMuY3JlYXRlRW1pdHRlcih7XG4gICAgICAgIGNhbnZhczogY2FudmFzLFxuICAgICAgICB4OiB3aWR0aCAvIDIsXG4gICAgICAgIHk6IGhlaWdodCAvIDIsXG4gICAgICAgIG1haW5FbWl0dGVyOiB0cnVlLFxuICAgICAgICB6b25lOiBcImJvdW5kXCJcbiAgICAgIH0pO1xuXG4gICAgICBSQUZNYW5hZ2VyLmFkZCh0aGlzLnJlbmRlclByb3Rvbik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgUkFGTWFuYWdlci5yZW1vdmUodGhpcy5yZW5kZXJQcm90b24pO1xuICAgICAgICB0aGlzLnByb3Rvbi5kZXN0cm95KCk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblJlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlc2l6ZSgpIHt9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlUHJvdG9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVByb3RvbihjYW52YXMpIHtcbiAgICAgIHRoaXMucHJvdG9uID0gbmV3IFByb3RvbigpO1xuICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5jcmVhdGVSZW5kZXJlcihjYW52YXMpO1xuICAgICAgdGhpcy5wcm90b24uYWRkUmVuZGVyZXIocmVuZGVyZXIpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVSZW5kZXJlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVSZW5kZXJlcihjYW52YXMpIHtcbiAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgIHZhciByZW5kZXJlciA9IG5ldyBQcm90b24uQ3VzdG9tUmVuZGVyZXIoKTtcblxuICAgICAgcmVuZGVyZXIub25Qcm90b25VcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICB9O1xuXG4gICAgICByZW5kZXJlci5vblBhcnRpY2xlQ3JlYXRlZCA9IGZ1bmN0aW9uIChwYXJ0aWNsZSkge1xuICAgICAgICBwYXJ0aWNsZS5kYXRhLmNvdW50ID0gUHJvdG9uLk1hdGhVdGlsLnJhbmRvbUFUb0IoMywgMTAsIHRydWUpO1xuICAgICAgfTtcblxuICAgICAgcmVuZGVyZXIub25QYXJ0aWNsZVVwZGF0ZSA9IGZ1bmN0aW9uIChwYXJ0aWNsZSkge1xuICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IHBhcnRpY2xlLmFscGhhO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHBhcnRpY2xlLmNvbG9yO1xuXG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHBhcnRpY2xlLnAueCwgcGFydGljbGUucC55KTtcbiAgICAgICAgY29udGV4dC5yb3RhdGUoUHJvdG9uLk1hdGhVdGlsLmRlZ3JlZVRyYW5zZm9ybShwYXJ0aWNsZS5yb3RhdGlvbikpO1xuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSgtcGFydGljbGUucC54LCAtcGFydGljbGUucC55KTtcblxuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBkcmF3UG9seWdvbihwYXJ0aWNsZSwgcGFydGljbGUuZGF0YS5jb3VudCk7XG5cbiAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSAxO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgIH07XG5cbiAgICAgIHJlbmRlcmVyLm9uUGFydGljbGVEZWFkID0gZnVuY3Rpb24gKHBhcnRpY2xlKSB7fTtcblxuICAgICAgdmFyIGRyYXdQb2x5Z29uID0gZnVuY3Rpb24gZHJhd1BvbHlnb24ocGFydGljbGUsIGNvdW50KSB7XG4gICAgICAgIGlmIChjb3VudCA+PSA3KSB7XG4gICAgICAgICAgY29udGV4dC5hcmMocGFydGljbGUucC54LCBwYXJ0aWNsZS5wLnksIHBhcnRpY2xlLnJhZGl1cywgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciByYWRpdXMgPSBwYXJ0aWNsZS5yYWRpdXM7XG5cbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHBhcnRpY2xlLnAueCArIHJhZGl1cyAqIE1hdGguY29zKE1hdGguUEkgLyAxODAgKiAzNjAgLyBjb3VudCAqIGkpO1xuICAgICAgICAgICAgdmFyIHkgPSBwYXJ0aWNsZS5wLnkgKyByYWRpdXMgKiBNYXRoLnNpbihNYXRoLlBJIC8gMTgwICogMzYwIC8gY291bnQgKiBpKTtcblxuICAgICAgICAgICAgaWYgKGkgPT09IDApIGNvbnRleHQubW92ZVRvKHgsIHkpO2Vsc2UgY29udGV4dC5saW5lVG8oeCwgeSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gcmVuZGVyZXI7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZUVtaXR0ZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlRW1pdHRlcihfcmVmKSB7XG4gICAgICB2YXIgbWFpbkVtaXR0ZXIgPSBfcmVmLm1haW5FbWl0dGVyLFxuICAgICAgICAgIGNhbnZhcyA9IF9yZWYuY2FudmFzLFxuICAgICAgICAgIHggPSBfcmVmLngsXG4gICAgICAgICAgeSA9IF9yZWYueSxcbiAgICAgICAgICByYWRpdXMgPSBfcmVmLnJhZGl1cyxcbiAgICAgICAgICBfcmVmJGNvbG9yID0gX3JlZi5jb2xvcixcbiAgICAgICAgICBjb2xvciA9IF9yZWYkY29sb3IgPT09IHVuZGVmaW5lZCA/IENPTE9SIDogX3JlZiRjb2xvcixcbiAgICAgICAgICBfcmVmJHpvbmUgPSBfcmVmLnpvbmUsXG4gICAgICAgICAgem9uZSA9IF9yZWYkem9uZSA9PT0gdW5kZWZpbmVkID8gXCJkZWFkXCIgOiBfcmVmJHpvbmUsXG4gICAgICAgICAgX3JlZiRvbmNlID0gX3JlZi5vbmNlLFxuICAgICAgICAgIG9uY2UgPSBfcmVmJG9uY2UgPT09IHVuZGVmaW5lZCA/IFwiYWxsXCIgOiBfcmVmJG9uY2UsXG4gICAgICAgICAgX3JlZiRhbHBoYSA9IF9yZWYuYWxwaGEsXG4gICAgICAgICAgYWxwaGEgPSBfcmVmJGFscGhhID09PSB1bmRlZmluZWQgPyAwLjg1IDogX3JlZiRhbHBoYSxcbiAgICAgICAgICBfcmVmJGdyYXZpdHkgPSBfcmVmLmdyYXZpdHksXG4gICAgICAgICAgZ3Jhdml0eSA9IF9yZWYkZ3Jhdml0eSA9PT0gdW5kZWZpbmVkID8gMy41IDogX3JlZiRncmF2aXR5O1xuXG4gICAgICB2YXIgZW1pdHRlciA9IHRoaXMucHJvdG9uLnBvb2wuZ2V0KFByb3Rvbi5FbWl0dGVyKTtcblxuICAgICAgaWYgKCFlbWl0dGVyLmNvbXBsZXRlZCkge1xuICAgICAgICBlbWl0dGVyLnJhdGUgPSBuZXcgUHJvdG9uLlJhdGUodGhpcy5wcm9wcy5udW0gPyBuZXcgUHJvdG9uLlNwYW4odGhpcy5wcm9wcy5udW0pIDogbmV3IFByb3Rvbi5TcGFuKDQsIDkpLCBuZXcgUHJvdG9uLlNwYW4oMS42LCAyLjIpKTtcblxuICAgICAgICB2YXIgcmFkaXVzSW5pdCA9IG1haW5FbWl0dGVyID8gbmV3IFByb3Rvbi5SYWRpdXMoMTAsIDExMCkgOiBuZXcgUHJvdG9uLlJhZGl1cygzLCByYWRpdXMpO1xuICAgICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5NYXNzKDEpKTtcbiAgICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKHJhZGl1c0luaXQpO1xuICAgICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5MaWZlKDMsIDYpKTtcbiAgICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uVmVsb2NpdHkobmV3IFByb3Rvbi5TcGFuKDQsIDYpLCBuZXcgUHJvdG9uLlNwYW4oLTkwLCA5MCksIFwicG9sYXJcIikpO1xuXG4gICAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uQWxwaGEoYWxwaGEsIDAuMikpO1xuICAgICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkNvbG9yKGNvbG9yKSk7XG4gICAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uU2NhbGUoMSwgMC4zKSk7XG4gICAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uUm90YXRlKCkpO1xuICAgICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkdyYXZpdHkoZ3Jhdml0eSkpO1xuXG4gICAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKHRoaXMuY3VzdG9tRGVhZEJlaGF2aW91cihjYW52YXMpKTtcbiAgICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5Dcm9zc1pvbmUobmV3IFByb3Rvbi5SZWN0Wm9uZSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpLCB6b25lKSk7XG4gICAgICB9XG5cbiAgICAgIGVtaXR0ZXIucC54ID0geDtcbiAgICAgIGVtaXR0ZXIucC55ID0geTtcbiAgICAgIGlmIChvbmNlID09PSBcIm9uY2VcIikgZW1pdHRlci5lbWl0KFwib25jZVwiKTtlbHNlIGVtaXR0ZXIuZW1pdCgpO1xuXG4gICAgICB0aGlzLnByb3Rvbi5hZGRFbWl0dGVyKGVtaXR0ZXIpO1xuICAgICAgLy90aGlzLmV4cGlyZUVtaXR0ZXIoZW1pdHRlcik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImV4cGlyZUVtaXR0ZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXhwaXJlRW1pdHRlcihlbWl0dGVyKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGVtaXR0ZXIuY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMyLnByb3Rvbi5wb29sLmV4cGlyZShlbWl0dGVyKTtcbiAgICAgICAgX3RoaXMyLnByb3Rvbi5yZW1vdmVFbWl0dGVyKGVtaXR0ZXIpO1xuICAgICAgfSwgNTAwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3VzdG9tRGVhZEJlaGF2aW91clwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjdXN0b21EZWFkQmVoYXZpb3VyKGNhbnZhcykge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUocGFydGljbGUpIHtcbiAgICAgICAgICBwYXJ0aWNsZS5kYXRhID0gcGFydGljbGUuZGF0YSB8fCB7fTtcbiAgICAgICAgICBwYXJ0aWNsZS5kYXRhLm9sZFJhZGl1cyA9IHBhcnRpY2xlLnJhZGl1cztcbiAgICAgICAgICBwYXJ0aWNsZS5kYXRhLmVtaXR0ZXJDb3VudCA9IDA7XG4gICAgICAgIH0sXG4gICAgICAgIGFwcGx5QmVoYXZpb3VyOiBmdW5jdGlvbiBhcHBseUJlaGF2aW91cihwYXJ0aWNsZSkge1xuICAgICAgICAgIGlmIChwYXJ0aWNsZS5yYWRpdXMgPCA1KSByZXR1cm47XG4gICAgICAgICAgaWYgKHBhcnRpY2xlLmRhdGEuZW1pdHRlckNvdW50ID49IDIpIHJldHVybjtcblxuICAgICAgICAgIGlmIChwYXJ0aWNsZS5yYWRpdXMgPD0gMSAvIDMgKiBwYXJ0aWNsZS5kYXRhLm9sZFJhZGl1cykge1xuICAgICAgICAgICAgcGFydGljbGUuZGF0YS5lbWl0dGVyQ291bnQrKztcbiAgICAgICAgICAgIF90aGlzMy5jcmVhdGVFbWl0dGVyKHtcbiAgICAgICAgICAgICAgY2FudmFzOiBjYW52YXMsXG4gICAgICAgICAgICAgIHg6IHBhcnRpY2xlLnAueCxcbiAgICAgICAgICAgICAgeTogcGFydGljbGUucC55LFxuICAgICAgICAgICAgICByYWRpdXM6IHBhcnRpY2xlLnJhZGl1cyAqICgxIC8gMiksXG4gICAgICAgICAgICAgIGFscGhhOiAwLjUsXG4gICAgICAgICAgICAgIGdyYXZpdHk6IDUsXG4gICAgICAgICAgICAgIGNvbG9yOiBwYXJ0aWNsZS5jb2xvcixcbiAgICAgICAgICAgICAgb25jZTogXCJvbmNlXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyUHJvdG9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclByb3RvbigpIHtcbiAgICAgIHRoaXMucHJvdG9uICYmIHRoaXMucHJvdG9uLnVwZGF0ZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2FudmFzLCB7IGJnOiB0aGlzLnByb3BzLmJnLFxuICAgICAgICBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb246IFwiZGFya2VyXCIsXG4gICAgICAgIG9uQ2FudmFzSW5pdGVkOiB0aGlzLm9uQ2FudmFzSW5pdGVkLmJpbmQodGhpcyksXG4gICAgICAgIG9uUmVzaXplOiB0aGlzLm9uUmVzaXplLmJpbmQodGhpcylcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gUG9seWdvbjtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxudmFyIEZvdW50YWluID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgaW5oZXJpdHMoRm91bnRhaW4sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEZvdW50YWluKHByb3BzKSB7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgRm91bnRhaW4pO1xuXG4gICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRm91bnRhaW4uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihGb3VudGFpbikpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLmNvbG9ycyA9IFtcIiM1MjlCODhcIiwgXCIjQ0REMTgwXCIsIFwiI0ZGRkEzMlwiLCBcIiNGQjYyNTVcIiwgXCIjRkI0QTUzXCIsIFwiI0ZGNEU1MFwiLCBcIiNGOUQ0MjNcIl07XG4gICAgX3RoaXMucmVuZGVyUHJvdG9uID0gX3RoaXMucmVuZGVyUHJvdG9uLmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKEZvdW50YWluLCBbe1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIFJBRk1hbmFnZXIucmVtb3ZlKHRoaXMucmVuZGVyUHJvdG9uKTtcbiAgICAgICAgdGhpcy5wcm90b24uZGVzdHJveSgpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25DYW52YXNJbml0ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25DYW52YXNJbml0ZWQoY2FudmFzLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB0aGlzLmNyZWF0ZVByb3RvbihjYW52YXMsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgUkFGTWFuYWdlci5hZGQodGhpcy5yZW5kZXJQcm90b24pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblJlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlc2l6ZSgpIHt9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlUHJvdG9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVByb3RvbihjYW52YXMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMucHJvdG9uID0gbmV3IFByb3RvbigpO1xuICAgICAgdmFyIGVtaXR0ZXIgPSBuZXcgUHJvdG9uLkVtaXR0ZXIoKTtcbiAgICAgIGVtaXR0ZXIucmF0ZSA9IG5ldyBQcm90b24uUmF0ZSh0aGlzLnByb3BzLm51bSA/IG5ldyBQcm90b24uU3Bhbih0aGlzLnByb3BzLm51bSkgOiBuZXcgUHJvdG9uLlNwYW4oNCwgOCksIG5ldyBQcm90b24uU3BhbigwLjEsIDAuMjUpKTtcblxuICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uTWFzcygxKSk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5SYWRpdXMoMjAsIDIwMCkpO1xuICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uTGlmZSgyLCA0KSk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5WZWxvY2l0eShuZXcgUHJvdG9uLlNwYW4oNCwgNyksIG5ldyBQcm90b24uU3BhbigwLCAzNjApLCBcInBvbGFyXCIpKTtcbiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLlBvc2l0aW9uKG5ldyBQcm90b24uQ2lyY2xlWm9uZSh3aWR0aCAvIDIsIGhlaWdodCAvIDIsIDEwMCkpKTtcblxuICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5BbHBoYSgxLCAwKSk7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLlNjYWxlKDAuMiwgMSkpO1xuICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIodGhpcy5jcmVhdGVDdXN0b21CZWhhdmlvdXIoKSk7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkNvbG9yKHRoaXMuY29sb3JzLCBcInJhbmRvbVwiKSk7XG4gICAgICBlbWl0dGVyLmVtaXQoKTtcbiAgICAgIHRoaXMucHJvdG9uLmFkZEVtaXR0ZXIoZW1pdHRlcik7XG5cbiAgICAgIHZhciByZW5kZXJlciA9IG5ldyBQcm90b24uQ2FudmFzUmVuZGVyZXIoY2FudmFzKTtcbiAgICAgIHRoaXMucHJvdG9uLmFkZFJlbmRlcmVyKHJlbmRlcmVyKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlQ3VzdG9tQmVoYXZpb3VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUN1c3RvbUJlaGF2aW91cigpIHtcbiAgICAgIHZhciBmID0gMTAgKiAxMDA7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHBhcnRpY2xlKSB7XG4gICAgICAgICAgcGFydGljbGUuZiA9IG5ldyBQcm90b24uVmVjdG9yMkQoMCwgMCk7XG4gICAgICAgIH0sXG4gICAgICAgIGFwcGx5QmVoYXZpb3VyOiBmdW5jdGlvbiBhcHBseUJlaGF2aW91cihwYXJ0aWNsZSkge1xuICAgICAgICAgIHZhciBsZW5ndGggPSBwYXJ0aWNsZS52Lmxlbmd0aCgpIC8gMTAwMDtcbiAgICAgICAgICB2YXIgZ3JhZGllbnQgPSBwYXJ0aWNsZS52LmdldEdyYWRpZW50KCk7XG4gICAgICAgICAgZ3JhZGllbnQgKz0gMy4xNCAvIDI7XG5cbiAgICAgICAgICBwYXJ0aWNsZS5mLnggPSBmICogbGVuZ3RoICogTWF0aC5jb3MoZ3JhZGllbnQpO1xuICAgICAgICAgIHBhcnRpY2xlLmYueSA9IGYgKiBsZW5ndGggKiBNYXRoLnNpbihncmFkaWVudCk7XG4gICAgICAgICAgcGFydGljbGUuYS5hZGQocGFydGljbGUuZik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclByb3RvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJQcm90b24oKSB7XG4gICAgICB0aGlzLnByb3RvbiAmJiB0aGlzLnByb3Rvbi51cGRhdGUoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENhbnZhcywgeyBiZzogdGhpcy5wcm9wcy5iZyxcbiAgICAgICAgZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uOiBcInhvclwiLFxuICAgICAgICBvbkNhbnZhc0luaXRlZDogdGhpcy5vbkNhbnZhc0luaXRlZC5iaW5kKHRoaXMpLFxuICAgICAgICBvblJlc2l6ZTogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpXG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEZvdW50YWluO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG52YXIgUGFydGljbGVzQmcgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBpbmhlcml0cyhQYXJ0aWNsZXNCZywgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUGFydGljbGVzQmcocHJvcHMpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBQYXJ0aWNsZXNCZyk7XG4gICAgcmV0dXJuIHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFBhcnRpY2xlc0JnLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUGFydGljbGVzQmcpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhQYXJ0aWNsZXNCZywgW3tcbiAgICBrZXk6IFwiZ2V0UmFuZG9tXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJhbmRvbSgpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIG51bSA9IF9wcm9wcy5udW0sXG4gICAgICAgICAgYmcgPSBfcHJvcHMuYmcsXG4gICAgICAgICAgY29sb3IgPSBfcHJvcHMuY29sb3I7XG5cbiAgICAgIC8vIENvZGUgc291cmNlIGZyb20gaGVyZSwgdGhhbmtzIGF1dGhvclxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2RyYXdjYWxsL1Byb3Rvbi9ibG9iL2doLXBhZ2VzL3NvdXJjZS9zcmMvdXRpbHMvUmFuZC5qc1xuXG4gICAgICBpZiAoIXRoaXMucmFuZG9tKSB7XG4gICAgICAgIHRoaXMucmFuZG9tID0gbmV3IFJhbmQoKTtcbiAgICAgICAgdGhpcy5yYW5kb20uc2V0KDAuMjUsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29sb3IsIHsgbnVtOiBudW0sIGJnOiBiZywgY29sb3I6IGNvbG9yIH0pKTtcbiAgICAgICAgdGhpcy5yYW5kb20uc2V0KDAuMiwgUmVhY3QuY3JlYXRlRWxlbWVudChCYWxsLCB7IG51bTogbnVtLCBiZzogYmcsIGNvbG9yOiBjb2xvciB9KSk7XG4gICAgICAgIHRoaXMucmFuZG9tLnNldCgwLjIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGluZXMsIHsgbnVtOiBudW0sIGJnOiBiZywgY29sb3I6IGNvbG9yIH0pKTtcbiAgICAgICAgdGhpcy5yYW5kb20uc2V0KDAuMTYsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGhpY2ssIHsgbnVtOiBudW0sIGJnOiBiZywgY29sb3I6IGNvbG9yIH0pKTtcbiAgICAgICAgdGhpcy5yYW5kb20uc2V0KDAuMTgsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2lyY2xlLCB7IG51bTogbnVtLCBiZzogYmcsIGNvbG9yOiBjb2xvciB9KSk7XG4gICAgICAgIHRoaXMucmFuZG9tLnNldCgwLjA0LCBSZWFjdC5jcmVhdGVFbGVtZW50KENvYndlYiwgeyBudW06IG51bSwgYmc6IGJnLCBjb2xvcjogY29sb3IgfSkpO1xuICAgICAgICB0aGlzLnJhbmRvbS5zZXQoMC4xLCBSZWFjdC5jcmVhdGVFbGVtZW50KFBvbHlnb24sIHsgbnVtOiBudW0sIGJnOiBiZywgY29sb3I6IGNvbG9yIH0pKTtcbiAgICAgICAgdGhpcy5yYW5kb20uc2V0KDAuMDgsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3F1YXJlLCB7IG51bTogbnVtLCBiZzogYmcsIGNvbG9yOiBjb2xvciB9KSk7XG4gICAgICAgIHRoaXMucmFuZG9tLnNldCgwLjE4LCBSZWFjdC5jcmVhdGVFbGVtZW50KFRhZHBvbGUsIHsgbnVtOiBudW0sIGJnOiBiZywgY29sb3I6IGNvbG9yIH0pKTtcbiAgICAgICAgdGhpcy5yYW5kb20uc2V0KDAuMTUsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm91bnRhaW4sIHsgbnVtOiBudW0sIGJnOiBiZywgY29sb3I6IGNvbG9yIH0pKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnJhbmRvbS5nZXRSZXN1bHQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0QmdQYXJ0aWNsZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QmdQYXJ0aWNsZXMoKSB7XG4gICAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgdHlwZSA9IF9wcm9wczIudHlwZSxcbiAgICAgICAgICBudW0gPSBfcHJvcHMyLm51bSxcbiAgICAgICAgICBiZyA9IF9wcm9wczIuYmcsXG4gICAgICAgICAgY29sb3IgPSBfcHJvcHMyLmNvbG9yLFxuICAgICAgICAgIGNvbmZpZyA9IF9wcm9wczIuY29uZmlnO1xuXG5cbiAgICAgIHZhciBwYXJ0aWNsZXMgPSB2b2lkIDA7XG4gICAgICBzd2l0Y2ggKFN0cmluZyh0eXBlKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgIGNhc2UgXCJjb2xvclwiOlxuICAgICAgICAgIHBhcnRpY2xlcyA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29sb3IsIHsgbnVtOiBudW0sIGJnOiBiZywgY29sb3I6IGNvbG9yIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYmFsbFwiOlxuICAgICAgICAgIHBhcnRpY2xlcyA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQmFsbCwgeyBudW06IG51bSwgYmc6IGJnLCBjb2xvcjogY29sb3IgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJsaW5lc1wiOlxuICAgICAgICAgIHBhcnRpY2xlcyA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGluZXMsIHsgbnVtOiBudW0sIGJnOiBiZywgY29sb3I6IGNvbG9yIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidGhpY2tcIjpcbiAgICAgICAgICBwYXJ0aWNsZXMgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFRoaWNrLCB7IG51bTogbnVtLCBiZzogYmcsIGNvbG9yOiBjb2xvciB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNpcmNsZVwiOlxuICAgICAgICAgIHBhcnRpY2xlcyA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2lyY2xlLCB7IG51bTogbnVtLCBiZzogYmcsIGNvbG9yOiBjb2xvciB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNvYndlYlwiOlxuICAgICAgICAgIHBhcnRpY2xlcyA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29id2ViLCB7IG51bTogbnVtLCBiZzogYmcsIGNvbG9yOiBjb2xvciB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInBvbHlnb25cIjpcbiAgICAgICAgICBwYXJ0aWNsZXMgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFBvbHlnb24sIHsgbnVtOiBudW0sIGJnOiBiZywgY29sb3I6IGNvbG9yIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3F1YXJlXCI6XG4gICAgICAgICAgcGFydGljbGVzID0gUmVhY3QuY3JlYXRlRWxlbWVudChTcXVhcmUsIHsgbnVtOiBudW0sIGJnOiBiZywgY29sb3I6IGNvbG9yIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidGFkcG9sZVwiOlxuICAgICAgICAgIHBhcnRpY2xlcyA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFkcG9sZSwgeyBudW06IG51bSwgYmc6IGJnLCBjb2xvcjogY29sb3IgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJmb3VudGFpblwiOlxuICAgICAgICAgIHBhcnRpY2xlcyA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm91bnRhaW4sIHsgbnVtOiBudW0sIGJnOiBiZywgY29sb3I6IGNvbG9yIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiY3VzdG9tXCI6XG4gICAgICAgICAgcGFydGljbGVzID0gUmVhY3QuY3JlYXRlRWxlbWVudChDb2xvciQxLCB7IGJnOiBiZywgY29uZmlnOiBjb25maWcgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyYW5kb21cIjpcbiAgICAgICAgICBwYXJ0aWNsZXMgPSB0aGlzLmdldFJhbmRvbShudW0pO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcGFydGljbGVzID0gUmVhY3QuY3JlYXRlRWxlbWVudChDb2xvciwgeyBudW06IG51bSwgYmc6IGJnLCBjb2xvcjogY29sb3IgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJ0aWNsZXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgcGFydGljbGVzID0gdGhpcy5nZXRCZ1BhcnRpY2xlcygpO1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIFJlYWN0LkZyYWdtZW50LFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJ0aWNsZXNcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBQYXJ0aWNsZXNCZztcbn0oQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgUGFydGljbGVzQmc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/particles-bg@2.5.5/node_modules/particles-bg/dist/index.es.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/proton-engine@4.2.1/node_modules/proton-engine/build/proton.min.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/.pnpm/proton-engine@4.2.1/node_modules/proton-engine/build/proton.min.js ***!
  \***********************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("/*!\n* Proton v4.2.1\n* https://github.com/drawcall/Proton\n*\n* Copyright 2013-2020, A-JIE\n* Licensed under the MIT license\n* http://www.opensource.org/licenses/mit-license\n*\n*/\n!function(t,e){ true?module.exports=e():0}(this,function(){\"use strict\";var e=3.1415926,s={PI:e,PIx2:2*e,PI_2:e/2,PI_180:e/180,N180_PI:180/e,Infinity:-999,isInfinity:function(t){return t===this.Infinity||t===1/0},randomAToB:function(t,e,i){return 2<arguments.length&&void 0!==i&&i?Math.floor(Math.random()*(e-t))+t:t+Math.random()*(e-t)},randomFloating:function(t,e,i){return this.randomAToB(t-e,t+e,i)},randomColor:function(){return\"#\"+(\"00000\"+(16777216*Math.random()<<0).toString(16)).slice(-6)},randomZone:function(){},floor:function(t,e){e=1<arguments.length&&void 0!==e?e:4,e=Math.pow(10,e);return Math.floor(t*e)/e},degreeTransform:function(t){return t*e/180},toColor16:function(t){return\"#\"+t.toString(16)}},i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},o=function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")},t=function(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t};function a(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,e,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,e);if(void 0!==a){if(\"value\"in a)return a.value;a=a.get;return void 0!==a?a.call(i):void 0}if(null!==(t=Object.getPrototypeOf(t)))return n(t,e,i)}var r=function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},h=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e},l=(t(u,[{key:\"getValue\",value:function(t){t=0<arguments.length&&void 0!==t&&t;return this.isArray?P.getRandFromArray(this.a):this.center?s.randomFloating(this.a,this.b,t):s.randomAToB(this.a,this.b,t)}}],[{key:\"setSpanValue\",value:function(t,e,i){return t instanceof u?t:void 0===e?new u(t):void 0===i?new u(t,e):new u(t,e,i)}},{key:\"getSpanValue\",value:function(t){return t instanceof u?t.getValue():t}}]),u);function u(t,e,i){o(this,u),P.isArray(t)?(this.isArray=!0,this.a=t):(this.isArray=!1,this.a=P.initValue(t,1),this.b=P.initValue(e,this.a),this.center=P.initValue(i,!1))}var c=function(t){--t;for(var e=1;e<32;e<<=1)t|=t>>e;return t+1},d=function(t,e){return[1,0,0,0,1,0,t,e,1]},y=function(t){var e=Math.cos(t),t=Math.sin(t);return[e,-t,0,t,e,0,0,0,1]},p=function(t,e){return[t,0,0,0,e,0,0,0,1]},f=function(t,e){var i=t[0],a=t[1],r=t[2],n=t[3],s=t[4],o=t[5],h=t[6],l=t[7],u=t[8],c=e[0],d=e[1],y=e[2],p=e[3],f=e[4],v=e[5],g=e[6],t=e[7],e=e[8];return[i*c+a*p+r*g,i*d+a*f+r*t,i*y+a*v+r*e,n*c+s*p+o*g,n*d+s*f+o*t,n*y+s*v+o*e,h*c+l*p+u*g,h*d+l*f+u*t,h*y+l*v+u*e]},v={createCanvas:function(t,e,i,a){var r=3<arguments.length&&void 0!==a?a:\"absolute\",a=document.createElement(\"canvas\");return a.id=t,a.width=e,a.height=i,a.style.opacity=0,a.style.position=r,this.transform(a,-500,-500,0,0),a},createDiv:function(t,e,i){var a=document.createElement(\"div\");return a.id=t,a.style.position=\"absolute\",this.resize(a,e,i),a},resize:function(t,e,i){t.style.width=e+\"px\",t.style.height=i+\"px\",t.style.marginLeft=-e/2+\"px\",t.style.marginTop=-i/2+\"px\"},transform:function(t,e,i,a,r){t.style.willChange=\"transform\";var n=\"translate(\"+e+\"px, \"+i+\"px) scale(\"+a+\") rotate(\"+r+\"deg)\";this.css3(t,\"transform\",n)},transform3d:function(t,e,i,a,r){t.style.willChange=\"transform\";r=\"translate3d(\"+e+\"px, \"+i+\"px, 0) scale(\"+a+\") rotate(\"+r+\"deg)\";this.css3(t,\"backfaceVisibility\",\"hidden\"),this.css3(t,\"transform\",r)},css3:function(t,e,i){var a=e.charAt(0).toUpperCase()+e.substr(1);t.style[\"Webkit\"+a]=i,t.style[\"Moz\"+a]=i,t.style[\"O\"+a]=i,t.style[\"ms\"+a]=i,t.style[\"\"+e]=i}},g={},m={},b=0,_=function(t,e,i){t.drawImage(e,i.x,i.y);e=t.getImageData(i.x,i.y,i.width,i.height);return t.clearRect(i.x,i.y,i.width,i.height),e},x=function(t,e,i){var a=\"string\"==typeof t?t:t.src;g[a]?e(g[a],i):((t=new Image).onload=function(t){g[a]=t.target,e(g[a],i)},t.src=a)},k=function(t,e,i){var a,r,n=t.src;return m[n]||(a=c(t.width),r=c(t.height),(r=v.createCanvas(\"proton_canvas_cache_\"+ ++b,a,r)).getContext(\"2d\").drawImage(t,0,0,t.width,t.height),m[n]=r),e&&e(m[n],i),m[n]},P={initValue:function(t,e){return t=null!=t?t:e},isArray:function(t){return\"[object Array]\"===Object.prototype.toString.call(t)},emptyArray:function(t){t&&(t.length=0)},toArray:function(t){return this.isArray(t)?t:[t]},getRandFromArray:function(t){return t?t[Math.floor(t.length*Math.random())]:null},emptyObject:function(t,e){var i,a=1<arguments.length&&void 0!==e?e:null;for(i in t)a&&-1<a.indexOf(i)||delete t[i]},classApply:function(t,e){e=1<arguments.length&&void 0!==e?e:null;return new(e?t.bind.apply(t,[null].concat(e)):t)},setVectorVal:function(t,e){e=1<arguments.length&&void 0!==e?e:null;e&&(this.hasProp(e,\"x\")&&(t.p.x=e.x),this.hasProp(e,\"y\")&&(t.p.y=e.y),this.hasProp(e,\"vx\")&&(t.v.x=e.vx),this.hasProp(e,\"vy\")&&(t.v.y=e.vy),this.hasProp(e,\"ax\")&&(t.a.x=e.ax),this.hasProp(e,\"ay\")&&(t.a.y=e.ay),this.hasProp(e,\"p\")&&t.p.copy(e.p),this.hasProp(e,\"v\")&&t.v.copy(e.v),this.hasProp(e,\"a\")&&t.a.copy(e.a),this.hasProp(e,\"position\")&&t.p.copy(e.position),this.hasProp(e,\"velocity\")&&t.v.copy(e.velocity),this.hasProp(e,\"accelerate\")&&t.a.copy(e.accelerate))},hasProp:function(t,e){return!!t&&void 0!==t[e]},setProp:function(t,e){for(var i in e)t.hasOwnProperty(i)&&(t[i]=l.getSpanValue(e[i]));return t},getImageData:function(t,e,i){return _(t,e,i)},destroyAll:function(t,e){for(var i=1<arguments.length&&void 0!==e?e:null,a=t.length;a--;){try{t[a].destroy(i)}catch(t){}delete t[a]}t.length=0},assign:function(t,e){if(\"function\"==typeof Object.assign)return Object.assign(t,e);for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}},E={},A={_index:0,_cache:{},id:function(t){return void 0!==E[t]&&null!==E[t]||(E[t]=0),t+\"_\"+E[t]++},getId:function(t){var e=this.getIdFromCache(t);return e||(e=\"PUID_\"+this._index++,this._cache[e]=t,e)},getIdFromCache:function(t){var e,i=void 0;for(i in this._cache){if((e=this._cache[i])===t)return i;if(this.isBody(e,t)&&e.src===t.src)return i}return null},isBody:function(t,e){return\"object\"===(void 0===t?\"undefined\":i(t))&&\"object\"===(void 0===e?\"undefined\":i(e))&&t.isInner&&e.isInner},getTarget:function(t){return this._cache[t]}},T=(t(R,[{key:\"get\",value:function(t,e,i){var a=void 0;return i=i||t.__puid||A.getId(t),(a=this.cache[i]&&0<this.cache[i].length?this.cache[i].pop():this.createOrClone(t,e)).__puid=t.__puid||i,a}},{key:\"expire\",value:function(t){return this.getCache(t.__puid).push(t)}},{key:\"createOrClone\",value:function(t,e){return this.total++,this.create?this.create(t,e):\"function\"==typeof t?P.classApply(t,e):t.clone()}},{key:\"getCount\",value:function(){var t,e=0;for(t in this.cache)e+=this.cache[t].length;return e++}},{key:\"destroy\",value:function(){for(var t in this.cache)this.cache[t].length=0,delete this.cache[t]}},{key:\"getCache\",value:function(t){t=0<arguments.length&&void 0!==t?t:\"default\";return this.cache[t]||(this.cache[t]=[]),this.cache[t]}}]),R);function R(t){o(this,R),this.total=0,this.cache={}}var O=(t(w,[{key:\"update\",value:function(t,e){this.add(t,e);var i=this.getEmitter(),t=this.getRenderer(),e=\"\";switch(this.type){case 2:e+=\"emitter:\"+this.proton.emitters.length+\"<br>\",i&&(e+=\"em speed:\"+i.emitSpeed+\"<br>\"),i&&(e+=\"pos:\"+this.getEmitterPos(i));break;case 3:i&&(e+=\"initializes:\"+i.initializes.length+\"<br>\"),i&&(e+='<span style=\"display:inline-block;\">'+this.concatArr(i.initializes)+\"</span><br>\"),i&&(e+=\"behaviours:\"+i.behaviours.length+\"<br>\"),i&&(e+='<span style=\"display:inline-block;\">'+this.concatArr(i.behaviours)+\"</span><br>\");break;case 4:t&&(e+=t.name+\"<br>\"),t&&(e+=\"body:\"+this.getCreatedNumber(t)+\"<br>\");break;default:e+=\"particles:\"+this.proton.getCount()+\"<br>\",e+=\"pool:\"+this.proton.pool.getCount()+\"<br>\",e+=\"total:\"+this.proton.pool.total}this.container.innerHTML=e}},{key:\"add\",value:function(t,e){var i=this;if(!this.container){this.type=1,this.container=document.createElement(\"div\"),this.container.style.cssText=[\"position:absolute;bottom:0px;left:0;cursor:pointer;\",\"opacity:0.9;z-index:10000;padding:10px;font-size:12px;font-family:Helvetica,Arial,sans-serif;\",\"width:120px;height:50px;background-color:#002;color:#0ff;\"].join(\"\"),this.container.addEventListener(\"click\",function(t){i.type++,4<i.type&&(i.type=1)},!1);var a=void 0,r=void 0;switch(t){case 2:a=\"#201\",r=\"#f08\";break;case 3:a=\"#020\",r=\"#0f0\";break;default:a=\"#002\",r=\"#0ff\"}this.container.style[\"background-color\"]=a,this.container.style.color=r}this.container.parentNode||(e=e||this.body||document.body).appendChild(this.container)}},{key:\"getEmitter\",value:function(){return this.proton.emitters[this.emitterIndex]}},{key:\"getRenderer\",value:function(){return this.proton.renderers[this.rendererIndex]}},{key:\"concatArr\",value:function(t){var e=\"\";if(!t||!t.length)return e;for(var i=0;i<t.length;i++)e+=(t[i].name||\"\").substr(0,1)+\".\";return e}},{key:\"getCreatedNumber\",value:function(t){return t.pool.total||t.cpool&&t.cpool.total||0}},{key:\"getEmitterPos\",value:function(t){return Math.round(t.p.x)+\",\"+Math.round(t.p.y)}}]),w);function w(t){o(this,w),this.proton=t,this.container=null,this.type=1,this.emitterIndex=0,this.rendererIndex=0}var C=(t(S,[{key:\"addEventListener\",value:function(t,e){return this._listeners?this.removeEventListener(t,e):this._listeners={},this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e),e}},{key:\"removeEventListener\",value:function(t,e){if(this._listeners&&this._listeners[t])for(var i=this._listeners[t],a=i.length,r=0;r<a;r++)if(i[r]===e){1===a?delete this._listeners[t]:i.splice(r,1);break}}},{key:\"removeAllEventListeners\",value:function(t){t?this._listeners&&delete this._listeners[t]:this._listeners=null}},{key:\"dispatchEvent\",value:function(t,e){var i=!1,a=this._listeners;if(t&&a){var r=a[t];if(!r)return i;for(var n=void 0,s=r.length;s--;)n=r[s],i=i||n(e)}return!!i}},{key:\"hasEventListener\",value:function(t){var e=this._listeners;return!(!e||!e[t])}}],[{key:\"bind\",value:function(t){t.prototype.dispatchEvent=S.prototype.dispatchEvent,t.prototype.hasEventListener=S.prototype.hasEventListener,t.prototype.addEventListener=S.prototype.addEventListener,t.prototype.removeEventListener=S.prototype.removeEventListener,t.prototype.removeAllEventListeners=S.prototype.removeAllEventListeners}}]),S);function S(){o(this,S),this._listeners=null}var I=(t(D,[{key:\"calculate\",value:function(t,e,i){this.eulerIntegrate(t,e,i)}},{key:\"eulerIntegrate\",value:function(t,e,i){t.sleep||(t.old.p.copy(t.p),t.old.v.copy(t.v),t.a.multiplyScalar(1/t.mass),t.v.add(t.a.multiplyScalar(e)),t.p.add(t.old.v.multiplyScalar(e)),i&&t.v.multiplyScalar(i),t.a.clear())}}]),D);function D(t){o(this,D),this.type=t}var V=(t(M,[{key:\"addRenderer\",value:function(t){t.init(this),this.renderers.push(t)}},{key:\"removeRenderer\",value:function(t){var e=this.renderers.indexOf(t);this.renderers.splice(e,1),t.remove(this)}},{key:\"addEmitter\",value:function(t){this.emitters.push(t),(t.parent=this).dispatchEvent(M.EMITTER_ADDED,t)}},{key:\"removeEmitter\",value:function(t){var e=this.emitters.indexOf(t);this.emitters.splice(e,1),t.parent=null,this.dispatchEvent(M.EMITTER_REMOVED,t)}},{key:\"update\",value:function(){\"auto\"===this._fps?(this.dispatchEvent(M.PROTON_UPDATE),M.USE_CLOCK?(this.then||(this.then=(new Date).getTime()),this.now=(new Date).getTime(),this.elapsed=.001*(this.now-this.then),this.amendChangeTabsBug(),0<this.elapsed&&this.emittersUpdate(this.elapsed),this.then=this.now):this.emittersUpdate(M.DEFAULT_INTERVAL),this.dispatchEvent(M.PROTON_UPDATE_AFTER)):(this.then||(this.then=(new Date).getTime()),this.now=(new Date).getTime(),this.elapsed=.001*(this.now-this.then),this.elapsed>this._interval&&(this.dispatchEvent(M.PROTON_UPDATE),this.emittersUpdate(this._interval),this.then=this.now-this.elapsed%this._interval*1e3,this.dispatchEvent(M.PROTON_UPDATE_AFTER)))}},{key:\"emittersUpdate\",value:function(t){for(var e=this.emitters.length;e--;)this.emitters[e].update(t)}},{key:\"amendChangeTabsBug\",value:function(){M.amendChangeTabsBug&&.5<this.elapsed&&(this.then=(new Date).getTime(),this.elapsed=0)}},{key:\"getCount\",value:function(){for(var t=0,e=this.emitters.length;e--;)t+=this.emitters[e].particles.length;return t}},{key:\"getAllParticles\",value:function(){for(var t=[],e=this.emitters.length;e--;)t=t.concat(this.emitters[e].particles);return t}},{key:\"destroyAllEmitters\",value:function(){P.destroyAll(this.emitters)}},{key:\"destroy\",value:function(t){function e(){i.time=0,i.then=0,i.pool.destroy(),P.destroyAll(i.emitters),P.destroyAll(i.renderers,i.getAllParticles())}var i=this;0<arguments.length&&void 0!==t&&t?setTimeout(e,200):e()}},{key:\"fps\",set:function(t){this._fps=t,this._interval=\"auto\"===t?M.DEFAULT_INTERVAL:s.floor(1/t,7)},get:function(){return this._fps}}]),M);function M(t){o(this,M),this.emitters=[],this.renderers=[],this.time=0,this.now=0,this.then=0,this.elapsed=0,this.stats=new O(this),this.pool=new T(80),this.integrationType=P.initValue(t,M.EULER),this.integrator=new I(this.integrationType),this._fps=\"auto\",this._interval=M.DEFAULT_INTERVAL}V.USE_CLOCK=!1,V.MEASURE=100,V.EULER=\"euler\",V.RK2=\"runge-kutta2\",V.PARTICLE_CREATED=\"PARTICLE_CREATED\",V.PARTICLE_UPDATE=\"PARTICLE_UPDATE\",V.PARTICLE_SLEEP=\"PARTICLE_SLEEP\",V.PARTICLE_DEAD=\"PARTICLE_DEAD\",V.EMITTER_ADDED=\"EMITTER_ADDED\",V.EMITTER_REMOVED=\"EMITTER_REMOVED\",V.PROTON_UPDATE=\"PROTON_UPDATE\",V.PROTON_UPDATE_AFTER=\"PROTON_UPDATE_AFTER\",V.DEFAULT_INTERVAL=.0167,V.amendChangeTabsBug=!0,C.bind(V);var B=(t(L,[{key:\"reset\",value:function(){this.r=255,this.g=255,this.b=255}}]),L);function L(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:255,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:255;o(this,L),this.r=t,this.g=e,this.b=i}var U={easeLinear:function(t){return t},easeInQuad:function(t){return Math.pow(t,2)},easeOutQuad:function(t){return-(Math.pow(t-1,2)-1)},easeInOutQuad:function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},easeInCubic:function(t){return Math.pow(t,3)},easeOutCubic:function(t){return Math.pow(t-1,3)+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},easeInQuart:function(t){return Math.pow(t,4)},easeOutQuart:function(t){return-(Math.pow(t-1,4)-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeInSine:function(t){return 1-Math.cos(t*s.PI_2)},easeOutSine:function(t){return Math.sin(t*s.PI_2)},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-Math.pow(t-1,2))},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInBack:function(t){return t*t*(2.70158*t-1.70158)},easeOutBack:function(t){return--t*t*(2.70158*t+1.70158)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},getEasing:function(t){return\"function\"==typeof t?t:this[t]||this.easeLinear}},F=(t(z,[{key:\"set\",value:function(t,e){return this.x=t,this.y=e,this}},{key:\"setX\",value:function(t){return this.x=t,this}},{key:\"setY\",value:function(t){return this.y=t,this}},{key:\"getGradient\",value:function(){return 0!==this.x?Math.atan2(this.y,this.x):0<this.y?s.PI_2:this.y<0?-s.PI_2:void 0}},{key:\"copy\",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:\"add\",value:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this)}},{key:\"addXY\",value:function(t,e){return this.x+=t,this.y+=e,this}},{key:\"addVectors\",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}},{key:\"sub\",value:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this)}},{key:\"subVectors\",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}},{key:\"divideScalar\",value:function(t){return 0!==t?(this.x/=t,this.y/=t):this.set(0,0),this}},{key:\"multiplyScalar\",value:function(t){return this.x*=t,this.y*=t,this}},{key:\"negate\",value:function(){return this.multiplyScalar(-1)}},{key:\"dot\",value:function(t){return this.x*t.x+this.y*t.y}},{key:\"lengthSq\",value:function(){return this.x*this.x+this.y*this.y}},{key:\"length\",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:\"normalize\",value:function(){return this.divideScalar(this.length())}},{key:\"distanceTo\",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:\"rotate\",value:function(t){var e=this.x,i=this.y;return this.x=e*Math.cos(t)+i*Math.sin(t),this.y=-e*Math.sin(t)+i*Math.cos(t),this}},{key:\"distanceToSquared\",value:function(t){var e=this.x-t.x,t=this.y-t.y;return e*e+t*t}},{key:\"lerp\",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}},{key:\"equals\",value:function(t){return t.x===this.x&&t.y===this.y}},{key:\"clear\",value:function(){return this.x=0,this.y=0,this}},{key:\"clone\",value:function(){return new z(this.x,this.y)}}]),z);function z(t,e){o(this,z),this.x=t||0,this.y=e||0}var j=(t(N,[{key:\"getDirection\",value:function(){return Math.atan2(this.v.x,-this.v.y)*s.N180_PI}},{key:\"reset\",value:function(){return this.life=1/0,this.age=0,this.dead=!1,this.sleep=!1,this.body=null,this.sprite=null,this.parent=null,this.energy=1,this.mass=1,this.radius=10,this.alpha=1,this.scale=1,this.rotation=0,this.color=null,this.p.set(0,0),this.v.set(0,0),this.a.set(0,0),this.old.p.set(0,0),this.old.v.set(0,0),this.old.a.set(0,0),this.easing=U.easeLinear,this.rgb.reset(),P.emptyObject(this.data),this.removeAllBehaviours(),this}},{key:\"update\",value:function(t,e){this.sleep||(this.age+=t,this.applyBehaviours(t,e)),this.age<this.life?(e=this.easing(this.age/this.life),this.energy=Math.max(1-e,0)):this.destroy()}},{key:\"applyBehaviours\",value:function(t,e){for(var i=this.behaviours.length,a=void 0,a=0;a<i;a++)this.behaviours[a]&&this.behaviours[a].applyBehaviour(this,t,e)}},{key:\"addBehaviour\",value:function(t){this.behaviours.push(t),t.hasOwnProperty(\"parents\")&&t.parents.push(this),t.initialize(this)}},{key:\"addBehaviours\",value:function(t){for(var e=t.length,i=void 0,i=0;i<e;i++)this.addBehaviour(t[i])}},{key:\"removeBehaviour\",value:function(t){t=this.behaviours.indexOf(t);-1<t&&(this.behaviours.splice(t,1).parents=null)}},{key:\"removeAllBehaviours\",value:function(){P.emptyArray(this.behaviours)}},{key:\"destroy\",value:function(){this.removeAllBehaviours(),this.energy=0,this.dead=!0,this.parent=null}}]),N);function N(t){o(this,N),this.id=\"\",this.old={},this.data={},this.behaviours=[],this.p=[],this.v=[],this.a=[],this.rgb={},this.name=\"Particle\",this.id=A.id(this.name),this.old={},this.data={},this.behaviours=[],this.p=new F,this.v=new F,this.a=new F,this.old.p=new F,this.old.v=new F,this.old.a=new F,this.rgb=new B,this.reset(),t&&P.setProp(this,t)}var H={hexToRgb:function(t){t=\"#\"===t.charAt(0)?t.substring(1,7):t;return{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16)}},rgbToHex:function(t){return\"rgb(\"+t.r+\", \"+t.g+\", \"+t.b+\")\"},getHex16FromParticle:function(t){return 65536*Number(t.rgb.r)+256*Number(t.rgb.g)+Number(t.rgb.b)}},q=(t(G,[{key:\"set\",value:function(t,e){return this.r=t,this.tha=e,this}},{key:\"setR\",value:function(t){return this.r=t,this}},{key:\"setTha\",value:function(t){return this.tha=t,this}},{key:\"copy\",value:function(t){return this.r=t.r,this.tha=t.tha,this}},{key:\"toVector\",value:function(){return new F(this.getX(),this.getY())}},{key:\"getX\",value:function(){return this.r*Math.sin(this.tha)}},{key:\"getY\",value:function(){return-this.r*Math.cos(this.tha)}},{key:\"normalize\",value:function(){return this.r=1,this}},{key:\"equals\",value:function(t){return t.r===this.r&&t.tha===this.tha}},{key:\"clear\",value:function(){return this.r=0,this.tha=0,this}},{key:\"clone\",value:function(){return new G(this.r,this.tha)}}]),G);function G(t,e){o(this,G),this.r=Math.abs(t)||0,this.tha=e||0}var X={create:function(t){var e=new Float32Array(9);return t&&this.set(t,e),e},set:function(t,e){for(var i=0;i<9;i++)e[i]=t[i];return e},multiply:function(t,e,i){var a=t[0],r=t[1],n=t[2],s=t[3],o=t[4],h=t[6],l=t[7],u=e[0],c=e[1],d=e[2],y=e[3],p=e[4],t=e[6],e=e[7];return i[0]=u*a+c*s,i[1]=u*r+c*o,i[2]=n*d,i[3]=y*a+p*s,i[4]=y*r+p*o,i[6]=t*a+e*s+h,i[7]=t*r+e*o+l,i},inverse:function(t,e){var i=t[0],a=t[1],r=t[3],n=t[4],s=t[6],o=t[7],h=-r,t=o*r-n*s,r=1/(i*n+a*h);return e[0]=n*r,e[1]=-a*r,e[3]=h*r,e[4]=i*r,e[6]=t*r,e[7]=(-o*i+a*s)*r,e},multiplyVec2:function(t,e,i){var a=e[0],e=e[1];return i[0]=a*t[0]+e*t[3]+t[6],i[1]=a*t[1]+e*t[4]+t[7],i}},Y=(r(W,l),t(W,[{key:\"getValue\",value:function(){var t=P.getRandFromArray(this._arr);return\"random\"===t||\"Random\"===t?s.randomColor():t}}],[{key:\"createArraySpan\",value:function(t){return t?t instanceof W?t:new W(t):null}}]),W);function W(t){o(this,W);var e=h(this,(W.__proto__||Object.getPrototypeOf(W)).call(this));return e._arr=P.toArray(t),e}var Z=(t(Q,[{key:\"contains\",value:function(t,e){return t<=this.right&&t>=this.x&&e<=this.bottom&&e>=this.y}}]),Q);function Q(t,e,i,a){o(this,Q),this.x=t,this.y=e,this.width=i,this.height=a,this.bottom=this.y+this.height,this.right=this.x+this.width}var K=(t(J,[{key:\"init\",value:function(){this.startTime=0,this.nextTime=this.timePan.getValue()}},{key:\"getValue\",value:function(t){return this.startTime+=t,this.startTime>=this.nextTime?(this.startTime=0,this.nextTime=this.timePan.getValue(),1===this.numPan.b?.5<this.numPan.getValue(!1)?1:0:this.numPan.getValue(!0)):0}}]),J);function J(t,e){o(this,J),this.numPan=l.setSpanValue(P.initValue(t,1)),this.timePan=l.setSpanValue(P.initValue(e,1)),this.startTime=0,this.nextTime=0,this.init()}var $=(t(tt,[{key:\"reset\",value:function(){}},{key:\"init\",value:function(t,e){e?this.initialize(e):this.initialize(t)}},{key:\"initialize\",value:function(){}}]),tt);function tt(){o(this,tt)}var et=(r(it,$),t(it,[{key:\"initialize\",value:function(t){this.lifePan.a===1/0?t.life=1/0:t.life=this.lifePan.getValue()}}]),it);function it(t,e,i){o(this,it);var a=h(this,(it.__proto__||Object.getPrototypeOf(it)).call(this));return a.lifePan=l.setSpanValue(t,e,i),a.name=\"Life\",a}var at=(t(rt,[{key:\"getPosition\",value:function(){}},{key:\"crossing\",value:function(){}}]),rt);function rt(){o(this,rt),this.vector=new F(0,0),this.random=0,this.crossType=\"dead\",this.alert=!0}var nt=(r(st,at),t(st,[{key:\"getPosition\",value:function(){return this.vector.x=this.x,this.vector.y=this.y,this.vector}},{key:\"crossing\",value:function(){this.alert&&(console.error(\"Sorry, PointZone does not support crossing method!\"),this.alert=!1)}}]),st);function st(t,e){o(this,st);var i=h(this,(st.__proto__||Object.getPrototypeOf(st)).call(this));return i.x=t,i.y=e,i}var ot=(r(ht,$),t(ht,[{key:\"reset\",value:function(t){this.zone=P.initValue(t,new nt)}},{key:\"initialize\",value:function(t){this.zone.getPosition(),t.p.x=this.zone.vector.x,t.p.y=this.zone.vector.y}}]),ht);function ht(t){o(this,ht);var e=h(this,(ht.__proto__||Object.getPrototypeOf(ht)).call(this));return e.zone=P.initValue(t,new nt),e.name=\"Position\",e}var lt=(r(ut,$),t(ut,[{key:\"reset\",value:function(t,e,i){this.rPan=l.setSpanValue(t),this.thaPan=l.setSpanValue(e),this.type=P.initValue(i,\"vector\")}},{key:\"normalizeVelocity\",value:function(t){return t*V.MEASURE}},{key:\"initialize\",value:function(t){var e;\"p\"===this.type||\"P\"===this.type||\"polar\"===this.type?(e=new q(this.normalizeVelocity(this.rPan.getValue()),this.thaPan.getValue()*s.PI_180),t.v.x=e.getX(),t.v.y=e.getY()):(t.v.x=this.normalizeVelocity(this.rPan.getValue()),t.v.y=this.normalizeVelocity(this.thaPan.getValue()))}}]),ut);function ut(t,e,i){o(this,ut);var a=h(this,(ut.__proto__||Object.getPrototypeOf(ut)).call(this));return a.rPan=l.setSpanValue(t),a.thaPan=l.setSpanValue(e),a.type=P.initValue(i,\"vector\"),a.name=\"Velocity\",a}var ct=(r(dt,$),t(dt,[{key:\"initialize\",value:function(t){t.mass=this.massPan.getValue()}}]),dt);function dt(t,e,i){o(this,dt);var a=h(this,(dt.__proto__||Object.getPrototypeOf(dt)).call(this));return a.massPan=l.setSpanValue(t,e,i),a.name=\"Mass\",a}var yt=(r(pt,$),t(pt,[{key:\"reset\",value:function(t,e,i){this.radius=l.setSpanValue(t,e,i)}},{key:\"initialize\",value:function(t){t.radius=this.radius.getValue(),t.data.oldRadius=t.radius}}]),pt);function pt(t,e,i){o(this,pt);var a=h(this,(pt.__proto__||Object.getPrototypeOf(pt)).call(this));return a.radius=l.setSpanValue(t,e,i),a.name=\"Radius\",a}var ft=(r(vt,$),t(vt,[{key:\"initialize\",value:function(t){var e=this.image.getValue();t.body=\"string\"==typeof e?{width:this.w,height:this.h,src:e,isInner:!0,inner:!0}:e}},{key:\"setSpanValue\",value:function(t){return t instanceof Y?t:new Y(t)}}]),vt);function vt(t,e,i){o(this,vt);var a=h(this,(vt.__proto__||Object.getPrototypeOf(vt)).call(this));return a.image=a.setSpanValue(t),a.w=P.initValue(e,20),a.h=P.initValue(i,a.w),a.name=\"Body\",a}var gt=(t(mt,[{key:\"reset\",value:function(t,e){this.life=P.initValue(t,1/0),this.easing=U.getEasing(e)}},{key:\"normalizeForce\",value:function(t){return t.multiplyScalar(V.MEASURE)}},{key:\"normalizeValue\",value:function(t){return t*V.MEASURE}},{key:\"initialize\",value:function(){}},{key:\"calculate\",value:function(t,e){this.age+=e,this.age>=this.life||this.dead?(this.energy=0,this.dead=!0,this.destroy()):(t=this.easing(t.age/t.life),this.energy=Math.max(1-t,0))}},{key:\"destroy\",value:function(){for(var t=this.parents.length;t--;)this.parents[t].removeBehaviour(this);this.parents.length=0}}]),mt);function mt(t,e){o(this,mt),this.life=P.initValue(t,1/0),this.easing=U.getEasing(e),this.age=0,this.energy=1,this.dead=!1,this.parents=[],this.id=\"Behaviour_\"+mt.id++,this.name=\"Behaviour\"}gt.id=0;var bt=(r(_t,gt),t(_t,[{key:\"reset\",value:function(t,e,i,a){this.force=this.normalizeForce(new F(t,e)),i&&n(_t.prototype.__proto__||Object.getPrototypeOf(_t.prototype),\"reset\",this).call(this,i,a)}},{key:\"applyBehaviour\",value:function(t,e,i){this.calculate(t,e,i),t.a.add(this.force)}}]),_t);function _t(t,e,i,a){o(this,_t);a=h(this,(_t.__proto__||Object.getPrototypeOf(_t)).call(this,i,a));return a.force=a.normalizeForce(new F(t,e)),a.name=\"Force\",a}var xt=(r(kt,gt),t(kt,[{key:\"reset\",value:function(t,e,i,a,r){this.targetPosition=P.initValue(t,new F),this.radius=P.initValue(i,1e3),this.force=P.initValue(this.normalizeValue(e),100),this.radiusSq=this.radius*this.radius,this.attractionForce=new F,this.lengthSq=0,a&&n(kt.prototype.__proto__||Object.getPrototypeOf(kt.prototype),\"reset\",this).call(this,a,r)}},{key:\"applyBehaviour\",value:function(t,e,i){this.calculate(t,e,i),this.attractionForce.copy(this.targetPosition),this.attractionForce.sub(t.p),this.lengthSq=this.attractionForce.lengthSq(),4e-5<this.lengthSq&&this.lengthSq<this.radiusSq&&(this.attractionForce.normalize(),this.attractionForce.multiplyScalar(1-this.lengthSq/this.radiusSq),this.attractionForce.multiplyScalar(this.force),t.a.add(this.attractionForce))}}]),kt);function kt(t,e,i,a,r){o(this,kt);r=h(this,(kt.__proto__||Object.getPrototypeOf(kt)).call(this,a,r));return r.targetPosition=P.initValue(t,new F),r.radius=P.initValue(i,1e3),r.force=P.initValue(r.normalizeValue(e),100),r.radiusSq=r.radius*r.radius,r.attractionForce=new F,r.lengthSq=0,r.name=\"Attraction\",r}var Pt=(r(Et,gt),t(Et,[{key:\"reset\",value:function(t,e,i,a,r){this.panFoce=new F(t,e),this.panFoce=this.normalizeForce(this.panFoce),this.delay=i,a&&n(Et.prototype.__proto__||Object.getPrototypeOf(Et.prototype),\"reset\",this).call(this,a,r)}},{key:\"initialize\",value:function(t){t.data.time=0}},{key:\"applyBehaviour\",value:function(t,e,i){this.calculate(t,e,i),t.data.time+=e,t.data.time>=this.delay&&(t.a.addXY(s.randomAToB(-this.panFoce.x,this.panFoce.x),s.randomAToB(-this.panFoce.y,this.panFoce.y)),t.data.time=0)}}]),Et);function Et(t,e,i,a,r){o(this,Et);r=h(this,(Et.__proto__||Object.getPrototypeOf(Et)).call(this,a,r));return r.reset(t,e,i),r.time=0,r.name=\"RandomDrift\",r}var At=(r(Tt,bt),t(Tt,[{key:\"reset\",value:function(t,e,i){n(Tt.prototype.__proto__||Object.getPrototypeOf(Tt.prototype),\"reset\",this).call(this,0,t,e,i)}}]),Tt);function Tt(t,e,i){o(this,Tt);i=h(this,(Tt.__proto__||Object.getPrototypeOf(Tt)).call(this,0,t,e,i));return i.name=\"Gravity\",i}var Rt=(r(Ot,gt),t(Ot,[{key:\"reset\",value:function(t,e,i,a,r){this.emitter=P.initValue(t,null),this.mass=P.initValue(e,!0),this.callback=P.initValue(i,null),this.collisionPool=[],this.delta=new F,a&&n(Ot.prototype.__proto__||Object.getPrototypeOf(Ot.prototype),\"reset\",this).call(this,a,r)}},{key:\"applyBehaviour\",value:function(t,e,i){for(var a,r,n,s,o,h,l=(this.emitter?this.emitter.particles:this.pool).slice(i),u=l.length,c=void 0,d=void 0,d=0;d<u;d++){(c=l[d])!==t&&(this.delta.copy(c.p),this.delta.sub(t.p),(a=this.delta.lengthSq())<=(h=t.radius+c.radius)*h&&(r=h-Math.sqrt(a),r+=.5,n=t.mass+c.mass,s=this.mass?c.mass/n:.5,o=this.mass?t.mass/n:.5,t.p.add(this.delta.clone().normalize().multiplyScalar(r*-s)),c.p.add(this.delta.normalize().multiplyScalar(r*o)),this.callback&&this.callback(t,c)))}}}]),Ot);function Ot(t,e,i,a,r){o(this,Ot);r=h(this,(Ot.__proto__||Object.getPrototypeOf(Ot)).call(this,a,r));return r.reset(t,e,i),r.name=\"Collision\",r}var wt=(r(Ct,gt),t(Ct,[{key:\"reset\",value:function(t,e,i,a){this.zone=t,this.zone.crossType=P.initValue(e,\"dead\"),i&&n(Ct.prototype.__proto__||Object.getPrototypeOf(Ct.prototype),\"reset\",this).call(this,i,a)}},{key:\"applyBehaviour\",value:function(t,e,i){this.calculate(t,e,i),this.zone.crossing(t)}}]),Ct);function Ct(t,e,i,a){o(this,Ct);a=h(this,(Ct.__proto__||Object.getPrototypeOf(Ct)).call(this,i,a));return a.reset(t,e),a.name=\"CrossZone\",a}var St=(r(It,gt),t(It,[{key:\"reset\",value:function(t,e,i,a){this.same=null==e,this.a=l.setSpanValue(P.initValue(t,1)),this.b=l.setSpanValue(e),i&&n(It.prototype.__proto__||Object.getPrototypeOf(It.prototype),\"reset\",this).call(this,i,a)}},{key:\"initialize\",value:function(t){t.data.alphaA=this.a.getValue(),this.same?t.data.alphaB=t.data.alphaA:t.data.alphaB=this.b.getValue()}},{key:\"applyBehaviour\",value:function(t,e,i){this.calculate(t,e,i),t.alpha=t.data.alphaB+(t.data.alphaA-t.data.alphaB)*this.energy,t.alpha<.001&&(t.alpha=0)}}]),It);function It(t,e,i,a){o(this,It);a=h(this,(It.__proto__||Object.getPrototypeOf(It)).call(this,i,a));return a.reset(t,e),a.name=\"Alpha\",a}var Dt=(r(Vt,gt),t(Vt,[{key:\"reset\",value:function(t,e,i,a){this.same=null==e,this.a=l.setSpanValue(P.initValue(t,1)),this.b=l.setSpanValue(e),i&&n(Vt.prototype.__proto__||Object.getPrototypeOf(Vt.prototype),\"reset\",this).call(this,i,a)}},{key:\"initialize\",value:function(t){t.data.scaleA=this.a.getValue(),t.data.oldRadius=t.radius,t.data.scaleB=this.same?t.data.scaleA:this.b.getValue()}},{key:\"applyBehaviour\",value:function(t,e,i){this.calculate(t,e,i),t.scale=t.data.scaleB+(t.data.scaleA-t.data.scaleB)*this.energy,t.scale<1e-4&&(t.scale=0),t.radius=t.data.oldRadius*t.scale}}]),Vt);function Vt(t,e,i,a){o(this,Vt);a=h(this,(Vt.__proto__||Object.getPrototypeOf(Vt)).call(this,i,a));return a.reset(t,e),a.name=\"Scale\",a}var Mt=(r(Bt,gt),t(Bt,[{key:\"reset\",value:function(t,e,i,a,r){this.same=null==e,this.a=l.setSpanValue(P.initValue(t,\"Velocity\")),this.b=l.setSpanValue(P.initValue(e,0)),this.style=P.initValue(i,\"to\"),a&&n(Bt.prototype.__proto__||Object.getPrototypeOf(Bt.prototype),\"reset\",this).call(this,a,r)}},{key:\"initialize\",value:function(t){t.rotation=this.a.getValue(),t.data.rotationA=this.a.getValue(),this.same||(t.data.rotationB=this.b.getValue())}},{key:\"applyBehaviour\",value:function(t,e,i){this.calculate(t,e,i),this.same?\"V\"!==this.a.a&&\"Velocity\"!==this.a.a&&\"v\"!==this.a.a||(t.rotation=t.getDirection()):\"to\"===this.style||\"TO\"===this.style||\"_\"===this.style?t.rotation+=t.data.rotationB+(t.data.rotationA-t.data.rotationB)*this.energy:t.rotation+=t.data.rotationB}}]),Bt);function Bt(t,e,i,a,r){o(this,Bt);r=h(this,(Bt.__proto__||Object.getPrototypeOf(Bt)).call(this,a,r));return r.reset(t,e,i),r.name=\"Rotate\",r}var Lt=(r(Ut,gt),t(Ut,[{key:\"reset\",value:function(t,e,i,a){this.a=Y.createArraySpan(t),this.b=Y.createArraySpan(e),i&&n(Ut.prototype.__proto__||Object.getPrototypeOf(Ut.prototype),\"reset\",this).call(this,i,a)}},{key:\"initialize\",value:function(t){t.color=this.a.getValue(),t.data.colorA=H.hexToRgb(t.color),this.b&&(t.data.colorB=H.hexToRgb(this.b.getValue()))}},{key:\"applyBehaviour\",value:function(t,e,i){this.b?(this.calculate(t,e,i),t.rgb.r=t.data.colorB.r+(t.data.colorA.r-t.data.colorB.r)*this.energy,t.rgb.g=t.data.colorB.g+(t.data.colorA.g-t.data.colorB.g)*this.energy,t.rgb.b=t.data.colorB.b+(t.data.colorA.b-t.data.colorB.b)*this.energy,t.rgb.r=Math.floor(t.rgb.r),t.rgb.g=Math.floor(t.rgb.g),t.rgb.b=Math.floor(t.rgb.b)):(t.rgb.r=t.data.colorA.r,t.rgb.g=t.data.colorA.g,t.rgb.b=t.data.colorA.b)}}]),Ut);function Ut(t,e,i,a){o(this,Ut);a=h(this,(Ut.__proto__||Object.getPrototypeOf(Ut)).call(this,i,a));return a.reset(t,e),a.name=\"Color\",a}var Ft=\"changing\",zt=(r(jt,gt),t(jt,[{key:\"setAngleAndForce\",value:function(t,e){this.force=Ft,this.angle=s.PI/2,\"right\"===t?this.angle=s.PI/2:\"left\"===t?this.angle=-s.PI/2:\"random\"===t?this.angle=\"random\":t instanceof l?(this.angle=\"span\",this.span=t):t&&(this.angle=t),\"changing\"===String(e).toLowerCase()||\"chang\"===String(e).toLowerCase()||\"auto\"===String(e).toLowerCase()?this.force=Ft:e&&(this.force=e)}},{key:\"reset\",value:function(t,e,i,a){this.angle=s.PI/2,this.setAngleAndForce(t,e),i&&n(jt.prototype.__proto__||Object.getPrototypeOf(jt.prototype),\"reset\",this).call(this,i,a)}},{key:\"initialize\",value:function(t){\"random\"===this.angle?t.data.cangle=s.randomAToB(-s.PI,s.PI):\"span\"===this.angle&&(t.data.cangle=this.span.getValue()),t.data.cyclone=new F(0,0)}},{key:\"applyBehaviour\",value:function(t,e,i){this.calculate(t,e,i);e=void 0,i=t.v.getGradient();\"random\"===this.angle||\"span\"===this.angle?i+=t.data.cangle:i+=this.angle,e=this.force===Ft?t.v.length()/100:this.force,t.data.cyclone.x=e*Math.cos(i),t.data.cyclone.y=e*Math.sin(i),t.data.cyclone=this.normalizeForce(t.data.cyclone),t.a.add(t.data.cyclone)}}]),jt);function jt(t,e,i,a){o(this,jt);a=h(this,(jt.__proto__||Object.getPrototypeOf(jt)).call(this,i,a));return a.setAngleAndForce(t,e),a.name=\"Cyclone\",a}var Nt=(r(Ht,xt),t(Ht,[{key:\"reset\",value:function(t,e,i,a,r){n(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),\"reset\",this).call(this,t,e,i,a,r),this.force*=-1}}]),Ht);function Ht(t,e,i,a,r){o(this,Ht);r=h(this,(Ht.__proto__||Object.getPrototypeOf(Ht)).call(this,t,e,i,a,r));return r.force*=-1,r.name=\"Repulsion\",r}var qt=(r(Gt,gt),t(Gt,[{key:\"reset\",value:function(t,e,i,a){this.distanceVec=new F,this.centerPoint=P.initValue(t,new F),this.force=P.initValue(this.normalizeValue(e),100),i&&n(Gt.prototype.__proto__||Object.getPrototypeOf(Gt.prototype),\"reset\",this).call(this,i,a)}},{key:\"initialize\",value:function(){}},{key:\"applyBehaviour\",value:function(t,e){this.distanceVec.set(this.centerPoint.x-t.p.x,this.centerPoint.y-t.p.y);var i,a=this.distanceVec.lengthSq();0!==a&&(i=this.distanceVec.length(),i=this.force*e/(a*i),t.v.x+=i*this.distanceVec.x,t.v.y+=i*this.distanceVec.y)}}]),Gt);function Gt(t,e,i,a){o(this,Gt);a=h(this,(Gt.__proto__||Object.getPrototypeOf(Gt)).call(this,i,a));return a.distanceVec=new F,a.centerPoint=P.initValue(t,new F),a.force=P.initValue(a.normalizeValue(e),100),a.name=\"GravityWell\",a}var Xt={initialize:function(t,e,i){for(var a=i.length,r=void 0,r=0;r<a;r++)i[r]instanceof $?i[r].init(t,e):this.init(t,e,i[r]);this.bindEmitter(t,e)},init:function(t,e,i){P.setProp(e,i),P.setVectorVal(e,i)},bindEmitter:function(t,e){t.bindEmitter&&(e.p.add(t.p),e.v.add(t.v),e.a.add(t.a),e.v.rotate(s.degreeTransform(t.rotation)))}},Yt=(r(Wt,j),t(Wt,[{key:\"emit\",value:function(t,e){this.stoped=!1,this.emitTime=0,this.totalTime=P.initValue(t,1/0),!0===e||\"life\"===e||\"destroy\"===e?this.life=\"once\"===t?1:this.totalTime:isNaN(e)||(this.life=e),this.rate.init()}},{key:\"stop\",value:function(){this.totalTime=-1,this.emitTime=0,this.stoped=!0}},{key:\"preEmit\",value:function(t){var e=this.stoped,i=this.emitTime,a=this.totalTime;this.stoped=!1,this.emitTime=0,this.totalTime=t,this.rate.init();for(;.0167<t;)t-=.0167,this.update(.0167);this.stoped=e,this.emitTime=i+Math.max(t,0),this.totalTime=a}},{key:\"removeAllParticles\",value:function(){for(var t=this.particles.length;t--;)this.particles[t].dead=!0}},{key:\"addSelfInitialize\",value:function(t){t.init?t.init(this):this.initAll()}},{key:\"addInitialize\",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var a=e.length;a--;)this.initializes.push(e[a])}},{key:\"removeInitialize\",value:function(t){t=this.initializes.indexOf(t);-1<t&&this.initializes.splice(t,1)}},{key:\"removeAllInitializers\",value:function(){P.emptyArray(this.initializes)}},{key:\"addBehaviour\",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var a=arguments.length;a--;){var r=e[a];this.behaviours.push(r),r.parents&&r.parents.push(this)}}},{key:\"removeBehaviour\",value:function(t){var e=this.behaviours.indexOf(t);return this.behaviours.splice(e,1),t.parents&&(e=t.parents.indexOf(t),t.parents.splice(e,1)),e}},{key:\"removeAllBehaviours\",value:function(){P.emptyArray(this.behaviours)}},{key:\"update\",value:function(t){this.age+=t,(this.age>=this.life||this.dead)&&this.destroy(),this.emitting(t),this.integrate(t)}},{key:\"integrate\",value:function(t){if(this.parent){var e=1-this.damping;this.parent.integrator.calculate(this,t,e);for(var i=void 0,a=void 0,i=this.particles.length-1;0<=i;i--)(a=this.particles[i]).update(t,i),this.parent.integrator.calculate(a,t,e),this.dispatch(\"PARTICLE_UPDATE\",a),a.dead&&(this.dispatch(\"PARTICLE_DEAD\",a),this.parent.pool.expire(a),this.particles.splice(i,1))}}},{key:\"dispatch\",value:function(t,e){this.parent&&this.parent.dispatchEvent(t,e),this.bindEvent&&this.dispatchEvent(t,e)}},{key:\"emitting\",value:function(t){if(\"once\"===this.totalTime){var e=void 0,i=this.rate.getValue(99999);for(0<i&&(this.emitSpeed=i),e=0;e<i;e++)this.createParticle();this.totalTime=\"none\"}else if(this.emitTime+=t,this.emitTime<this.totalTime){var a=this.rate.getValue(t),r=void 0;for(0<a&&(this.emitSpeed=a),r=0;r<a;r++)this.createParticle()}}},{key:\"createParticle\",value:function(t,e){var i=this.parent.pool.get(j);return this.setupParticle(i,t,e),this.dispatch(\"PARTICLE_CREATED\",i),i}},{key:\"setupParticle\",value:function(t,e,i){var a=this.initializes,r=this.behaviours;e&&(a=P.toArray(e)),i&&(r=P.toArray(i)),t.reset(),Xt.initialize(this,t,a),t.addBehaviours(r),(t.parent=this).particles.push(t)}},{key:\"remove\",value:function(){this.stop(),P.destroyAll(this.particles)}},{key:\"destroy\",value:function(){this.dead=!0,this.remove(),this.removeAllInitializers(),this.removeAllBehaviours(),this.parent&&this.parent.removeEmitter(this)}}]),Wt);function Wt(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};o(this,Wt);t=h(this,(Wt.__proto__||Object.getPrototypeOf(Wt)).call(this,t));return t.particles=[],t.behaviours=[],t.initializes=[],t.emitTime=0,t.emitSpeed=0,t.totalTime=-1,t.damping=.006,t.bindEmitter=!0,t.rate=new K(1,.1),t.name=\"Emitter\",t.id=A.id(t.name),t}C.bind(Yt);var Zt=(r(Qt,Yt),t(Qt,[{key:\"addSelfBehaviour\",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var a=void 0,r=e.length,a=0;a<r;a++){var n=e[a];this.selfBehaviours.push(n),n.initialize(this)}}},{key:\"removeSelfBehaviour\",value:function(t){t=this.selfBehaviours.indexOf(t);-1<t&&this.selfBehaviours.splice(t,1)}},{key:\"update\",value:function(t){if(n(Qt.prototype.__proto__||Object.getPrototypeOf(Qt.prototype),\"update\",this).call(this,t),!this.sleep)for(var e=this.selfBehaviours.length,i=void 0,i=0;i<e;i++)this.selfBehaviours[i].applyBehaviour(this,t,i)}}]),Qt);function Qt(t){o(this,Qt);t=h(this,(Qt.__proto__||Object.getPrototypeOf(Qt)).call(this,t));return t.selfBehaviours=[],t}var Kt=(r(Jt,Yt),t(Jt,[{key:\"initEventHandler\",value:function(){var e=this;this.mousemoveHandler=function(t){return e.mousemove.call(e,t)},this.mousedownHandler=function(t){return e.mousedown.call(e,t)},this.mouseupHandler=function(t){return e.mouseup.call(e,t)},this.mouseTarget.addEventListener(\"mousemove\",this.mousemoveHandler,!1)}},{key:\"emit\",value:function(){this._allowEmitting=!0}},{key:\"stop\",value:function(){this._allowEmitting=!1}},{key:\"mousemove\",value:function(t){t.layerX||0===t.layerX?(this.p.x+=(t.layerX-this.p.x)*this.ease,this.p.y+=(t.layerY-this.p.y)*this.ease):!t.offsetX&&0!==t.offsetX||(this.p.x+=(t.offsetX-this.p.x)*this.ease,this.p.y+=(t.offsetY-this.p.y)*this.ease),this._allowEmitting&&n(Jt.prototype.__proto__||Object.getPrototypeOf(Jt.prototype),\"emit\",this).call(this,\"once\")}},{key:\"destroy\",value:function(){n(Jt.prototype.__proto__||Object.getPrototypeOf(Jt.prototype),\"destroy\",this).call(this),this.mouseTarget.removeEventListener(\"mousemove\",this.mousemoveHandler,!1)}}]),Jt);function Jt(t,e,i){o(this,Jt);i=h(this,(Jt.__proto__||Object.getPrototypeOf(Jt)).call(this,i));return i.mouseTarget=P.initValue(t,window),i.ease=P.initValue(e,.7),i._allowEmitting=!1,i.initEventHandler(),i}var $t=(t(te,[{key:\"setStroke\",value:function(t,e){t=0<arguments.length&&void 0!==t?t:\"#000000\",e=1<arguments.length&&void 0!==e?e:1;this.stroke={color:t,thinkness:e}}},{key:\"initHandler\",value:function(){var e=this;this._protonUpdateHandler=function(){e.onProtonUpdate.call(e)},this._protonUpdateAfterHandler=function(){e.onProtonUpdateAfter.call(e)},this._emitterAddedHandler=function(t){e.onEmitterAdded.call(e,t)},this._emitterRemovedHandler=function(t){e.onEmitterRemoved.call(e,t)},this._particleCreatedHandler=function(t){e.onParticleCreated.call(e,t)},this._particleUpdateHandler=function(t){e.onParticleUpdate.call(e,t)},this._particleDeadHandler=function(t){e.onParticleDead.call(e,t)}}},{key:\"init\",value:function(t){(this.parent=t).addEventListener(\"PROTON_UPDATE\",this._protonUpdateHandler),t.addEventListener(\"PROTON_UPDATE_AFTER\",this._protonUpdateAfterHandler),t.addEventListener(\"EMITTER_ADDED\",this._emitterAddedHandler),t.addEventListener(\"EMITTER_REMOVED\",this._emitterRemovedHandler),t.addEventListener(\"PARTICLE_CREATED\",this._particleCreatedHandler),t.addEventListener(\"PARTICLE_UPDATE\",this._particleUpdateHandler),t.addEventListener(\"PARTICLE_DEAD\",this._particleDeadHandler)}},{key:\"resize\",value:function(){}},{key:\"destroy\",value:function(){this.remove()}},{key:\"remove\",value:function(){this.parent.removeEventListener(\"PROTON_UPDATE\",this._protonUpdateHandler),this.parent.removeEventListener(\"PROTON_UPDATE_AFTER\",this._protonUpdateAfterHandler),this.parent.removeEventListener(\"EMITTER_ADDED\",this._emitterAddedHandler),this.parent.removeEventListener(\"EMITTER_REMOVED\",this._emitterRemovedHandler),this.parent.removeEventListener(\"PARTICLE_CREATED\",this._particleCreatedHandler),this.parent.removeEventListener(\"PARTICLE_UPDATE\",this._particleUpdateHandler),this.parent.removeEventListener(\"PARTICLE_DEAD\",this._particleDeadHandler),this.parent=null}},{key:\"onProtonUpdate\",value:function(){}},{key:\"onProtonUpdateAfter\",value:function(){}},{key:\"onEmitterAdded\",value:function(){}},{key:\"onEmitterRemoved\",value:function(){}},{key:\"onParticleCreated\",value:function(){}},{key:\"onParticleUpdate\",value:function(){}},{key:\"onParticleDead\",value:function(){}}]),te);function te(t,e){o(this,te),this.pool=new T,this.element=t,this.stroke=e,this.circleConf={isCircle:!0},this.initHandler(),this.name=\"BaseRenderer\"}var ee=(r(ie,$t),t(ie,[{key:\"resize\",value:function(t,e){this.element.width=t,this.element.height=e}},{key:\"onProtonUpdate\",value:function(){this.context.clearRect(0,0,this.element.width,this.element.height)}},{key:\"onParticleCreated\",value:function(t){t.body?x(t.body,this.addImg2Body,t):t.color=t.color||\"#ff0000\"}},{key:\"onParticleUpdate\",value:function(t){t.body?t.body instanceof Image&&this.drawImage(t):this.drawCircle(t)}},{key:\"onParticleDead\",value:function(t){t.body=null}},{key:\"addImg2Body\",value:function(t,e){e.body=t}},{key:\"drawImage\",value:function(t){var e,i=t.body.width*t.scale|0,a=t.body.height*t.scale|0,r=t.p.x-i/2,n=t.p.y-a/2;t.color?(t.data.buffer||(t.data.buffer=this.createBuffer(t.body)),(e=t.data.buffer.getContext(\"2d\")).clearRect(0,0,t.data.buffer.width,t.data.buffer.height),e.globalAlpha=t.alpha,e.drawImage(t.body,0,0),e.globalCompositeOperation=\"source-atop\",e.fillStyle=H.rgbToHex(t.rgb),e.fillRect(0,0,t.data.buffer.width,t.data.buffer.height),e.globalCompositeOperation=\"source-over\",e.globalAlpha=1,this.context.drawImage(t.data.buffer,0,0,t.data.buffer.width,t.data.buffer.height,r,n,i,a)):(this.context.save(),this.context.globalAlpha=t.alpha,this.context.translate(t.p.x,t.p.y),this.context.rotate(s.degreeTransform(t.rotation)),this.context.translate(-t.p.x,-t.p.y),this.context.drawImage(t.body,0,0,t.body.width,t.body.height,r,n,i,a),this.context.globalAlpha=1,this.context.restore())}},{key:\"drawCircle\",value:function(t){t.rgb?this.context.fillStyle=\"rgba(\"+t.rgb.r+\",\"+t.rgb.g+\",\"+t.rgb.b+\",\"+t.alpha+\")\":this.context.fillStyle=t.color,this.context.beginPath(),this.context.arc(t.p.x,t.p.y,t.radius,0,2*Math.PI,!0),this.stroke&&(this.context.strokeStyle=this.stroke.color,this.context.lineWidth=this.stroke.thinkness,this.context.stroke()),this.context.closePath(),this.context.fill()}},{key:\"createBuffer\",value:function(t){if(t instanceof Image){var e=t.width+\"_\"+t.height,i=this.bufferCache[e];return i||((i=document.createElement(\"canvas\")).width=t.width,i.height=t.height,this.bufferCache[e]=i),i}}}]),ie);function ie(t){o(this,ie);t=h(this,(ie.__proto__||Object.getPrototypeOf(ie)).call(this,t));return t.stroke=null,t.context=t.element.getContext(\"2d\"),t.bufferCache={},t.name=\"CanvasRenderer\",t}var ae=(r(re,$t),t(re,[{key:\"onParticleCreated\",value:function(t){t.body?x(t.body,this.addImg2Body,t):(t.body=this.pool.get(this.circleConf,t),this.element.appendChild(t.body))}},{key:\"onParticleUpdate\",value:function(t){this.bodyReady(t)&&(this.transform3d?v.transform3d(t.body,t.p.x,t.p.y,t.scale,t.rotation):v.transform(t.body,t.p.x,t.p.y,t.scale,t.rotation),t.body.style.opacity=t.alpha,t.body.isCircle&&(t.body.style.backgroundColor=t.color||\"#ff0000\"))}},{key:\"onParticleDead\",value:function(t){this.bodyReady(t)&&(this.element.removeChild(t.body),this.pool.expire(t.body),t.body=null)}},{key:\"bodyReady\",value:function(t){return\"object\"===i(t.body)&&t.body&&!t.body.isInner}},{key:\"addImg2Body\",value:function(t,e){e.dead||(e.body=this.pool.get(t,e),v.resize(e.body,t.width,t.height),this.element.appendChild(e.body))}},{key:\"createBody\",value:function(t,e){return t.isCircle?this.createCircle(e):this.createSprite(t,e)}},{key:\"createCircle\",value:function(t){var e=v.createDiv(t.id+\"_dom\",2*t.radius,2*t.radius);return e.style.borderRadius=t.radius+\"px\",this.stroke&&(e.style.borderColor=this.stroke.color,e.style.borderWidth=this.stroke.thinkness+\"px\"),e.isCircle=!0,e}},{key:\"createSprite\",value:function(t,e){var i=\"string\"==typeof t?t:t.src,t=v.createDiv(e.id+\"_dom\",t.width,t.height);return t.style.backgroundImage=\"url(\"+i+\")\",t}}]),re);function re(t){o(this,re);var i=h(this,(re.__proto__||Object.getPrototypeOf(re)).call(this,t));return i.stroke=null,i.pool.create=function(t,e){return i.createBody(t,e)},i.addImg2Body=i.addImg2Body.bind(i),i.transform3d=!1,i.name=\"DomRenderer\",i}var ne=(r(se,$t),t(se,[{key:\"onParticleCreated\",value:function(t){t.body?this.createSprite(t):this.createCircle(t),this.element.addChild(t.body)}},{key:\"onParticleUpdate\",value:function(t){t.body&&(t.body.x=t.p.x,t.body.y=t.p.y,t.body.alpha=t.alpha,t.body.scaleX=t.body.scaleY=t.scale,t.body.rotation=t.rotation)}},{key:\"onParticleDead\",value:function(t){t.body&&(t.body.parent&&t.body.parent.removeChild(t.body),this.pool.expire(t.body),t.body=null),t.graphics&&this.pool.expire(t.graphics)}},{key:\"createSprite\",value:function(t){t.body=this.pool.get(t.body),t.body.parent||t.body.image&&(t.body.regX=t.body.image.width/2,t.body.regY=t.body.image.height/2)}},{key:\"createCircle\",value:function(t){var e=this.pool.get(createjs.Graphics);this.stroke&&(this.stroke instanceof String?e.beginStroke(this.stroke):e.beginStroke(\"#000000\")),e.beginFill(t.color||\"#ff0000\").drawCircle(0,0,t.radius);var i=this.pool.get(createjs.Shape,[e]);t.body=i,t.graphics=e}}]),se);function se(t,e){o(this,se);t=h(this,(se.__proto__||Object.getPrototypeOf(se)).call(this,t));return t.stroke=e,t.name=\"EaselRenderer\",t}var oe=(r(he,$t),t(he,[{key:\"resize\",value:function(t,e){this.element.width=t,this.element.height=e}},{key:\"createImageData\",value:function(t){this.rectangle=t||new Z(0,0,this.element.width,this.element.height),this.imageData=this.context.createImageData(this.rectangle.width,this.rectangle.height),this.context.putImageData(this.imageData,this.rectangle.x,this.rectangle.y)}},{key:\"onProtonUpdate\",value:function(){this.context.clearRect(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height),this.imageData=this.context.getImageData(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height)}},{key:\"onProtonUpdateAfter\",value:function(){this.context.putImageData(this.imageData,this.rectangle.x,this.rectangle.y)}},{key:\"onParticleCreated\",value:function(){}},{key:\"onParticleUpdate\",value:function(t){this.imageData&&this.setPixel(this.imageData,Math.floor(t.p.x-this.rectangle.x),Math.floor(t.p.y-this.rectangle.y),t)}},{key:\"setPixel\",value:function(t,e,i,a){var r=a.rgb;e<0||e>this.element.width||i<0||i>this.elementwidth||(e=4*((i>>0)*t.width+(e>>0)),t.data[e]=r.r,t.data[1+e]=r.g,t.data[2+e]=r.b,t.data[3+e]=255*a.alpha)}},{key:\"onParticleDead\",value:function(){}}]),he);function he(t,e){o(this,he);t=h(this,(he.__proto__||Object.getPrototypeOf(he)).call(this,t));return t.context=t.element.getContext(\"2d\"),t.imageData=null,t.rectangle=null,t.rectangle=e,t.createImageData(e),t.name=\"PixelRenderer\",t}var le=void 0,ue=(r(ce,$t),t(ce,[{key:\"setPIXI\",value:function(t){try{le=t||{Sprite:{}},this.createFromImage=le.Sprite.from||le.Sprite.fromImage}catch(t){}}},{key:\"onProtonUpdate\",value:function(){}},{key:\"onParticleCreated\",value:function(t){t.body?t.body=this.pool.get(t.body,t):t.body=this.pool.get(this.circleConf,t),this.blendMode&&(t.body.blendMode=this.blendMode),this.element.addChild(t.body)}},{key:\"onParticleUpdate\",value:function(t){this.transform(t,t.body),!0!==this.setColor&&!0!==this.color||(t.body.tint=H.getHex16FromParticle(t))}},{key:\"onParticleDead\",value:function(t){this.element.removeChild(t.body),this.pool.expire(t.body),t.body=null}},{key:\"destroy\",value:function(t){n(ce.prototype.__proto__||Object.getPrototypeOf(ce.prototype),\"destroy\",this).call(this),this.pool.destroy();for(var e=t.length;e--;){var i=t[e];i.body&&this.element.removeChild(i.body)}}},{key:\"transform\",value:function(t,e){e.x=t.p.x,e.y=t.p.y,e.alpha=t.alpha,e.scale.x=t.scale,e.scale.y=t.scale,e.rotation=t.rotation*s.PI_180}},{key:\"createBody\",value:function(t,e){return t.isCircle?this.createCircle(e):this.createSprite(t)}},{key:\"createSprite\",value:function(t){t=t.isInner?this.createFromImage(t.src):new le.Sprite(t);return t.anchor.x=.5,t.anchor.y=.5,t}},{key:\"createCircle\",value:function(t){var e,i=new le.Graphics;return this.stroke&&(e=this.stroke instanceof String?this.stroke:0,i.beginStroke(e)),i.beginFill(t.color||36077),i.drawCircle(0,0,t.radius),i.endFill(),i}}]),ce);function ce(t,e){o(this,ce);var i=h(this,(ce.__proto__||Object.getPrototypeOf(ce)).call(this,t));return i.stroke=e,i.color=!1,i.setColor=!1,i.blendMode=null,i.pool.create=function(t,e){return i.createBody(t,e)},i.setPIXI(window.PIXI),i.name=\"PixiRenderer\",i}var de=(t(ye,[{key:\"set\",value:function(t,e){0===e?X.set(t,this.mats[0]):X.multiply(this.mats[e-1],t,this.mats[e]),this.size=Math.max(this.size,e+1)}},{key:\"push\",value:function(t){0===this.size?X.set(t,this.mats[0]):X.multiply(this.mats[this.size-1],t,this.mats[this.size]),this.size++}},{key:\"pop\",value:function(){0<this.size&&this.size--}},{key:\"top\",value:function(){return this.mats[this.size-1]}}]),ye);function ye(){o(this,ye),this.mats=[];for(var t=this.size=0;t<20;t++)this.mats.push(X.create([0,0,0,0,0,0,0,0,0]))}r(pe,$t),t(pe,[{key:\"init\",value:function(t){n(pe.prototype.__proto__||Object.getPrototypeOf(pe.prototype),\"init\",this).call(this,t),this.resize(this.element.width,this.element.height)}},{key:\"resize\",value:function(t,e){this.umat[4]=-2,this.umat[7]=1,this.smat[0]=1/t,this.smat[4]=1/e,this.mstack.set(this.umat,0),this.mstack.set(this.smat,1),this.gl.viewport(0,0,t,e),this.element.width=t,this.element.height=e}},{key:\"setMaxRadius\",value:function(t){this.circleCanvasURL=this.createCircle(t)}},{key:\"getVertexShader\",value:function(){return[\"uniform vec2 viewport;\",\"attribute vec2 aVertexPosition;\",\"attribute vec2 aTextureCoord;\",\"uniform mat3 tMat;\",\"varying vec2 vTextureCoord;\",\"varying float alpha;\",\"void main() {\",\"vec3 v = tMat * vec3(aVertexPosition, 1.0);\",\"gl_Position = vec4(v.x, v.y, 0, 1);\",\"vTextureCoord = aTextureCoord;\",\"alpha = tMat[0][2];\",\"}\"].join(\"\\n\")}},{key:\"getFragmentShader\",value:function(){return[\"precision mediump float;\",\"varying vec2 vTextureCoord;\",\"varying float alpha;\",\"uniform sampler2D uSampler;\",\"uniform vec4 color;\",\"uniform bool useTexture;\",\"uniform vec3 uColor;\",\"void main() {\",\"vec4 textureColor = texture2D(uSampler, vTextureCoord);\",\"gl_FragColor = textureColor * vec4(uColor, 1.0);\",\"gl_FragColor.w *= alpha;\",\"}\"].join(\"\\n\")}},{key:\"initVar\",value:function(){this.mstack=new de,this.umat=X.create([2,0,1,0,-2,0,-1,1,1]),this.smat=X.create([.01,0,1,0,.01,0,0,0,1]),this.texturebuffers={}}},{key:\"blendEquation\",value:function(t){this.gl.blendEquation(this.gl[t])}},{key:\"blendFunc\",value:function(t,e){this.gl.blendFunc(this.gl[t],this.gl[e])}},{key:\"getShader\",value:function(t,e,i){i=i?t.createShader(t.FRAGMENT_SHADER):t.createShader(t.VERTEX_SHADER);return t.shaderSource(i,e),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:(alert(t.getShaderInfoLog(i)),null)}},{key:\"initShaders\",value:function(){var t=this.getShader(this.gl,this.getFragmentShader(),!0),e=this.getShader(this.gl,this.getVertexShader(),!1);this.sprogram=this.gl.createProgram(),this.gl.attachShader(this.sprogram,e),this.gl.attachShader(this.sprogram,t),this.gl.linkProgram(this.sprogram),this.gl.getProgramParameter(this.sprogram,this.gl.LINK_STATUS)||alert(\"Could not initialise shaders\"),this.gl.useProgram(this.sprogram),this.sprogram.vpa=this.gl.getAttribLocation(this.sprogram,\"aVertexPosition\"),this.sprogram.tca=this.gl.getAttribLocation(this.sprogram,\"aTextureCoord\"),this.gl.enableVertexAttribArray(this.sprogram.tca),this.gl.enableVertexAttribArray(this.sprogram.vpa),this.sprogram.tMatUniform=this.gl.getUniformLocation(this.sprogram,\"tMat\"),this.sprogram.samplerUniform=this.gl.getUniformLocation(this.sprogram,\"uSampler\"),this.sprogram.useTex=this.gl.getUniformLocation(this.sprogram,\"useTexture\"),this.sprogram.color=this.gl.getUniformLocation(this.sprogram,\"uColor\"),this.gl.uniform1i(this.sprogram.useTex,1)}},{key:\"initBuffers\",value:function(){var t;this.unitIBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitIBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,3,1,0,2,3]),this.gl.STATIC_DRAW);for(var e=void 0,i=[],e=0;e<100;e++)i.push(e);for(t=new Uint16Array(i),this.unitI33=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitI33),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,t,this.gl.STATIC_DRAW),i=[],e=0;e<100;e++)i.push(e,e+1,e+2);t=new Uint16Array(i),this.stripBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.stripBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,t,this.gl.STATIC_DRAW)}},{key:\"createCircle\",value:function(t){this.circleCanvasRadius=c(P.initValue(t,32));var e=v.createCanvas(\"circle_canvas\",2*this.circleCanvasRadius,2*this.circleCanvasRadius),t=e.getContext(\"2d\");return t.beginPath(),t.arc(this.circleCanvasRadius,this.circleCanvasRadius,this.circleCanvasRadius,0,2*Math.PI,!0),t.closePath(),t.fillStyle=\"#FFF\",t.fill(),e.toDataURL()}},{key:\"drawImg2Canvas\",value:function(t){var e=t.body.width,i=t.body.height,a=c(t.body.width),r=c(t.body.height),n=t.body.width/a,s=t.body.height/r;this.texturebuffers[t.data.src]||(this.texturebuffers[t.data.src]=[this.gl.createTexture(),this.gl.createBuffer(),this.gl.createBuffer()]),t.data.texture=this.texturebuffers[t.data.src][0],t.data.vcBuffer=this.texturebuffers[t.data.src][1],t.data.tcBuffer=this.texturebuffers[t.data.src][2],this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.data.tcBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,n,0,0,s,s,s]),this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.data.vcBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,e,0,0,i,e,i]),this.gl.STATIC_DRAW);r=t.data.canvas.getContext(\"2d\").getImageData(0,0,a,r);this.gl.bindTexture(this.gl.TEXTURE_2D,t.data.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,r),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_NEAREST),this.gl.generateMipmap(this.gl.TEXTURE_2D),t.data.textureLoaded=!0,t.data.textureWidth=e,t.data.textureHeight=i}},{key:\"onProtonUpdate\",value:function(){}},{key:\"onParticleCreated\",value:function(t){t.data.textureLoaded=!1,t.data.tmat=X.create(),t.data.tmat[8]=1,t.data.imat=X.create(),t.data.imat[8]=1,t.body?x(t.body,this.addImg2Body,t):(x(this.circleCanvasURL,this.addImg2Body,t),t.data.oldScale=t.radius/this.circleCanvasRadius)}},{key:\"addImg2Body\",value:function(t,e){e.dead||(e.body=t,e.data.src=t.src,e.data.canvas=k(t),e.data.oldScale=1,this.drawImg2Canvas(e))}},{key:\"onParticleUpdate\",value:function(t){t.data.textureLoaded&&(this.updateMatrix(t),this.gl.uniform3f(this.sprogram.color,t.rgb.r/255,t.rgb.g/255,t.rgb.b/255),this.gl.uniformMatrix3fv(this.sprogram.tMatUniform,!1,this.mstack.top()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.data.vcBuffer),this.gl.vertexAttribPointer(this.sprogram.vpa,2,this.gl.FLOAT,!1,0,0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.data.tcBuffer),this.gl.vertexAttribPointer(this.sprogram.tca,2,this.gl.FLOAT,!1,0,0),this.gl.bindTexture(this.gl.TEXTURE_2D,t.data.texture),this.gl.uniform1i(this.sprogram.samplerUniform,0),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitIBuffer),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0),this.mstack.pop())}},{key:\"onParticleDead\",value:function(){}},{key:\"updateMatrix\",value:function(t){var e=d(-t.data.textureWidth/2,-t.data.textureHeight/2),i=d(t.p.x,t.p.y),a=t.rotation*s.PI_180,r=y(a),a=t.scale*t.data.oldScale,a=p(a,a),a=f(e,a),a=f(a,r);a=f(a,i),X.inverse(a,t.data.imat),a[2]=t.alpha,this.mstack.push(a)}}]),C=pe;function pe(t){o(this,pe);t=h(this,(pe.__proto__||Object.getPrototypeOf(pe)).call(this,t));return t.gl=t.element.getContext(\"experimental-webgl\",{antialias:!0,stencil:!1,depth:!1}),t.gl||alert(\"Sorry your browser do not suppest WebGL!\"),t.initVar(),t.setMaxRadius(),t.initShaders(),t.initBuffers(),t.gl.blendEquation(t.gl.FUNC_ADD),t.gl.blendFunc(t.gl.SRC_ALPHA,t.gl.ONE_MINUS_SRC_ALPHA),t.gl.enable(t.gl.BLEND),t.addImg2Body=t.addImg2Body.bind(t),t.name=\"WebGLRenderer\",t}r(fe,$t),$t=fe;function fe(t){o(this,fe);t=h(this,(fe.__proto__||Object.getPrototypeOf(fe)).call(this,t));return t.name=\"CustomRenderer\",t}var ve=(r(ge,at),t(ge,[{key:\"getPosition\",value:function(){return this.random=Math.random(),this.vector.x=this.x1+this.random*this.length*Math.cos(this.gradient),this.vector.y=this.y1+this.random*this.length*Math.sin(this.gradient),this.vector}},{key:\"getDirection\",value:function(t,e){var i=this.dy,a=-this.dx;return 0<(i*t+a*e+this.dot)*(0==a?1:a)}},{key:\"getDistance\",value:function(t,e){return(this.dy*t+-this.dx*e+this.dot)/Math.sqrt(this.xxyy)}},{key:\"getSymmetric\",value:function(t){var e=t.getGradient(),i=2*(this.getGradient()-e),a=t.x,e=t.y;return t.x=a*Math.cos(i)-e*Math.sin(i),t.y=a*Math.sin(i)+e*Math.cos(i),t}},{key:\"getGradient\",value:function(){return Math.atan2(this.dy,this.dx)}},{key:\"rangeOut\",value:function(t){if(Math.abs(this.getGradient())<=s.PI/4){if(t.p.x<=this.maxx&&t.p.x>=this.minx)return!0}else if(t.p.y<=this.maxy&&t.p.y>=this.miny)return!0;return!1}},{key:\"getLength\",value:function(){return Math.sqrt(this.dx*this.dx+this.dy*this.dy)}},{key:\"crossing\",value:function(t){\"dead\"===this.crossType?\">\"===this.direction||\"R\"===this.direction||\"right\"===this.direction||\"down\"===this.direction?this.rangeOut(t)&&this.getDirection(t.p.x,t.p.y)&&(t.dead=!0):this.rangeOut(t)&&(this.getDirection(t.p.x,t.p.y)||(t.dead=!0)):\"bound\"===this.crossType?this.rangeOut(t)&&this.getDistance(t.p.x,t.p.y)<=t.radius&&(0===this.dx?t.v.x*=-1:0===this.dy?t.v.y*=-1:this.getSymmetric(t.v)):\"cross\"===this.crossType&&this.alert&&(console.error(\"Sorry, LineZone does not support cross method!\"),this.alert=!1)}}]),ge);function ge(t,e,i,a,r){o(this,ge);var n=h(this,(ge.__proto__||Object.getPrototypeOf(ge)).call(this));return 0<=i-t?(n.x1=t,n.y1=e,n.x2=i,n.y2=a):(n.x1=i,n.y1=a,n.x2=t,n.y2=e),n.dx=n.x2-n.x1,n.dy=n.y2-n.y1,n.minx=Math.min(n.x1,n.x2),n.miny=Math.min(n.y1,n.y2),n.maxx=Math.max(n.x1,n.x2),n.maxy=Math.max(n.y1,n.y2),n.dot=n.x2*n.y1-n.x1*n.y2,n.xxyy=n.dx*n.dx+n.dy*n.dy,n.gradient=n.getGradient(),n.length=n.getLength(),n.direction=P.initValue(r,\">\"),n}var me=(r(be,at),t(be,[{key:\"getPosition\",value:function(){return this.angle=s.PIx2*Math.random(),this.randomRadius=Math.random()*this.radius,this.vector.x=this.x+this.randomRadius*Math.cos(this.angle),this.vector.y=this.y+this.randomRadius*Math.sin(this.angle),this.vector}},{key:\"setCenter\",value:function(t,e){this.center.x=t,this.center.y=e}},{key:\"crossing\",value:function(t){var e=t.p.distanceTo(this.center);\"dead\"===this.crossType?e-t.radius>this.radius&&(t.dead=!0):\"bound\"===this.crossType?e+t.radius>=this.radius&&this.getSymmetric(t):\"cross\"===this.crossType&&this.alert&&(console.error(\"Sorry, CircleZone does not support cross method!\"),this.alert=!1)}},{key:\"getSymmetric\",value:function(t){var e=t.v.getGradient(),i=2*(this.getGradient(t)-e),a=t.v.x,e=t.v.y;t.v.x=a*Math.cos(i)-e*Math.sin(i),t.v.y=a*Math.sin(i)+e*Math.cos(i)}},{key:\"getGradient\",value:function(t){return-s.PI_2+Math.atan2(t.p.y-this.center.y,t.p.x-this.center.x)}}]),be);function be(t,e,i){o(this,be);var a=h(this,(be.__proto__||Object.getPrototypeOf(be)).call(this));return a.x=t,a.y=e,a.radius=i,a.angle=0,a.center={x:t,y:e},a}var _e=(r(xe,at),t(xe,[{key:\"getPosition\",value:function(){return this.vector.x=this.x+Math.random()*this.width,this.vector.y=this.y+Math.random()*this.height,this.vector}},{key:\"crossing\",value:function(t){\"dead\"===this.crossType?((t.p.x+t.radius<this.x||t.p.x-t.radius>this.x+this.width)&&(t.dead=!0),(t.p.y+t.radius<this.y||t.p.y-t.radius>this.y+this.height)&&(t.dead=!0)):\"bound\"===this.crossType?(t.p.x-t.radius<this.x?(t.p.x=this.x+t.radius,t.v.x*=-1):t.p.x+t.radius>this.x+this.width&&(t.p.x=this.x+this.width-t.radius,t.v.x*=-1),t.p.y-t.radius<this.y?(t.p.y=this.y+t.radius,t.v.y*=-1):t.p.y+t.radius>this.y+this.height&&(t.p.y=this.y+this.height-t.radius,t.v.y*=-1)):\"cross\"===this.crossType&&(t.p.x+t.radius<this.x&&t.v.x<=0?t.p.x=this.x+this.width+t.radius:t.p.x-t.radius>this.x+this.width&&0<=t.v.x&&(t.p.x=this.x-t.radius),t.p.y+t.radius<this.y&&t.v.y<=0?t.p.y=this.y+this.height+t.radius:t.p.y-t.radius>this.y+this.height&&0<=t.v.y&&(t.p.y=this.y-t.radius))}}]),xe);function xe(t,e,i,a){o(this,xe);var r=h(this,(xe.__proto__||Object.getPrototypeOf(xe)).call(this));return r.x=t,r.y=e,r.width=i,r.height=a,r}r(ke,at),t(ke,[{key:\"reset\",value:function(t,e,i,a){this.imageData=t,this.x=P.initValue(e,0),this.y=P.initValue(i,0),this.d=P.initValue(a,2),this.vectors=[],this.setVectors()}},{key:\"setVectors\",value:function(){for(var t=void 0,e=void 0,i=this.imageData.width,a=this.imageData.height,t=0;t<i;t+=this.d)for(e=0;e<a;e+=this.d){var r=4*((e>>0)*i+(t>>0));0<this.imageData.data[3+r]&&this.vectors.push({x:t+this.x,y:e+this.y})}return this.vector}},{key:\"getBound\",value:function(t,e){t=4*((e>>0)*this.imageData.width+(t>>0));return 0<this.imageData.data[3+t]}},{key:\"getPosition\",value:function(){var t=P.getRandFromArray(this.vectors);return this.vector.copy(t)}},{key:\"getColor\",value:function(t,e){t-=this.x;t=4*(((e-=this.y)>>0)*this.imageData.width+(t>>0));return{r:this.imageData.data[t],g:this.imageData.data[1+t],b:this.imageData.data[2+t],a:this.imageData.data[3+t]}}},{key:\"crossing\",value:function(t){\"dead\"===this.crossType?this.getBound(t.p.x-this.x,t.p.y-this.y)?t.dead=!0:t.dead=!1:\"bound\"===this.crossType&&(this.getBound(t.p.x-this.x,t.p.y-this.y)||t.v.negate())}}]),r=ke;function ke(t,e,i,a){o(this,ke);var r=h(this,(ke.__proto__||Object.getPrototypeOf(ke)).call(this));return r.reset(t,e,i,a),r}t={addEventListener:function(t,e){t.addEventListener(\"PROTON_UPDATE_AFTER\",function(){return e()})},getStyle:function(t){t=H.hexToRgb(0<arguments.length&&void 0!==t?t:\"#ff0000\");return\"rgba(\"+t.r+\", \"+t.g+\", \"+t.b+\", 0.5)\"},drawZone:function(t,e,i,a){var r=e.getContext(\"2d\"),n=this.getStyle();this.addEventListener(t,function(){a&&r.clearRect(0,0,e.width,e.height),i instanceof nt?(r.beginPath(),r.fillStyle=n,r.arc(i.x,i.y,10,0,2*Math.PI,!0),r.fill(),r.closePath()):i instanceof ve?(r.beginPath(),r.strokeStyle=n,r.moveTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.stroke(),r.closePath()):i instanceof _e?(r.beginPath(),r.strokeStyle=n,r.drawRect(i.x,i.y,i.width,i.height),r.stroke(),r.closePath()):i instanceof me&&(r.beginPath(),r.strokeStyle=n,r.arc(i.x,i.y,i.radius,0,2*Math.PI,!0),r.stroke(),r.closePath())})},drawEmitter:function(t,e,i,a){var r=e.getContext(\"2d\"),n=this.getStyle();this.addEventListener(t,function(){a&&r.clearRect(0,0,e.width,e.height),r.beginPath(),r.fillStyle=n,r.arc(i.p.x,i.p.y,10,0,2*Math.PI,!0),r.fill(),r.closePath()})}};return V.Particle=j,V.Pool=T,V.Util=P,V.ColorUtil=H,V.MathUtil=s,V.Vector2D=V.Vector=F,V.Polar2D=V.Polar=q,V.ArraySpan=Y,V.Rectangle=Z,V.Rate=K,V.ease=U,V.Span=l,V.Mat3=X,V.getSpan=function(t,e,i){return new l(t,e,i)},V.createArraySpan=Y.createArraySpan,V.Initialize=V.Init=$,V.Life=V.L=et,V.Position=V.P=ot,V.Velocity=V.V=lt,V.Mass=V.M=ct,V.Radius=V.R=yt,V.Body=V.B=ft,V.Behaviour=gt,V.Force=V.F=bt,V.Attraction=V.A=xt,V.RandomDrift=V.RD=Pt,V.Gravity=V.G=At,V.Collision=Rt,V.CrossZone=wt,V.Alpha=St,V.Scale=V.S=Dt,V.Rotate=Mt,V.Color=Lt,V.Repulsion=Nt,V.Cyclone=zt,V.GravityWell=qt,V.Emitter=Yt,V.BehaviourEmitter=Zt,V.FollowEmitter=Kt,V.Zone=at,V.LineZone=ve,V.CircleZone=me,V.PointZone=nt,V.RectZone=_e,V.ImageZone=r,V.CanvasRenderer=ee,V.DomRenderer=ae,V.EaselRenderer=ne,V.PixiRenderer=ue,V.PixelRenderer=oe,V.WebGLRenderer=V.WebGlRenderer=C,V.CustomRenderer=$t,V.Debug=t,P.assign(V,U),V});\n//# sourceMappingURL=proton.min.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9wcm90b24tZW5naW5lQDQuMi4xL25vZGVfbW9kdWxlcy9wcm90b24tZW5naW5lL2J1aWxkL3Byb3Rvbi5taW4uanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxLQUFvRCxvQkFBb0IsQ0FBNEQsQ0FBQyxpQkFBaUIsYUFBYSxtQkFBbUIsdUZBQXVGLGtDQUFrQyw0QkFBNEIsaUdBQWlHLGdDQUFnQyxrQ0FBa0Msd0JBQXdCLHVFQUF1RSx3QkFBd0IscUJBQXFCLHNEQUFzRCx5QkFBeUIsNkJBQTZCLGVBQWUsdUJBQXVCLDBCQUEwQiwyRUFBMkUsZ0JBQWdCLGFBQWEsb0dBQW9HLGlCQUFpQiw4RUFBOEUsbUJBQW1CLHdDQUF3QyxnQkFBZ0IsWUFBWSxXQUFXLEtBQUssV0FBVywrR0FBK0csa0JBQWtCLGlDQUFpQywyQ0FBMkMsZUFBZSw4QkFBOEIsUUFBUSxtQ0FBbUMsdURBQXVELG9CQUFvQiwySEFBMkgsMENBQTBDLGFBQWEsbURBQW1ELHNFQUFzRSxpQkFBaUIsNEZBQTRGLHVEQUF1RCxVQUFVLGlDQUFpQyxvQ0FBb0MsNEhBQTRILElBQUkseUNBQXlDLGdGQUFnRixFQUFFLHFDQUFxQyxzQ0FBc0MsTUFBTSxrQkFBa0IsdUpBQXVKLGtCQUFrQixJQUFJLFlBQVksS0FBSyxjQUFjLFdBQVcsaUJBQWlCLDBCQUEwQixlQUFlLGdDQUFnQywyQkFBMkIsaUJBQWlCLDBCQUEwQixpQkFBaUIsa0lBQWtJLG9IQUFvSCxJQUFJLCtCQUErQixxRkFBcUYsMEdBQTBHLDJCQUEyQixvQ0FBb0MsK0RBQStELHdCQUF3QixvR0FBb0csK0JBQStCLCtCQUErQixrRUFBa0UsMkJBQTJCLGlDQUFpQywrQkFBK0IsbUVBQW1FLHNFQUFzRSxzQkFBc0IsNENBQTRDLDZGQUE2RixLQUFLLEtBQUssdUJBQXVCLHVCQUF1QiwyQ0FB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QixXQUFXLG1FQUFtRSwwQkFBMEIsR0FBRywrQkFBK0Isb0RBQW9ELFdBQVcsRUFBRSxzQkFBc0IseURBQXlELDZDQUE2Qyw0QkFBNEIsMkNBQTJDLG1DQUFtQywyZEFBMmQsRUFBRSwrQkFBK0IsMkNBQTJDLG1DQUFtQyw2SEFBNkgsSUFBSSxxTUFBcU0sb0JBQW9CLG9xQkFBb3FCO0FBQ3AyakUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3Byb3Rvbi1lbmdpbmVANC4yLjEvbm9kZV9tb2R1bGVzL3Byb3Rvbi1lbmdpbmUvYnVpbGQvcHJvdG9uLm1pbi5qcz8yOTI1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuKiBQcm90b24gdjQuMi4xXG4qIGh0dHBzOi8vZ2l0aHViLmNvbS9kcmF3Y2FsbC9Qcm90b25cbipcbiogQ29weXJpZ2h0IDIwMTMtMjAyMCwgQS1KSUVcbiogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4qIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbipcbiovXG4hZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShlKTp0LlByb3Rvbj1lKCl9KHRoaXMsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgZT0zLjE0MTU5MjYscz17UEk6ZSxQSXgyOjIqZSxQSV8yOmUvMixQSV8xODA6ZS8xODAsTjE4MF9QSToxODAvZSxJbmZpbml0eTotOTk5LGlzSW5maW5pdHk6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT10aGlzLkluZmluaXR5fHx0PT09MS8wfSxyYW5kb21BVG9COmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gMjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1pJiZpP01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSooZS10KSkrdDp0K01hdGgucmFuZG9tKCkqKGUtdCl9LHJhbmRvbUZsb2F0aW5nOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5yYW5kb21BVG9CKHQtZSx0K2UsaSl9LHJhbmRvbUNvbG9yOmZ1bmN0aW9uKCl7cmV0dXJuXCIjXCIrKFwiMDAwMDBcIisoMTY3NzcyMTYqTWF0aC5yYW5kb20oKTw8MCkudG9TdHJpbmcoMTYpKS5zbGljZSgtNil9LHJhbmRvbVpvbmU6ZnVuY3Rpb24oKXt9LGZsb29yOmZ1bmN0aW9uKHQsZSl7ZT0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTo0LGU9TWF0aC5wb3coMTAsZSk7cmV0dXJuIE1hdGguZmxvb3IodCplKS9lfSxkZWdyZWVUcmFuc2Zvcm06ZnVuY3Rpb24odCl7cmV0dXJuIHQqZS8xODB9LHRvQ29sb3IxNjpmdW5jdGlvbih0KXtyZXR1cm5cIiNcIit0LnRvU3RyaW5nKDE2KX19LGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sbz1mdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9LHQ9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBlJiZhKHQucHJvdG90eXBlLGUpLGkmJmEodCxpKSx0fTtmdW5jdGlvbiBhKHQsZSl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBhPWVbaV07YS5lbnVtZXJhYmxlPWEuZW51bWVyYWJsZXx8ITEsYS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gYSYmKGEud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGEua2V5LGEpfX1mdW5jdGlvbiBuKHQsZSxpKXtudWxsPT09dCYmKHQ9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSk7aWYodm9pZCAwIT09YSl7aWYoXCJ2YWx1ZVwiaW4gYSlyZXR1cm4gYS52YWx1ZTthPWEuZ2V0O3JldHVybiB2b2lkIDAhPT1hP2EuY2FsbChpKTp2b2lkIDB9aWYobnVsbCE9PSh0PU9iamVjdC5nZXRQcm90b3R5cGVPZih0KSkpcmV0dXJuIG4odCxlLGkpfXZhciByPWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9LGg9ZnVuY3Rpb24odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX0sbD0odCh1LFt7a2V5OlwiZ2V0VmFsdWVcIix2YWx1ZTpmdW5jdGlvbih0KXt0PTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dCYmdDtyZXR1cm4gdGhpcy5pc0FycmF5P1AuZ2V0UmFuZEZyb21BcnJheSh0aGlzLmEpOnRoaXMuY2VudGVyP3MucmFuZG9tRmxvYXRpbmcodGhpcy5hLHRoaXMuYix0KTpzLnJhbmRvbUFUb0IodGhpcy5hLHRoaXMuYix0KX19XSxbe2tleTpcInNldFNwYW5WYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdCBpbnN0YW5jZW9mIHU/dDp2b2lkIDA9PT1lP25ldyB1KHQpOnZvaWQgMD09PWk/bmV3IHUodCxlKTpuZXcgdSh0LGUsaSl9fSx7a2V5OlwiZ2V0U3BhblZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiB1P3QuZ2V0VmFsdWUoKTp0fX1dKSx1KTtmdW5jdGlvbiB1KHQsZSxpKXtvKHRoaXMsdSksUC5pc0FycmF5KHQpPyh0aGlzLmlzQXJyYXk9ITAsdGhpcy5hPXQpOih0aGlzLmlzQXJyYXk9ITEsdGhpcy5hPVAuaW5pdFZhbHVlKHQsMSksdGhpcy5iPVAuaW5pdFZhbHVlKGUsdGhpcy5hKSx0aGlzLmNlbnRlcj1QLmluaXRWYWx1ZShpLCExKSl9dmFyIGM9ZnVuY3Rpb24odCl7LS10O2Zvcih2YXIgZT0xO2U8MzI7ZTw8PTEpdHw9dD4+ZTtyZXR1cm4gdCsxfSxkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuWzEsMCwwLDAsMSwwLHQsZSwxXX0seT1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLmNvcyh0KSx0PU1hdGguc2luKHQpO3JldHVybltlLC10LDAsdCxlLDAsMCwwLDFdfSxwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuW3QsMCwwLDAsZSwwLDAsMCwxXX0sZj1mdW5jdGlvbih0LGUpe3ZhciBpPXRbMF0sYT10WzFdLHI9dFsyXSxuPXRbM10scz10WzRdLG89dFs1XSxoPXRbNl0sbD10WzddLHU9dFs4XSxjPWVbMF0sZD1lWzFdLHk9ZVsyXSxwPWVbM10sZj1lWzRdLHY9ZVs1XSxnPWVbNl0sdD1lWzddLGU9ZVs4XTtyZXR1cm5baSpjK2EqcCtyKmcsaSpkK2EqZityKnQsaSp5K2EqdityKmUsbipjK3MqcCtvKmcsbipkK3MqZitvKnQsbip5K3MqditvKmUsaCpjK2wqcCt1KmcsaCpkK2wqZit1KnQsaCp5K2wqdit1KmVdfSx2PXtjcmVhdGVDYW52YXM6ZnVuY3Rpb24odCxlLGksYSl7dmFyIHI9Mzxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hP2E6XCJhYnNvbHV0ZVwiLGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtyZXR1cm4gYS5pZD10LGEud2lkdGg9ZSxhLmhlaWdodD1pLGEuc3R5bGUub3BhY2l0eT0wLGEuc3R5bGUucG9zaXRpb249cix0aGlzLnRyYW5zZm9ybShhLC01MDAsLTUwMCwwLDApLGF9LGNyZWF0ZURpdjpmdW5jdGlvbih0LGUsaSl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gYS5pZD10LGEuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHRoaXMucmVzaXplKGEsZSxpKSxhfSxyZXNpemU6ZnVuY3Rpb24odCxlLGkpe3Quc3R5bGUud2lkdGg9ZStcInB4XCIsdC5zdHlsZS5oZWlnaHQ9aStcInB4XCIsdC5zdHlsZS5tYXJnaW5MZWZ0PS1lLzIrXCJweFwiLHQuc3R5bGUubWFyZ2luVG9wPS1pLzIrXCJweFwifSx0cmFuc2Zvcm06ZnVuY3Rpb24odCxlLGksYSxyKXt0LnN0eWxlLndpbGxDaGFuZ2U9XCJ0cmFuc2Zvcm1cIjt2YXIgbj1cInRyYW5zbGF0ZShcIitlK1wicHgsIFwiK2krXCJweCkgc2NhbGUoXCIrYStcIikgcm90YXRlKFwiK3IrXCJkZWcpXCI7dGhpcy5jc3MzKHQsXCJ0cmFuc2Zvcm1cIixuKX0sdHJhbnNmb3JtM2Q6ZnVuY3Rpb24odCxlLGksYSxyKXt0LnN0eWxlLndpbGxDaGFuZ2U9XCJ0cmFuc2Zvcm1cIjtyPVwidHJhbnNsYXRlM2QoXCIrZStcInB4LCBcIitpK1wicHgsIDApIHNjYWxlKFwiK2ErXCIpIHJvdGF0ZShcIityK1wiZGVnKVwiO3RoaXMuY3NzMyh0LFwiYmFja2ZhY2VWaXNpYmlsaXR5XCIsXCJoaWRkZW5cIiksdGhpcy5jc3MzKHQsXCJ0cmFuc2Zvcm1cIixyKX0sY3NzMzpmdW5jdGlvbih0LGUsaSl7dmFyIGE9ZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnN1YnN0cigxKTt0LnN0eWxlW1wiV2Via2l0XCIrYV09aSx0LnN0eWxlW1wiTW96XCIrYV09aSx0LnN0eWxlW1wiT1wiK2FdPWksdC5zdHlsZVtcIm1zXCIrYV09aSx0LnN0eWxlW1wiXCIrZV09aX19LGc9e30sbT17fSxiPTAsXz1mdW5jdGlvbih0LGUsaSl7dC5kcmF3SW1hZ2UoZSxpLngsaS55KTtlPXQuZ2V0SW1hZ2VEYXRhKGkueCxpLnksaS53aWR0aCxpLmhlaWdodCk7cmV0dXJuIHQuY2xlYXJSZWN0KGkueCxpLnksaS53aWR0aCxpLmhlaWdodCksZX0seD1mdW5jdGlvbih0LGUsaSl7dmFyIGE9XCJzdHJpbmdcIj09dHlwZW9mIHQ/dDp0LnNyYztnW2FdP2UoZ1thXSxpKTooKHQ9bmV3IEltYWdlKS5vbmxvYWQ9ZnVuY3Rpb24odCl7Z1thXT10LnRhcmdldCxlKGdbYV0saSl9LHQuc3JjPWEpfSxrPWZ1bmN0aW9uKHQsZSxpKXt2YXIgYSxyLG49dC5zcmM7cmV0dXJuIG1bbl18fChhPWModC53aWR0aCkscj1jKHQuaGVpZ2h0KSwocj12LmNyZWF0ZUNhbnZhcyhcInByb3Rvbl9jYW52YXNfY2FjaGVfXCIrICsrYixhLHIpKS5nZXRDb250ZXh0KFwiMmRcIikuZHJhd0ltYWdlKHQsMCwwLHQud2lkdGgsdC5oZWlnaHQpLG1bbl09ciksZSYmZShtW25dLGkpLG1bbl19LFA9e2luaXRWYWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0PW51bGwhPXQ/dDplfSxpc0FycmF5OmZ1bmN0aW9uKHQpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX0sZW1wdHlBcnJheTpmdW5jdGlvbih0KXt0JiYodC5sZW5ndGg9MCl9LHRvQXJyYXk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaXNBcnJheSh0KT90Olt0XX0sZ2V0UmFuZEZyb21BcnJheTpmdW5jdGlvbih0KXtyZXR1cm4gdD90W01hdGguZmxvb3IodC5sZW5ndGgqTWF0aC5yYW5kb20oKSldOm51bGx9LGVtcHR5T2JqZWN0OmZ1bmN0aW9uKHQsZSl7dmFyIGksYT0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTpudWxsO2ZvcihpIGluIHQpYSYmLTE8YS5pbmRleE9mKGkpfHxkZWxldGUgdFtpXX0sY2xhc3NBcHBseTpmdW5jdGlvbih0LGUpe2U9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1lP2U6bnVsbDtyZXR1cm4gbmV3KGU/dC5iaW5kLmFwcGx5KHQsW251bGxdLmNvbmNhdChlKSk6dCl9LHNldFZlY3RvclZhbDpmdW5jdGlvbih0LGUpe2U9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1lP2U6bnVsbDtlJiYodGhpcy5oYXNQcm9wKGUsXCJ4XCIpJiYodC5wLng9ZS54KSx0aGlzLmhhc1Byb3AoZSxcInlcIikmJih0LnAueT1lLnkpLHRoaXMuaGFzUHJvcChlLFwidnhcIikmJih0LnYueD1lLnZ4KSx0aGlzLmhhc1Byb3AoZSxcInZ5XCIpJiYodC52Lnk9ZS52eSksdGhpcy5oYXNQcm9wKGUsXCJheFwiKSYmKHQuYS54PWUuYXgpLHRoaXMuaGFzUHJvcChlLFwiYXlcIikmJih0LmEueT1lLmF5KSx0aGlzLmhhc1Byb3AoZSxcInBcIikmJnQucC5jb3B5KGUucCksdGhpcy5oYXNQcm9wKGUsXCJ2XCIpJiZ0LnYuY29weShlLnYpLHRoaXMuaGFzUHJvcChlLFwiYVwiKSYmdC5hLmNvcHkoZS5hKSx0aGlzLmhhc1Byb3AoZSxcInBvc2l0aW9uXCIpJiZ0LnAuY29weShlLnBvc2l0aW9uKSx0aGlzLmhhc1Byb3AoZSxcInZlbG9jaXR5XCIpJiZ0LnYuY29weShlLnZlbG9jaXR5KSx0aGlzLmhhc1Byb3AoZSxcImFjY2VsZXJhdGVcIikmJnQuYS5jb3B5KGUuYWNjZWxlcmF0ZSkpfSxoYXNQcm9wOmZ1bmN0aW9uKHQsZSl7cmV0dXJuISF0JiZ2b2lkIDAhPT10W2VdfSxzZXRQcm9wOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIGUpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09bC5nZXRTcGFuVmFsdWUoZVtpXSkpO3JldHVybiB0fSxnZXRJbWFnZURhdGE6ZnVuY3Rpb24odCxlLGkpe3JldHVybiBfKHQsZSxpKX0sZGVzdHJveUFsbDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTpudWxsLGE9dC5sZW5ndGg7YS0tOyl7dHJ5e3RbYV0uZGVzdHJveShpKX1jYXRjaCh0KXt9ZGVsZXRlIHRbYV19dC5sZW5ndGg9MH0sYXNzaWduOmZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmFzc2lnbilyZXR1cm4gT2JqZWN0LmFzc2lnbih0LGUpO2Zvcih2YXIgaSBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGkpJiYodFtpXT1lW2ldKTtyZXR1cm4gdH19LEU9e30sQT17X2luZGV4OjAsX2NhY2hlOnt9LGlkOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT1FW3RdJiZudWxsIT09RVt0XXx8KEVbdF09MCksdCtcIl9cIitFW3RdKyt9LGdldElkOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0SWRGcm9tQ2FjaGUodCk7cmV0dXJuIGV8fChlPVwiUFVJRF9cIit0aGlzLl9pbmRleCsrLHRoaXMuX2NhY2hlW2VdPXQsZSl9LGdldElkRnJvbUNhY2hlOmZ1bmN0aW9uKHQpe3ZhciBlLGk9dm9pZCAwO2ZvcihpIGluIHRoaXMuX2NhY2hlKXtpZigoZT10aGlzLl9jYWNoZVtpXSk9PT10KXJldHVybiBpO2lmKHRoaXMuaXNCb2R5KGUsdCkmJmUuc3JjPT09dC5zcmMpcmV0dXJuIGl9cmV0dXJuIG51bGx9LGlzQm9keTpmdW5jdGlvbih0LGUpe3JldHVyblwib2JqZWN0XCI9PT0odm9pZCAwPT09dD9cInVuZGVmaW5lZFwiOmkodCkpJiZcIm9iamVjdFwiPT09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjppKGUpKSYmdC5pc0lubmVyJiZlLmlzSW5uZXJ9LGdldFRhcmdldDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY2FjaGVbdF19fSxUPSh0KFIsW3trZXk6XCJnZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dmFyIGE9dm9pZCAwO3JldHVybiBpPWl8fHQuX19wdWlkfHxBLmdldElkKHQpLChhPXRoaXMuY2FjaGVbaV0mJjA8dGhpcy5jYWNoZVtpXS5sZW5ndGg/dGhpcy5jYWNoZVtpXS5wb3AoKTp0aGlzLmNyZWF0ZU9yQ2xvbmUodCxlKSkuX19wdWlkPXQuX19wdWlkfHxpLGF9fSx7a2V5OlwiZXhwaXJlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0Q2FjaGUodC5fX3B1aWQpLnB1c2godCl9fSx7a2V5OlwiY3JlYXRlT3JDbG9uZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudG90YWwrKyx0aGlzLmNyZWF0ZT90aGlzLmNyZWF0ZSh0LGUpOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/UC5jbGFzc0FwcGx5KHQsZSk6dC5jbG9uZSgpfX0se2tleTpcImdldENvdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlPTA7Zm9yKHQgaW4gdGhpcy5jYWNoZSllKz10aGlzLmNhY2hlW3RdLmxlbmd0aDtyZXR1cm4gZSsrfX0se2tleTpcImRlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLmNhY2hlKXRoaXMuY2FjaGVbdF0ubGVuZ3RoPTAsZGVsZXRlIHRoaXMuY2FjaGVbdF19fSx7a2V5OlwiZ2V0Q2FjaGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0PTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90OlwiZGVmYXVsdFwiO3JldHVybiB0aGlzLmNhY2hlW3RdfHwodGhpcy5jYWNoZVt0XT1bXSksdGhpcy5jYWNoZVt0XX19XSksUik7ZnVuY3Rpb24gUih0KXtvKHRoaXMsUiksdGhpcy50b3RhbD0wLHRoaXMuY2FjaGU9e319dmFyIE89KHQodyxbe2tleTpcInVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5hZGQodCxlKTt2YXIgaT10aGlzLmdldEVtaXR0ZXIoKSx0PXRoaXMuZ2V0UmVuZGVyZXIoKSxlPVwiXCI7c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSAyOmUrPVwiZW1pdHRlcjpcIit0aGlzLnByb3Rvbi5lbWl0dGVycy5sZW5ndGgrXCI8YnI+XCIsaSYmKGUrPVwiZW0gc3BlZWQ6XCIraS5lbWl0U3BlZWQrXCI8YnI+XCIpLGkmJihlKz1cInBvczpcIit0aGlzLmdldEVtaXR0ZXJQb3MoaSkpO2JyZWFrO2Nhc2UgMzppJiYoZSs9XCJpbml0aWFsaXplczpcIitpLmluaXRpYWxpemVzLmxlbmd0aCtcIjxicj5cIiksaSYmKGUrPSc8c3BhbiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrO1wiPicrdGhpcy5jb25jYXRBcnIoaS5pbml0aWFsaXplcykrXCI8L3NwYW4+PGJyPlwiKSxpJiYoZSs9XCJiZWhhdmlvdXJzOlwiK2kuYmVoYXZpb3Vycy5sZW5ndGgrXCI8YnI+XCIpLGkmJihlKz0nPHNwYW4gc3R5bGU9XCJkaXNwbGF5OmlubGluZS1ibG9jaztcIj4nK3RoaXMuY29uY2F0QXJyKGkuYmVoYXZpb3VycykrXCI8L3NwYW4+PGJyPlwiKTticmVhaztjYXNlIDQ6dCYmKGUrPXQubmFtZStcIjxicj5cIiksdCYmKGUrPVwiYm9keTpcIit0aGlzLmdldENyZWF0ZWROdW1iZXIodCkrXCI8YnI+XCIpO2JyZWFrO2RlZmF1bHQ6ZSs9XCJwYXJ0aWNsZXM6XCIrdGhpcy5wcm90b24uZ2V0Q291bnQoKStcIjxicj5cIixlKz1cInBvb2w6XCIrdGhpcy5wcm90b24ucG9vbC5nZXRDb3VudCgpK1wiPGJyPlwiLGUrPVwidG90YWw6XCIrdGhpcy5wcm90b24ucG9vbC50b3RhbH10aGlzLmNvbnRhaW5lci5pbm5lckhUTUw9ZX19LHtrZXk6XCJhZGRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXM7aWYoIXRoaXMuY29udGFpbmVyKXt0aGlzLnR5cGU9MSx0aGlzLmNvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuY29udGFpbmVyLnN0eWxlLmNzc1RleHQ9W1wicG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjBweDtsZWZ0OjA7Y3Vyc29yOnBvaW50ZXI7XCIsXCJvcGFjaXR5OjAuOTt6LWluZGV4OjEwMDAwO3BhZGRpbmc6MTBweDtmb250LXNpemU6MTJweDtmb250LWZhbWlseTpIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZjtcIixcIndpZHRoOjEyMHB4O2hlaWdodDo1MHB4O2JhY2tncm91bmQtY29sb3I6IzAwMjtjb2xvcjojMGZmO1wiXS5qb2luKFwiXCIpLHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKHQpe2kudHlwZSsrLDQ8aS50eXBlJiYoaS50eXBlPTEpfSwhMSk7dmFyIGE9dm9pZCAwLHI9dm9pZCAwO3N3aXRjaCh0KXtjYXNlIDI6YT1cIiMyMDFcIixyPVwiI2YwOFwiO2JyZWFrO2Nhc2UgMzphPVwiIzAyMFwiLHI9XCIjMGYwXCI7YnJlYWs7ZGVmYXVsdDphPVwiIzAwMlwiLHI9XCIjMGZmXCJ9dGhpcy5jb250YWluZXIuc3R5bGVbXCJiYWNrZ3JvdW5kLWNvbG9yXCJdPWEsdGhpcy5jb250YWluZXIuc3R5bGUuY29sb3I9cn10aGlzLmNvbnRhaW5lci5wYXJlbnROb2RlfHwoZT1lfHx0aGlzLmJvZHl8fGRvY3VtZW50LmJvZHkpLmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyKX19LHtrZXk6XCJnZXRFbWl0dGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm90b24uZW1pdHRlcnNbdGhpcy5lbWl0dGVySW5kZXhdfX0se2tleTpcImdldFJlbmRlcmVyXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm90b24ucmVuZGVyZXJzW3RoaXMucmVuZGVyZXJJbmRleF19fSx7a2V5OlwiY29uY2F0QXJyXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9XCJcIjtpZighdHx8IXQubGVuZ3RoKXJldHVybiBlO2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKWUrPSh0W2ldLm5hbWV8fFwiXCIpLnN1YnN0cigwLDEpK1wiLlwiO3JldHVybiBlfX0se2tleTpcImdldENyZWF0ZWROdW1iZXJcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5wb29sLnRvdGFsfHx0LmNwb29sJiZ0LmNwb29sLnRvdGFsfHwwfX0se2tleTpcImdldEVtaXR0ZXJQb3NcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5yb3VuZCh0LnAueCkrXCIsXCIrTWF0aC5yb3VuZCh0LnAueSl9fV0pLHcpO2Z1bmN0aW9uIHcodCl7byh0aGlzLHcpLHRoaXMucHJvdG9uPXQsdGhpcy5jb250YWluZXI9bnVsbCx0aGlzLnR5cGU9MSx0aGlzLmVtaXR0ZXJJbmRleD0wLHRoaXMucmVuZGVyZXJJbmRleD0wfXZhciBDPSh0KFMsW3trZXk6XCJhZGRFdmVudExpc3RlbmVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fbGlzdGVuZXJzP3RoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGUpOnRoaXMuX2xpc3RlbmVycz17fSx0aGlzLl9saXN0ZW5lcnNbdF18fCh0aGlzLl9saXN0ZW5lcnNbdF09W10pLHRoaXMuX2xpc3RlbmVyc1t0XS5wdXNoKGUpLGV9fSx7a2V5OlwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fbGlzdGVuZXJzJiZ0aGlzLl9saXN0ZW5lcnNbdF0pZm9yKHZhciBpPXRoaXMuX2xpc3RlbmVyc1t0XSxhPWkubGVuZ3RoLHI9MDtyPGE7cisrKWlmKGlbcl09PT1lKXsxPT09YT9kZWxldGUgdGhpcy5fbGlzdGVuZXJzW3RdOmkuc3BsaWNlKHIsMSk7YnJlYWt9fX0se2tleTpcInJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dD90aGlzLl9saXN0ZW5lcnMmJmRlbGV0ZSB0aGlzLl9saXN0ZW5lcnNbdF06dGhpcy5fbGlzdGVuZXJzPW51bGx9fSx7a2V5OlwiZGlzcGF0Y2hFdmVudFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ITEsYT10aGlzLl9saXN0ZW5lcnM7aWYodCYmYSl7dmFyIHI9YVt0XTtpZighcilyZXR1cm4gaTtmb3IodmFyIG49dm9pZCAwLHM9ci5sZW5ndGg7cy0tOyluPXJbc10saT1pfHxuKGUpfXJldHVybiEhaX19LHtrZXk6XCJoYXNFdmVudExpc3RlbmVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbGlzdGVuZXJzO3JldHVybiEoIWV8fCFlW3RdKX19XSxbe2tleTpcImJpbmRcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PVMucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQsdC5wcm90b3R5cGUuaGFzRXZlbnRMaXN0ZW5lcj1TLnByb3RvdHlwZS5oYXNFdmVudExpc3RlbmVyLHQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI9Uy5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcix0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyPVMucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIsdC5wcm90b3R5cGUucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnM9Uy5wcm90b3R5cGUucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnN9fV0pLFMpO2Z1bmN0aW9uIFMoKXtvKHRoaXMsUyksdGhpcy5fbGlzdGVuZXJzPW51bGx9dmFyIEk9KHQoRCxbe2tleTpcImNhbGN1bGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLmV1bGVySW50ZWdyYXRlKHQsZSxpKX19LHtrZXk6XCJldWxlckludGVncmF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt0LnNsZWVwfHwodC5vbGQucC5jb3B5KHQucCksdC5vbGQudi5jb3B5KHQudiksdC5hLm11bHRpcGx5U2NhbGFyKDEvdC5tYXNzKSx0LnYuYWRkKHQuYS5tdWx0aXBseVNjYWxhcihlKSksdC5wLmFkZCh0Lm9sZC52Lm11bHRpcGx5U2NhbGFyKGUpKSxpJiZ0LnYubXVsdGlwbHlTY2FsYXIoaSksdC5hLmNsZWFyKCkpfX1dKSxEKTtmdW5jdGlvbiBEKHQpe28odGhpcyxEKSx0aGlzLnR5cGU9dH12YXIgVj0odChNLFt7a2V5OlwiYWRkUmVuZGVyZXJcIix2YWx1ZTpmdW5jdGlvbih0KXt0LmluaXQodGhpcyksdGhpcy5yZW5kZXJlcnMucHVzaCh0KX19LHtrZXk6XCJyZW1vdmVSZW5kZXJlclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucmVuZGVyZXJzLmluZGV4T2YodCk7dGhpcy5yZW5kZXJlcnMuc3BsaWNlKGUsMSksdC5yZW1vdmUodGhpcyl9fSx7a2V5OlwiYWRkRW1pdHRlclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZW1pdHRlcnMucHVzaCh0KSwodC5wYXJlbnQ9dGhpcykuZGlzcGF0Y2hFdmVudChNLkVNSVRURVJfQURERUQsdCl9fSx7a2V5OlwicmVtb3ZlRW1pdHRlclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZW1pdHRlcnMuaW5kZXhPZih0KTt0aGlzLmVtaXR0ZXJzLnNwbGljZShlLDEpLHQucGFyZW50PW51bGwsdGhpcy5kaXNwYXRjaEV2ZW50KE0uRU1JVFRFUl9SRU1PVkVELHQpfX0se2tleTpcInVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7XCJhdXRvXCI9PT10aGlzLl9mcHM/KHRoaXMuZGlzcGF0Y2hFdmVudChNLlBST1RPTl9VUERBVEUpLE0uVVNFX0NMT0NLPyh0aGlzLnRoZW58fCh0aGlzLnRoZW49KG5ldyBEYXRlKS5nZXRUaW1lKCkpLHRoaXMubm93PShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMuZWxhcHNlZD0uMDAxKih0aGlzLm5vdy10aGlzLnRoZW4pLHRoaXMuYW1lbmRDaGFuZ2VUYWJzQnVnKCksMDx0aGlzLmVsYXBzZWQmJnRoaXMuZW1pdHRlcnNVcGRhdGUodGhpcy5lbGFwc2VkKSx0aGlzLnRoZW49dGhpcy5ub3cpOnRoaXMuZW1pdHRlcnNVcGRhdGUoTS5ERUZBVUxUX0lOVEVSVkFMKSx0aGlzLmRpc3BhdGNoRXZlbnQoTS5QUk9UT05fVVBEQVRFX0FGVEVSKSk6KHRoaXMudGhlbnx8KHRoaXMudGhlbj0obmV3IERhdGUpLmdldFRpbWUoKSksdGhpcy5ub3c9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5lbGFwc2VkPS4wMDEqKHRoaXMubm93LXRoaXMudGhlbiksdGhpcy5lbGFwc2VkPnRoaXMuX2ludGVydmFsJiYodGhpcy5kaXNwYXRjaEV2ZW50KE0uUFJPVE9OX1VQREFURSksdGhpcy5lbWl0dGVyc1VwZGF0ZSh0aGlzLl9pbnRlcnZhbCksdGhpcy50aGVuPXRoaXMubm93LXRoaXMuZWxhcHNlZCV0aGlzLl9pbnRlcnZhbCoxZTMsdGhpcy5kaXNwYXRjaEV2ZW50KE0uUFJPVE9OX1VQREFURV9BRlRFUikpKX19LHtrZXk6XCJlbWl0dGVyc1VwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmVtaXR0ZXJzLmxlbmd0aDtlLS07KXRoaXMuZW1pdHRlcnNbZV0udXBkYXRlKHQpfX0se2tleTpcImFtZW5kQ2hhbmdlVGFic0J1Z1wiLHZhbHVlOmZ1bmN0aW9uKCl7TS5hbWVuZENoYW5nZVRhYnNCdWcmJi41PHRoaXMuZWxhcHNlZCYmKHRoaXMudGhlbj0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLmVsYXBzZWQ9MCl9fSx7a2V5OlwiZ2V0Q291bnRcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9dGhpcy5lbWl0dGVycy5sZW5ndGg7ZS0tOyl0Kz10aGlzLmVtaXR0ZXJzW2VdLnBhcnRpY2xlcy5sZW5ndGg7cmV0dXJuIHR9fSx7a2V5OlwiZ2V0QWxsUGFydGljbGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT10aGlzLmVtaXR0ZXJzLmxlbmd0aDtlLS07KXQ9dC5jb25jYXQodGhpcy5lbWl0dGVyc1tlXS5wYXJ0aWNsZXMpO3JldHVybiB0fX0se2tleTpcImRlc3Ryb3lBbGxFbWl0dGVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7UC5kZXN0cm95QWxsKHRoaXMuZW1pdHRlcnMpfX0se2tleTpcImRlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7aS50aW1lPTAsaS50aGVuPTAsaS5wb29sLmRlc3Ryb3koKSxQLmRlc3Ryb3lBbGwoaS5lbWl0dGVycyksUC5kZXN0cm95QWxsKGkucmVuZGVyZXJzLGkuZ2V0QWxsUGFydGljbGVzKCkpfXZhciBpPXRoaXM7MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT10JiZ0P3NldFRpbWVvdXQoZSwyMDApOmUoKX19LHtrZXk6XCJmcHNcIixzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZnBzPXQsdGhpcy5faW50ZXJ2YWw9XCJhdXRvXCI9PT10P00uREVGQVVMVF9JTlRFUlZBTDpzLmZsb29yKDEvdCw3KX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Zwc319XSksTSk7ZnVuY3Rpb24gTSh0KXtvKHRoaXMsTSksdGhpcy5lbWl0dGVycz1bXSx0aGlzLnJlbmRlcmVycz1bXSx0aGlzLnRpbWU9MCx0aGlzLm5vdz0wLHRoaXMudGhlbj0wLHRoaXMuZWxhcHNlZD0wLHRoaXMuc3RhdHM9bmV3IE8odGhpcyksdGhpcy5wb29sPW5ldyBUKDgwKSx0aGlzLmludGVncmF0aW9uVHlwZT1QLmluaXRWYWx1ZSh0LE0uRVVMRVIpLHRoaXMuaW50ZWdyYXRvcj1uZXcgSSh0aGlzLmludGVncmF0aW9uVHlwZSksdGhpcy5fZnBzPVwiYXV0b1wiLHRoaXMuX2ludGVydmFsPU0uREVGQVVMVF9JTlRFUlZBTH1WLlVTRV9DTE9DSz0hMSxWLk1FQVNVUkU9MTAwLFYuRVVMRVI9XCJldWxlclwiLFYuUksyPVwicnVuZ2Uta3V0dGEyXCIsVi5QQVJUSUNMRV9DUkVBVEVEPVwiUEFSVElDTEVfQ1JFQVRFRFwiLFYuUEFSVElDTEVfVVBEQVRFPVwiUEFSVElDTEVfVVBEQVRFXCIsVi5QQVJUSUNMRV9TTEVFUD1cIlBBUlRJQ0xFX1NMRUVQXCIsVi5QQVJUSUNMRV9ERUFEPVwiUEFSVElDTEVfREVBRFwiLFYuRU1JVFRFUl9BRERFRD1cIkVNSVRURVJfQURERURcIixWLkVNSVRURVJfUkVNT1ZFRD1cIkVNSVRURVJfUkVNT1ZFRFwiLFYuUFJPVE9OX1VQREFURT1cIlBST1RPTl9VUERBVEVcIixWLlBST1RPTl9VUERBVEVfQUZURVI9XCJQUk9UT05fVVBEQVRFX0FGVEVSXCIsVi5ERUZBVUxUX0lOVEVSVkFMPS4wMTY3LFYuYW1lbmRDaGFuZ2VUYWJzQnVnPSEwLEMuYmluZChWKTt2YXIgQj0odChMLFt7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucj0yNTUsdGhpcy5nPTI1NSx0aGlzLmI9MjU1fX1dKSxMKTtmdW5jdGlvbiBMKCl7dmFyIHQ9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjI1NSxlPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToyNTUsaT0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MjU1O28odGhpcyxMKSx0aGlzLnI9dCx0aGlzLmc9ZSx0aGlzLmI9aX12YXIgVT17ZWFzZUxpbmVhcjpmdW5jdGlvbih0KXtyZXR1cm4gdH0sZWFzZUluUXVhZDpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3codCwyKX0sZWFzZU91dFF1YWQ6ZnVuY3Rpb24odCl7cmV0dXJuLShNYXRoLnBvdyh0LTEsMiktMSl9LGVhc2VJbk91dFF1YWQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQvPS41KTwxPy41Kk1hdGgucG93KHQsMik6LS41KigodC09MikqdC0yKX0sZWFzZUluQ3ViaWM6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgucG93KHQsMyl9LGVhc2VPdXRDdWJpYzpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3codC0xLDMpKzF9LGVhc2VJbk91dEN1YmljOmZ1bmN0aW9uKHQpe3JldHVybih0Lz0uNSk8MT8uNSpNYXRoLnBvdyh0LDMpOi41KihNYXRoLnBvdyh0LTIsMykrMil9LGVhc2VJblF1YXJ0OmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnBvdyh0LDQpfSxlYXNlT3V0UXVhcnQ6ZnVuY3Rpb24odCl7cmV0dXJuLShNYXRoLnBvdyh0LTEsNCktMSl9LGVhc2VJbk91dFF1YXJ0OmZ1bmN0aW9uKHQpe3JldHVybih0Lz0uNSk8MT8uNSpNYXRoLnBvdyh0LDQpOi0uNSooKHQtPTIpKk1hdGgucG93KHQsMyktMil9LGVhc2VJblNpbmU6ZnVuY3Rpb24odCl7cmV0dXJuIDEtTWF0aC5jb3ModCpzLlBJXzIpfSxlYXNlT3V0U2luZTpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zaW4odCpzLlBJXzIpfSxlYXNlSW5PdXRTaW5lOmZ1bmN0aW9uKHQpe3JldHVybi0uNSooTWF0aC5jb3MoTWF0aC5QSSp0KS0xKX0sZWFzZUluRXhwbzpmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQ/MDpNYXRoLnBvdygyLDEwKih0LTEpKX0sZWFzZU91dEV4cG86ZnVuY3Rpb24odCl7cmV0dXJuIDE9PT10PzE6MS1NYXRoLnBvdygyLC0xMCp0KX0sZWFzZUluT3V0RXhwbzpmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQ/MDoxPT09dD8xOih0Lz0uNSk8MT8uNSpNYXRoLnBvdygyLDEwKih0LTEpKTouNSooMi1NYXRoLnBvdygyLC0xMCotLXQpKX0sZWFzZUluQ2lyYzpmdW5jdGlvbih0KXtyZXR1cm4tKE1hdGguc3FydCgxLXQqdCktMSl9LGVhc2VPdXRDaXJjOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQoMS1NYXRoLnBvdyh0LTEsMikpfSxlYXNlSW5PdXRDaXJjOmZ1bmN0aW9uKHQpe3JldHVybih0Lz0uNSk8MT8tLjUqKE1hdGguc3FydCgxLXQqdCktMSk6LjUqKE1hdGguc3FydCgxLSh0LT0yKSp0KSsxKX0sZWFzZUluQmFjazpmdW5jdGlvbih0KXtyZXR1cm4gdCp0KigyLjcwMTU4KnQtMS43MDE1OCl9LGVhc2VPdXRCYWNrOmZ1bmN0aW9uKHQpe3JldHVybi0tdCp0KigyLjcwMTU4KnQrMS43MDE1OCkrMX0sZWFzZUluT3V0QmFjazpmdW5jdGlvbih0KXt2YXIgZT0xLjcwMTU4O3JldHVybih0Lz0uNSk8MT90KnQqKCgxKyhlKj0xLjUyNSkpKnQtZSkqLjU6LjUqKCh0LT0yKSp0KigoMSsoZSo9MS41MjUpKSp0K2UpKzIpfSxnZXRFYXNpbmc6ZnVuY3Rpb24odCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD90OnRoaXNbdF18fHRoaXMuZWFzZUxpbmVhcn19LEY9KHQoeixbe2tleTpcInNldFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueD10LHRoaXMueT1lLHRoaXN9fSx7a2V5Olwic2V0WFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLng9dCx0aGlzfX0se2tleTpcInNldFlcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy55PXQsdGhpc319LHtrZXk6XCJnZXRHcmFkaWVudFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIDAhPT10aGlzLng/TWF0aC5hdGFuMih0aGlzLnksdGhpcy54KTowPHRoaXMueT9zLlBJXzI6dGhpcy55PDA/LXMuUElfMjp2b2lkIDB9fSx7a2V5OlwiY29weVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLng9dC54LHRoaXMueT10LnksdGhpc319LHtrZXk6XCJhZGRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDAhPT1lP3RoaXMuYWRkVmVjdG9ycyh0LGUpOih0aGlzLngrPXQueCx0aGlzLnkrPXQueSx0aGlzKX19LHtrZXk6XCJhZGRYWVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueCs9dCx0aGlzLnkrPWUsdGhpc319LHtrZXk6XCJhZGRWZWN0b3JzXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy54PXQueCtlLngsdGhpcy55PXQueStlLnksdGhpc319LHtrZXk6XCJzdWJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDAhPT1lP3RoaXMuc3ViVmVjdG9ycyh0LGUpOih0aGlzLngtPXQueCx0aGlzLnktPXQueSx0aGlzKX19LHtrZXk6XCJzdWJWZWN0b3JzXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy54PXQueC1lLngsdGhpcy55PXQueS1lLnksdGhpc319LHtrZXk6XCJkaXZpZGVTY2FsYXJcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gMCE9PXQ/KHRoaXMueC89dCx0aGlzLnkvPXQpOnRoaXMuc2V0KDAsMCksdGhpc319LHtrZXk6XCJtdWx0aXBseVNjYWxhclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngqPXQsdGhpcy55Kj10LHRoaXN9fSx7a2V5OlwibmVnYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tdWx0aXBseVNjYWxhcigtMSl9fSx7a2V5OlwiZG90XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCp0LngrdGhpcy55KnQueX19LHtrZXk6XCJsZW5ndGhTcVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueX19LHtrZXk6XCJsZW5ndGhcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55KX19LHtrZXk6XCJub3JtYWxpemVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpdmlkZVNjYWxhcih0aGlzLmxlbmd0aCgpKX19LHtrZXk6XCJkaXN0YW5jZVRvXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc3RhbmNlVG9TcXVhcmVkKHQpKX19LHtrZXk6XCJyb3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLngsaT10aGlzLnk7cmV0dXJuIHRoaXMueD1lKk1hdGguY29zKHQpK2kqTWF0aC5zaW4odCksdGhpcy55PS1lKk1hdGguc2luKHQpK2kqTWF0aC5jb3ModCksdGhpc319LHtrZXk6XCJkaXN0YW5jZVRvU3F1YXJlZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMueC10LngsdD10aGlzLnktdC55O3JldHVybiBlKmUrdCp0fX0se2tleTpcImxlcnBcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLngrPSh0LngtdGhpcy54KSplLHRoaXMueSs9KHQueS10aGlzLnkpKmUsdGhpc319LHtrZXk6XCJlcXVhbHNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC54PT09dGhpcy54JiZ0Lnk9PT10aGlzLnl9fSx7a2V5OlwiY2xlYXJcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLng9MCx0aGlzLnk9MCx0aGlzfX0se2tleTpcImNsb25lXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHoodGhpcy54LHRoaXMueSl9fV0pLHopO2Z1bmN0aW9uIHoodCxlKXtvKHRoaXMseiksdGhpcy54PXR8fDAsdGhpcy55PWV8fDB9dmFyIGo9KHQoTixbe2tleTpcImdldERpcmVjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy52LngsLXRoaXMudi55KSpzLk4xODBfUEl9fSx7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxpZmU9MS8wLHRoaXMuYWdlPTAsdGhpcy5kZWFkPSExLHRoaXMuc2xlZXA9ITEsdGhpcy5ib2R5PW51bGwsdGhpcy5zcHJpdGU9bnVsbCx0aGlzLnBhcmVudD1udWxsLHRoaXMuZW5lcmd5PTEsdGhpcy5tYXNzPTEsdGhpcy5yYWRpdXM9MTAsdGhpcy5hbHBoYT0xLHRoaXMuc2NhbGU9MSx0aGlzLnJvdGF0aW9uPTAsdGhpcy5jb2xvcj1udWxsLHRoaXMucC5zZXQoMCwwKSx0aGlzLnYuc2V0KDAsMCksdGhpcy5hLnNldCgwLDApLHRoaXMub2xkLnAuc2V0KDAsMCksdGhpcy5vbGQudi5zZXQoMCwwKSx0aGlzLm9sZC5hLnNldCgwLDApLHRoaXMuZWFzaW5nPVUuZWFzZUxpbmVhcix0aGlzLnJnYi5yZXNldCgpLFAuZW1wdHlPYmplY3QodGhpcy5kYXRhKSx0aGlzLnJlbW92ZUFsbEJlaGF2aW91cnMoKSx0aGlzfX0se2tleTpcInVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5zbGVlcHx8KHRoaXMuYWdlKz10LHRoaXMuYXBwbHlCZWhhdmlvdXJzKHQsZSkpLHRoaXMuYWdlPHRoaXMubGlmZT8oZT10aGlzLmVhc2luZyh0aGlzLmFnZS90aGlzLmxpZmUpLHRoaXMuZW5lcmd5PU1hdGgubWF4KDEtZSwwKSk6dGhpcy5kZXN0cm95KCl9fSx7a2V5OlwiYXBwbHlCZWhhdmlvdXJzXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy5iZWhhdmlvdXJzLmxlbmd0aCxhPXZvaWQgMCxhPTA7YTxpO2ErKyl0aGlzLmJlaGF2aW91cnNbYV0mJnRoaXMuYmVoYXZpb3Vyc1thXS5hcHBseUJlaGF2aW91cih0aGlzLHQsZSl9fSx7a2V5OlwiYWRkQmVoYXZpb3VyXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5iZWhhdmlvdXJzLnB1c2godCksdC5oYXNPd25Qcm9wZXJ0eShcInBhcmVudHNcIikmJnQucGFyZW50cy5wdXNoKHRoaXMpLHQuaW5pdGlhbGl6ZSh0aGlzKX19LHtrZXk6XCJhZGRCZWhhdmlvdXJzXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQubGVuZ3RoLGk9dm9pZCAwLGk9MDtpPGU7aSsrKXRoaXMuYWRkQmVoYXZpb3VyKHRbaV0pfX0se2tleTpcInJlbW92ZUJlaGF2aW91clwiLHZhbHVlOmZ1bmN0aW9uKHQpe3Q9dGhpcy5iZWhhdmlvdXJzLmluZGV4T2YodCk7LTE8dCYmKHRoaXMuYmVoYXZpb3Vycy5zcGxpY2UodCwxKS5wYXJlbnRzPW51bGwpfX0se2tleTpcInJlbW92ZUFsbEJlaGF2aW91cnNcIix2YWx1ZTpmdW5jdGlvbigpe1AuZW1wdHlBcnJheSh0aGlzLmJlaGF2aW91cnMpfX0se2tleTpcImRlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucmVtb3ZlQWxsQmVoYXZpb3VycygpLHRoaXMuZW5lcmd5PTAsdGhpcy5kZWFkPSEwLHRoaXMucGFyZW50PW51bGx9fV0pLE4pO2Z1bmN0aW9uIE4odCl7byh0aGlzLE4pLHRoaXMuaWQ9XCJcIix0aGlzLm9sZD17fSx0aGlzLmRhdGE9e30sdGhpcy5iZWhhdmlvdXJzPVtdLHRoaXMucD1bXSx0aGlzLnY9W10sdGhpcy5hPVtdLHRoaXMucmdiPXt9LHRoaXMubmFtZT1cIlBhcnRpY2xlXCIsdGhpcy5pZD1BLmlkKHRoaXMubmFtZSksdGhpcy5vbGQ9e30sdGhpcy5kYXRhPXt9LHRoaXMuYmVoYXZpb3Vycz1bXSx0aGlzLnA9bmV3IEYsdGhpcy52PW5ldyBGLHRoaXMuYT1uZXcgRix0aGlzLm9sZC5wPW5ldyBGLHRoaXMub2xkLnY9bmV3IEYsdGhpcy5vbGQuYT1uZXcgRix0aGlzLnJnYj1uZXcgQix0aGlzLnJlc2V0KCksdCYmUC5zZXRQcm9wKHRoaXMsdCl9dmFyIEg9e2hleFRvUmdiOmZ1bmN0aW9uKHQpe3Q9XCIjXCI9PT10LmNoYXJBdCgwKT90LnN1YnN0cmluZygxLDcpOnQ7cmV0dXJue3I6cGFyc2VJbnQodC5zdWJzdHJpbmcoMCwyKSwxNiksZzpwYXJzZUludCh0LnN1YnN0cmluZygyLDQpLDE2KSxiOnBhcnNlSW50KHQuc3Vic3RyaW5nKDQsNiksMTYpfX0scmdiVG9IZXg6ZnVuY3Rpb24odCl7cmV0dXJuXCJyZ2IoXCIrdC5yK1wiLCBcIit0LmcrXCIsIFwiK3QuYitcIilcIn0sZ2V0SGV4MTZGcm9tUGFydGljbGU6ZnVuY3Rpb24odCl7cmV0dXJuIDY1NTM2Kk51bWJlcih0LnJnYi5yKSsyNTYqTnVtYmVyKHQucmdiLmcpK051bWJlcih0LnJnYi5iKX19LHE9KHQoRyxbe2tleTpcInNldFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucj10LHRoaXMudGhhPWUsdGhpc319LHtrZXk6XCJzZXRSXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucj10LHRoaXN9fSx7a2V5Olwic2V0VGhhXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhhPXQsdGhpc319LHtrZXk6XCJjb3B5XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucj10LnIsdGhpcy50aGE9dC50aGEsdGhpc319LHtrZXk6XCJ0b1ZlY3RvclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBGKHRoaXMuZ2V0WCgpLHRoaXMuZ2V0WSgpKX19LHtrZXk6XCJnZXRYXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yKk1hdGguc2luKHRoaXMudGhhKX19LHtrZXk6XCJnZXRZXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4tdGhpcy5yKk1hdGguY29zKHRoaXMudGhhKX19LHtrZXk6XCJub3JtYWxpemVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnI9MSx0aGlzfX0se2tleTpcImVxdWFsc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnI9PT10aGlzLnImJnQudGhhPT09dGhpcy50aGF9fSx7a2V5OlwiY2xlYXJcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnI9MCx0aGlzLnRoYT0wLHRoaXN9fSx7a2V5OlwiY2xvbmVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgRyh0aGlzLnIsdGhpcy50aGEpfX1dKSxHKTtmdW5jdGlvbiBHKHQsZSl7byh0aGlzLEcpLHRoaXMucj1NYXRoLmFicyh0KXx8MCx0aGlzLnRoYT1lfHwwfXZhciBYPXtjcmVhdGU6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEZsb2F0MzJBcnJheSg5KTtyZXR1cm4gdCYmdGhpcy5zZXQodCxlKSxlfSxzZXQ6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9MDtpPDk7aSsrKWVbaV09dFtpXTtyZXR1cm4gZX0sbXVsdGlwbHk6ZnVuY3Rpb24odCxlLGkpe3ZhciBhPXRbMF0scj10WzFdLG49dFsyXSxzPXRbM10sbz10WzRdLGg9dFs2XSxsPXRbN10sdT1lWzBdLGM9ZVsxXSxkPWVbMl0seT1lWzNdLHA9ZVs0XSx0PWVbNl0sZT1lWzddO3JldHVybiBpWzBdPXUqYStjKnMsaVsxXT11KnIrYypvLGlbMl09bipkLGlbM109eSphK3AqcyxpWzRdPXkqcitwKm8saVs2XT10KmErZSpzK2gsaVs3XT10KnIrZSpvK2wsaX0saW52ZXJzZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRbMF0sYT10WzFdLHI9dFszXSxuPXRbNF0scz10WzZdLG89dFs3XSxoPS1yLHQ9bypyLW4qcyxyPTEvKGkqbithKmgpO3JldHVybiBlWzBdPW4qcixlWzFdPS1hKnIsZVszXT1oKnIsZVs0XT1pKnIsZVs2XT10KnIsZVs3XT0oLW8qaSthKnMpKnIsZX0sbXVsdGlwbHlWZWMyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgYT1lWzBdLGU9ZVsxXTtyZXR1cm4gaVswXT1hKnRbMF0rZSp0WzNdK3RbNl0saVsxXT1hKnRbMV0rZSp0WzRdK3RbN10saX19LFk9KHIoVyxsKSx0KFcsW3trZXk6XCJnZXRWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9UC5nZXRSYW5kRnJvbUFycmF5KHRoaXMuX2Fycik7cmV0dXJuXCJyYW5kb21cIj09PXR8fFwiUmFuZG9tXCI9PT10P3MucmFuZG9tQ29sb3IoKTp0fX1dLFt7a2V5OlwiY3JlYXRlQXJyYXlTcGFuXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dCBpbnN0YW5jZW9mIFc/dDpuZXcgVyh0KTpudWxsfX1dKSxXKTtmdW5jdGlvbiBXKHQpe28odGhpcyxXKTt2YXIgZT1oKHRoaXMsKFcuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoVykpLmNhbGwodGhpcykpO3JldHVybiBlLl9hcnI9UC50b0FycmF5KHQpLGV9dmFyIFo9KHQoUSxbe2tleTpcImNvbnRhaW5zXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdDw9dGhpcy5yaWdodCYmdD49dGhpcy54JiZlPD10aGlzLmJvdHRvbSYmZT49dGhpcy55fX1dKSxRKTtmdW5jdGlvbiBRKHQsZSxpLGEpe28odGhpcyxRKSx0aGlzLng9dCx0aGlzLnk9ZSx0aGlzLndpZHRoPWksdGhpcy5oZWlnaHQ9YSx0aGlzLmJvdHRvbT10aGlzLnkrdGhpcy5oZWlnaHQsdGhpcy5yaWdodD10aGlzLngrdGhpcy53aWR0aH12YXIgSz0odChKLFt7a2V5OlwiaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdGFydFRpbWU9MCx0aGlzLm5leHRUaW1lPXRoaXMudGltZVBhbi5nZXRWYWx1ZSgpfX0se2tleTpcImdldFZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RhcnRUaW1lKz10LHRoaXMuc3RhcnRUaW1lPj10aGlzLm5leHRUaW1lPyh0aGlzLnN0YXJ0VGltZT0wLHRoaXMubmV4dFRpbWU9dGhpcy50aW1lUGFuLmdldFZhbHVlKCksMT09PXRoaXMubnVtUGFuLmI/LjU8dGhpcy5udW1QYW4uZ2V0VmFsdWUoITEpPzE6MDp0aGlzLm51bVBhbi5nZXRWYWx1ZSghMCkpOjB9fV0pLEopO2Z1bmN0aW9uIEoodCxlKXtvKHRoaXMsSiksdGhpcy5udW1QYW49bC5zZXRTcGFuVmFsdWUoUC5pbml0VmFsdWUodCwxKSksdGhpcy50aW1lUGFuPWwuc2V0U3BhblZhbHVlKFAuaW5pdFZhbHVlKGUsMSkpLHRoaXMuc3RhcnRUaW1lPTAsdGhpcy5uZXh0VGltZT0wLHRoaXMuaW5pdCgpfXZhciAkPSh0KHR0LFt7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJpbml0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtlP3RoaXMuaW5pdGlhbGl6ZShlKTp0aGlzLmluaXRpYWxpemUodCl9fSx7a2V5OlwiaW5pdGlhbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7fX1dKSx0dCk7ZnVuY3Rpb24gdHQoKXtvKHRoaXMsdHQpfXZhciBldD0ocihpdCwkKSx0KGl0LFt7a2V5OlwiaW5pdGlhbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMubGlmZVBhbi5hPT09MS8wP3QubGlmZT0xLzA6dC5saWZlPXRoaXMubGlmZVBhbi5nZXRWYWx1ZSgpfX1dKSxpdCk7ZnVuY3Rpb24gaXQodCxlLGkpe28odGhpcyxpdCk7dmFyIGE9aCh0aGlzLChpdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihpdCkpLmNhbGwodGhpcykpO3JldHVybiBhLmxpZmVQYW49bC5zZXRTcGFuVmFsdWUodCxlLGkpLGEubmFtZT1cIkxpZmVcIixhfXZhciBhdD0odChydCxbe2tleTpcImdldFBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OlwiY3Jvc3NpbmdcIix2YWx1ZTpmdW5jdGlvbigpe319XSkscnQpO2Z1bmN0aW9uIHJ0KCl7byh0aGlzLHJ0KSx0aGlzLnZlY3Rvcj1uZXcgRigwLDApLHRoaXMucmFuZG9tPTAsdGhpcy5jcm9zc1R5cGU9XCJkZWFkXCIsdGhpcy5hbGVydD0hMH12YXIgbnQ9KHIoc3QsYXQpLHQoc3QsW3trZXk6XCJnZXRQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmVjdG9yLng9dGhpcy54LHRoaXMudmVjdG9yLnk9dGhpcy55LHRoaXMudmVjdG9yfX0se2tleTpcImNyb3NzaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmFsZXJ0JiYoY29uc29sZS5lcnJvcihcIlNvcnJ5LCBQb2ludFpvbmUgZG9lcyBub3Qgc3VwcG9ydCBjcm9zc2luZyBtZXRob2QhXCIpLHRoaXMuYWxlcnQ9ITEpfX1dKSxzdCk7ZnVuY3Rpb24gc3QodCxlKXtvKHRoaXMsc3QpO3ZhciBpPWgodGhpcywoc3QuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2Yoc3QpKS5jYWxsKHRoaXMpKTtyZXR1cm4gaS54PXQsaS55PWUsaX12YXIgb3Q9KHIoaHQsJCksdChodCxbe2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy56b25lPVAuaW5pdFZhbHVlKHQsbmV3IG50KX19LHtrZXk6XCJpbml0aWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy56b25lLmdldFBvc2l0aW9uKCksdC5wLng9dGhpcy56b25lLnZlY3Rvci54LHQucC55PXRoaXMuem9uZS52ZWN0b3IueX19XSksaHQpO2Z1bmN0aW9uIGh0KHQpe28odGhpcyxodCk7dmFyIGU9aCh0aGlzLChodC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihodCkpLmNhbGwodGhpcykpO3JldHVybiBlLnpvbmU9UC5pbml0VmFsdWUodCxuZXcgbnQpLGUubmFtZT1cIlBvc2l0aW9uXCIsZX12YXIgbHQ9KHIodXQsJCksdCh1dCxbe2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3RoaXMuclBhbj1sLnNldFNwYW5WYWx1ZSh0KSx0aGlzLnRoYVBhbj1sLnNldFNwYW5WYWx1ZShlKSx0aGlzLnR5cGU9UC5pbml0VmFsdWUoaSxcInZlY3RvclwiKX19LHtrZXk6XCJub3JtYWxpemVWZWxvY2l0eVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0KlYuTUVBU1VSRX19LHtrZXk6XCJpbml0aWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU7XCJwXCI9PT10aGlzLnR5cGV8fFwiUFwiPT09dGhpcy50eXBlfHxcInBvbGFyXCI9PT10aGlzLnR5cGU/KGU9bmV3IHEodGhpcy5ub3JtYWxpemVWZWxvY2l0eSh0aGlzLnJQYW4uZ2V0VmFsdWUoKSksdGhpcy50aGFQYW4uZ2V0VmFsdWUoKSpzLlBJXzE4MCksdC52Lng9ZS5nZXRYKCksdC52Lnk9ZS5nZXRZKCkpOih0LnYueD10aGlzLm5vcm1hbGl6ZVZlbG9jaXR5KHRoaXMuclBhbi5nZXRWYWx1ZSgpKSx0LnYueT10aGlzLm5vcm1hbGl6ZVZlbG9jaXR5KHRoaXMudGhhUGFuLmdldFZhbHVlKCkpKX19XSksdXQpO2Z1bmN0aW9uIHV0KHQsZSxpKXtvKHRoaXMsdXQpO3ZhciBhPWgodGhpcywodXQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodXQpKS5jYWxsKHRoaXMpKTtyZXR1cm4gYS5yUGFuPWwuc2V0U3BhblZhbHVlKHQpLGEudGhhUGFuPWwuc2V0U3BhblZhbHVlKGUpLGEudHlwZT1QLmluaXRWYWx1ZShpLFwidmVjdG9yXCIpLGEubmFtZT1cIlZlbG9jaXR5XCIsYX12YXIgY3Q9KHIoZHQsJCksdChkdCxbe2tleTpcImluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt0Lm1hc3M9dGhpcy5tYXNzUGFuLmdldFZhbHVlKCl9fV0pLGR0KTtmdW5jdGlvbiBkdCh0LGUsaSl7byh0aGlzLGR0KTt2YXIgYT1oKHRoaXMsKGR0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGR0KSkuY2FsbCh0aGlzKSk7cmV0dXJuIGEubWFzc1Bhbj1sLnNldFNwYW5WYWx1ZSh0LGUsaSksYS5uYW1lPVwiTWFzc1wiLGF9dmFyIHl0PShyKHB0LCQpLHQocHQsW3trZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLnJhZGl1cz1sLnNldFNwYW5WYWx1ZSh0LGUsaSl9fSx7a2V5OlwiaW5pdGlhbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QucmFkaXVzPXRoaXMucmFkaXVzLmdldFZhbHVlKCksdC5kYXRhLm9sZFJhZGl1cz10LnJhZGl1c319XSkscHQpO2Z1bmN0aW9uIHB0KHQsZSxpKXtvKHRoaXMscHQpO3ZhciBhPWgodGhpcywocHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YocHQpKS5jYWxsKHRoaXMpKTtyZXR1cm4gYS5yYWRpdXM9bC5zZXRTcGFuVmFsdWUodCxlLGkpLGEubmFtZT1cIlJhZGl1c1wiLGF9dmFyIGZ0PShyKHZ0LCQpLHQodnQsW3trZXk6XCJpbml0aWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pbWFnZS5nZXRWYWx1ZSgpO3QuYm9keT1cInN0cmluZ1wiPT10eXBlb2YgZT97d2lkdGg6dGhpcy53LGhlaWdodDp0aGlzLmgsc3JjOmUsaXNJbm5lcjohMCxpbm5lcjohMH06ZX19LHtrZXk6XCJzZXRTcGFuVmFsdWVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFk/dDpuZXcgWSh0KX19XSksdnQpO2Z1bmN0aW9uIHZ0KHQsZSxpKXtvKHRoaXMsdnQpO3ZhciBhPWgodGhpcywodnQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodnQpKS5jYWxsKHRoaXMpKTtyZXR1cm4gYS5pbWFnZT1hLnNldFNwYW5WYWx1ZSh0KSxhLnc9UC5pbml0VmFsdWUoZSwyMCksYS5oPVAuaW5pdFZhbHVlKGksYS53KSxhLm5hbWU9XCJCb2R5XCIsYX12YXIgZ3Q9KHQobXQsW3trZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5saWZlPVAuaW5pdFZhbHVlKHQsMS8wKSx0aGlzLmVhc2luZz1VLmdldEVhc2luZyhlKX19LHtrZXk6XCJub3JtYWxpemVGb3JjZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0Lm11bHRpcGx5U2NhbGFyKFYuTUVBU1VSRSl9fSx7a2V5Olwibm9ybWFsaXplVmFsdWVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdCpWLk1FQVNVUkV9fSx7a2V5OlwiaW5pdGlhbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleTpcImNhbGN1bGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5hZ2UrPWUsdGhpcy5hZ2U+PXRoaXMubGlmZXx8dGhpcy5kZWFkPyh0aGlzLmVuZXJneT0wLHRoaXMuZGVhZD0hMCx0aGlzLmRlc3Ryb3koKSk6KHQ9dGhpcy5lYXNpbmcodC5hZ2UvdC5saWZlKSx0aGlzLmVuZXJneT1NYXRoLm1heCgxLXQsMCkpfX0se2tleTpcImRlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnBhcmVudHMubGVuZ3RoO3QtLTspdGhpcy5wYXJlbnRzW3RdLnJlbW92ZUJlaGF2aW91cih0aGlzKTt0aGlzLnBhcmVudHMubGVuZ3RoPTB9fV0pLG10KTtmdW5jdGlvbiBtdCh0LGUpe28odGhpcyxtdCksdGhpcy5saWZlPVAuaW5pdFZhbHVlKHQsMS8wKSx0aGlzLmVhc2luZz1VLmdldEVhc2luZyhlKSx0aGlzLmFnZT0wLHRoaXMuZW5lcmd5PTEsdGhpcy5kZWFkPSExLHRoaXMucGFyZW50cz1bXSx0aGlzLmlkPVwiQmVoYXZpb3VyX1wiK210LmlkKyssdGhpcy5uYW1lPVwiQmVoYXZpb3VyXCJ9Z3QuaWQ9MDt2YXIgYnQ9KHIoX3QsZ3QpLHQoX3QsW3trZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLGEpe3RoaXMuZm9yY2U9dGhpcy5ub3JtYWxpemVGb3JjZShuZXcgRih0LGUpKSxpJiZuKF90LnByb3RvdHlwZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihfdC5wcm90b3R5cGUpLFwicmVzZXRcIix0aGlzKS5jYWxsKHRoaXMsaSxhKX19LHtrZXk6XCJhcHBseUJlaGF2aW91clwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLmNhbGN1bGF0ZSh0LGUsaSksdC5hLmFkZCh0aGlzLmZvcmNlKX19XSksX3QpO2Z1bmN0aW9uIF90KHQsZSxpLGEpe28odGhpcyxfdCk7YT1oKHRoaXMsKF90Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKF90KSkuY2FsbCh0aGlzLGksYSkpO3JldHVybiBhLmZvcmNlPWEubm9ybWFsaXplRm9yY2UobmV3IEYodCxlKSksYS5uYW1lPVwiRm9yY2VcIixhfXZhciB4dD0ocihrdCxndCksdChrdCxbe2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksYSxyKXt0aGlzLnRhcmdldFBvc2l0aW9uPVAuaW5pdFZhbHVlKHQsbmV3IEYpLHRoaXMucmFkaXVzPVAuaW5pdFZhbHVlKGksMWUzKSx0aGlzLmZvcmNlPVAuaW5pdFZhbHVlKHRoaXMubm9ybWFsaXplVmFsdWUoZSksMTAwKSx0aGlzLnJhZGl1c1NxPXRoaXMucmFkaXVzKnRoaXMucmFkaXVzLHRoaXMuYXR0cmFjdGlvbkZvcmNlPW5ldyBGLHRoaXMubGVuZ3RoU3E9MCxhJiZuKGt0LnByb3RvdHlwZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihrdC5wcm90b3R5cGUpLFwicmVzZXRcIix0aGlzKS5jYWxsKHRoaXMsYSxyKX19LHtrZXk6XCJhcHBseUJlaGF2aW91clwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLmNhbGN1bGF0ZSh0LGUsaSksdGhpcy5hdHRyYWN0aW9uRm9yY2UuY29weSh0aGlzLnRhcmdldFBvc2l0aW9uKSx0aGlzLmF0dHJhY3Rpb25Gb3JjZS5zdWIodC5wKSx0aGlzLmxlbmd0aFNxPXRoaXMuYXR0cmFjdGlvbkZvcmNlLmxlbmd0aFNxKCksNGUtNTx0aGlzLmxlbmd0aFNxJiZ0aGlzLmxlbmd0aFNxPHRoaXMucmFkaXVzU3EmJih0aGlzLmF0dHJhY3Rpb25Gb3JjZS5ub3JtYWxpemUoKSx0aGlzLmF0dHJhY3Rpb25Gb3JjZS5tdWx0aXBseVNjYWxhcigxLXRoaXMubGVuZ3RoU3EvdGhpcy5yYWRpdXNTcSksdGhpcy5hdHRyYWN0aW9uRm9yY2UubXVsdGlwbHlTY2FsYXIodGhpcy5mb3JjZSksdC5hLmFkZCh0aGlzLmF0dHJhY3Rpb25Gb3JjZSkpfX1dKSxrdCk7ZnVuY3Rpb24ga3QodCxlLGksYSxyKXtvKHRoaXMsa3QpO3I9aCh0aGlzLChrdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihrdCkpLmNhbGwodGhpcyxhLHIpKTtyZXR1cm4gci50YXJnZXRQb3NpdGlvbj1QLmluaXRWYWx1ZSh0LG5ldyBGKSxyLnJhZGl1cz1QLmluaXRWYWx1ZShpLDFlMyksci5mb3JjZT1QLmluaXRWYWx1ZShyLm5vcm1hbGl6ZVZhbHVlKGUpLDEwMCksci5yYWRpdXNTcT1yLnJhZGl1cypyLnJhZGl1cyxyLmF0dHJhY3Rpb25Gb3JjZT1uZXcgRixyLmxlbmd0aFNxPTAsci5uYW1lPVwiQXR0cmFjdGlvblwiLHJ9dmFyIFB0PShyKEV0LGd0KSx0KEV0LFt7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxhLHIpe3RoaXMucGFuRm9jZT1uZXcgRih0LGUpLHRoaXMucGFuRm9jZT10aGlzLm5vcm1hbGl6ZUZvcmNlKHRoaXMucGFuRm9jZSksdGhpcy5kZWxheT1pLGEmJm4oRXQucHJvdG90eXBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEV0LnByb3RvdHlwZSksXCJyZXNldFwiLHRoaXMpLmNhbGwodGhpcyxhLHIpfX0se2tleTpcImluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LmRhdGEudGltZT0wfX0se2tleTpcImFwcGx5QmVoYXZpb3VyXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3RoaXMuY2FsY3VsYXRlKHQsZSxpKSx0LmRhdGEudGltZSs9ZSx0LmRhdGEudGltZT49dGhpcy5kZWxheSYmKHQuYS5hZGRYWShzLnJhbmRvbUFUb0IoLXRoaXMucGFuRm9jZS54LHRoaXMucGFuRm9jZS54KSxzLnJhbmRvbUFUb0IoLXRoaXMucGFuRm9jZS55LHRoaXMucGFuRm9jZS55KSksdC5kYXRhLnRpbWU9MCl9fV0pLEV0KTtmdW5jdGlvbiBFdCh0LGUsaSxhLHIpe28odGhpcyxFdCk7cj1oKHRoaXMsKEV0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEV0KSkuY2FsbCh0aGlzLGEscikpO3JldHVybiByLnJlc2V0KHQsZSxpKSxyLnRpbWU9MCxyLm5hbWU9XCJSYW5kb21EcmlmdFwiLHJ9dmFyIEF0PShyKFR0LGJ0KSx0KFR0LFt7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7bihUdC5wcm90b3R5cGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoVHQucHJvdG90eXBlKSxcInJlc2V0XCIsdGhpcykuY2FsbCh0aGlzLDAsdCxlLGkpfX1dKSxUdCk7ZnVuY3Rpb24gVHQodCxlLGkpe28odGhpcyxUdCk7aT1oKHRoaXMsKFR0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKFR0KSkuY2FsbCh0aGlzLDAsdCxlLGkpKTtyZXR1cm4gaS5uYW1lPVwiR3Jhdml0eVwiLGl9dmFyIFJ0PShyKE90LGd0KSx0KE90LFt7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxhLHIpe3RoaXMuZW1pdHRlcj1QLmluaXRWYWx1ZSh0LG51bGwpLHRoaXMubWFzcz1QLmluaXRWYWx1ZShlLCEwKSx0aGlzLmNhbGxiYWNrPVAuaW5pdFZhbHVlKGksbnVsbCksdGhpcy5jb2xsaXNpb25Qb29sPVtdLHRoaXMuZGVsdGE9bmV3IEYsYSYmbihPdC5wcm90b3R5cGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoT3QucHJvdG90eXBlKSxcInJlc2V0XCIsdGhpcykuY2FsbCh0aGlzLGEscil9fSx7a2V5OlwiYXBwbHlCZWhhdmlvdXJcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBhLHIsbixzLG8saCxsPSh0aGlzLmVtaXR0ZXI/dGhpcy5lbWl0dGVyLnBhcnRpY2xlczp0aGlzLnBvb2wpLnNsaWNlKGkpLHU9bC5sZW5ndGgsYz12b2lkIDAsZD12b2lkIDAsZD0wO2Q8dTtkKyspeyhjPWxbZF0pIT09dCYmKHRoaXMuZGVsdGEuY29weShjLnApLHRoaXMuZGVsdGEuc3ViKHQucCksKGE9dGhpcy5kZWx0YS5sZW5ndGhTcSgpKTw9KGg9dC5yYWRpdXMrYy5yYWRpdXMpKmgmJihyPWgtTWF0aC5zcXJ0KGEpLHIrPS41LG49dC5tYXNzK2MubWFzcyxzPXRoaXMubWFzcz9jLm1hc3MvbjouNSxvPXRoaXMubWFzcz90Lm1hc3MvbjouNSx0LnAuYWRkKHRoaXMuZGVsdGEuY2xvbmUoKS5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcihyKi1zKSksYy5wLmFkZCh0aGlzLmRlbHRhLm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKHIqbykpLHRoaXMuY2FsbGJhY2smJnRoaXMuY2FsbGJhY2sodCxjKSkpfX19XSksT3QpO2Z1bmN0aW9uIE90KHQsZSxpLGEscil7byh0aGlzLE90KTtyPWgodGhpcywoT3QuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoT3QpKS5jYWxsKHRoaXMsYSxyKSk7cmV0dXJuIHIucmVzZXQodCxlLGkpLHIubmFtZT1cIkNvbGxpc2lvblwiLHJ9dmFyIHd0PShyKEN0LGd0KSx0KEN0LFt7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxhKXt0aGlzLnpvbmU9dCx0aGlzLnpvbmUuY3Jvc3NUeXBlPVAuaW5pdFZhbHVlKGUsXCJkZWFkXCIpLGkmJm4oQ3QucHJvdG90eXBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEN0LnByb3RvdHlwZSksXCJyZXNldFwiLHRoaXMpLmNhbGwodGhpcyxpLGEpfX0se2tleTpcImFwcGx5QmVoYXZpb3VyXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3RoaXMuY2FsY3VsYXRlKHQsZSxpKSx0aGlzLnpvbmUuY3Jvc3NpbmcodCl9fV0pLEN0KTtmdW5jdGlvbiBDdCh0LGUsaSxhKXtvKHRoaXMsQ3QpO2E9aCh0aGlzLChDdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihDdCkpLmNhbGwodGhpcyxpLGEpKTtyZXR1cm4gYS5yZXNldCh0LGUpLGEubmFtZT1cIkNyb3NzWm9uZVwiLGF9dmFyIFN0PShyKEl0LGd0KSx0KEl0LFt7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxhKXt0aGlzLnNhbWU9bnVsbD09ZSx0aGlzLmE9bC5zZXRTcGFuVmFsdWUoUC5pbml0VmFsdWUodCwxKSksdGhpcy5iPWwuc2V0U3BhblZhbHVlKGUpLGkmJm4oSXQucHJvdG90eXBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEl0LnByb3RvdHlwZSksXCJyZXNldFwiLHRoaXMpLmNhbGwodGhpcyxpLGEpfX0se2tleTpcImluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LmRhdGEuYWxwaGFBPXRoaXMuYS5nZXRWYWx1ZSgpLHRoaXMuc2FtZT90LmRhdGEuYWxwaGFCPXQuZGF0YS5hbHBoYUE6dC5kYXRhLmFscGhhQj10aGlzLmIuZ2V0VmFsdWUoKX19LHtrZXk6XCJhcHBseUJlaGF2aW91clwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLmNhbGN1bGF0ZSh0LGUsaSksdC5hbHBoYT10LmRhdGEuYWxwaGFCKyh0LmRhdGEuYWxwaGFBLXQuZGF0YS5hbHBoYUIpKnRoaXMuZW5lcmd5LHQuYWxwaGE8LjAwMSYmKHQuYWxwaGE9MCl9fV0pLEl0KTtmdW5jdGlvbiBJdCh0LGUsaSxhKXtvKHRoaXMsSXQpO2E9aCh0aGlzLChJdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihJdCkpLmNhbGwodGhpcyxpLGEpKTtyZXR1cm4gYS5yZXNldCh0LGUpLGEubmFtZT1cIkFscGhhXCIsYX12YXIgRHQ9KHIoVnQsZ3QpLHQoVnQsW3trZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLGEpe3RoaXMuc2FtZT1udWxsPT1lLHRoaXMuYT1sLnNldFNwYW5WYWx1ZShQLmluaXRWYWx1ZSh0LDEpKSx0aGlzLmI9bC5zZXRTcGFuVmFsdWUoZSksaSYmbihWdC5wcm90b3R5cGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoVnQucHJvdG90eXBlKSxcInJlc2V0XCIsdGhpcykuY2FsbCh0aGlzLGksYSl9fSx7a2V5OlwiaW5pdGlhbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QuZGF0YS5zY2FsZUE9dGhpcy5hLmdldFZhbHVlKCksdC5kYXRhLm9sZFJhZGl1cz10LnJhZGl1cyx0LmRhdGEuc2NhbGVCPXRoaXMuc2FtZT90LmRhdGEuc2NhbGVBOnRoaXMuYi5nZXRWYWx1ZSgpfX0se2tleTpcImFwcGx5QmVoYXZpb3VyXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3RoaXMuY2FsY3VsYXRlKHQsZSxpKSx0LnNjYWxlPXQuZGF0YS5zY2FsZUIrKHQuZGF0YS5zY2FsZUEtdC5kYXRhLnNjYWxlQikqdGhpcy5lbmVyZ3ksdC5zY2FsZTwxZS00JiYodC5zY2FsZT0wKSx0LnJhZGl1cz10LmRhdGEub2xkUmFkaXVzKnQuc2NhbGV9fV0pLFZ0KTtmdW5jdGlvbiBWdCh0LGUsaSxhKXtvKHRoaXMsVnQpO2E9aCh0aGlzLChWdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihWdCkpLmNhbGwodGhpcyxpLGEpKTtyZXR1cm4gYS5yZXNldCh0LGUpLGEubmFtZT1cIlNjYWxlXCIsYX12YXIgTXQ9KHIoQnQsZ3QpLHQoQnQsW3trZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLGEscil7dGhpcy5zYW1lPW51bGw9PWUsdGhpcy5hPWwuc2V0U3BhblZhbHVlKFAuaW5pdFZhbHVlKHQsXCJWZWxvY2l0eVwiKSksdGhpcy5iPWwuc2V0U3BhblZhbHVlKFAuaW5pdFZhbHVlKGUsMCkpLHRoaXMuc3R5bGU9UC5pbml0VmFsdWUoaSxcInRvXCIpLGEmJm4oQnQucHJvdG90eXBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEJ0LnByb3RvdHlwZSksXCJyZXNldFwiLHRoaXMpLmNhbGwodGhpcyxhLHIpfX0se2tleTpcImluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnJvdGF0aW9uPXRoaXMuYS5nZXRWYWx1ZSgpLHQuZGF0YS5yb3RhdGlvbkE9dGhpcy5hLmdldFZhbHVlKCksdGhpcy5zYW1lfHwodC5kYXRhLnJvdGF0aW9uQj10aGlzLmIuZ2V0VmFsdWUoKSl9fSx7a2V5OlwiYXBwbHlCZWhhdmlvdXJcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dGhpcy5jYWxjdWxhdGUodCxlLGkpLHRoaXMuc2FtZT9cIlZcIiE9PXRoaXMuYS5hJiZcIlZlbG9jaXR5XCIhPT10aGlzLmEuYSYmXCJ2XCIhPT10aGlzLmEuYXx8KHQucm90YXRpb249dC5nZXREaXJlY3Rpb24oKSk6XCJ0b1wiPT09dGhpcy5zdHlsZXx8XCJUT1wiPT09dGhpcy5zdHlsZXx8XCJfXCI9PT10aGlzLnN0eWxlP3Qucm90YXRpb24rPXQuZGF0YS5yb3RhdGlvbkIrKHQuZGF0YS5yb3RhdGlvbkEtdC5kYXRhLnJvdGF0aW9uQikqdGhpcy5lbmVyZ3k6dC5yb3RhdGlvbis9dC5kYXRhLnJvdGF0aW9uQn19XSksQnQpO2Z1bmN0aW9uIEJ0KHQsZSxpLGEscil7byh0aGlzLEJ0KTtyPWgodGhpcywoQnQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQnQpKS5jYWxsKHRoaXMsYSxyKSk7cmV0dXJuIHIucmVzZXQodCxlLGkpLHIubmFtZT1cIlJvdGF0ZVwiLHJ9dmFyIEx0PShyKFV0LGd0KSx0KFV0LFt7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxhKXt0aGlzLmE9WS5jcmVhdGVBcnJheVNwYW4odCksdGhpcy5iPVkuY3JlYXRlQXJyYXlTcGFuKGUpLGkmJm4oVXQucHJvdG90eXBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKFV0LnByb3RvdHlwZSksXCJyZXNldFwiLHRoaXMpLmNhbGwodGhpcyxpLGEpfX0se2tleTpcImluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LmNvbG9yPXRoaXMuYS5nZXRWYWx1ZSgpLHQuZGF0YS5jb2xvckE9SC5oZXhUb1JnYih0LmNvbG9yKSx0aGlzLmImJih0LmRhdGEuY29sb3JCPUguaGV4VG9SZ2IodGhpcy5iLmdldFZhbHVlKCkpKX19LHtrZXk6XCJhcHBseUJlaGF2aW91clwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLmI/KHRoaXMuY2FsY3VsYXRlKHQsZSxpKSx0LnJnYi5yPXQuZGF0YS5jb2xvckIucisodC5kYXRhLmNvbG9yQS5yLXQuZGF0YS5jb2xvckIucikqdGhpcy5lbmVyZ3ksdC5yZ2IuZz10LmRhdGEuY29sb3JCLmcrKHQuZGF0YS5jb2xvckEuZy10LmRhdGEuY29sb3JCLmcpKnRoaXMuZW5lcmd5LHQucmdiLmI9dC5kYXRhLmNvbG9yQi5iKyh0LmRhdGEuY29sb3JBLmItdC5kYXRhLmNvbG9yQi5iKSp0aGlzLmVuZXJneSx0LnJnYi5yPU1hdGguZmxvb3IodC5yZ2IuciksdC5yZ2IuZz1NYXRoLmZsb29yKHQucmdiLmcpLHQucmdiLmI9TWF0aC5mbG9vcih0LnJnYi5iKSk6KHQucmdiLnI9dC5kYXRhLmNvbG9yQS5yLHQucmdiLmc9dC5kYXRhLmNvbG9yQS5nLHQucmdiLmI9dC5kYXRhLmNvbG9yQS5iKX19XSksVXQpO2Z1bmN0aW9uIFV0KHQsZSxpLGEpe28odGhpcyxVdCk7YT1oKHRoaXMsKFV0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKFV0KSkuY2FsbCh0aGlzLGksYSkpO3JldHVybiBhLnJlc2V0KHQsZSksYS5uYW1lPVwiQ29sb3JcIixhfXZhciBGdD1cImNoYW5naW5nXCIsenQ9KHIoanQsZ3QpLHQoanQsW3trZXk6XCJzZXRBbmdsZUFuZEZvcmNlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmZvcmNlPUZ0LHRoaXMuYW5nbGU9cy5QSS8yLFwicmlnaHRcIj09PXQ/dGhpcy5hbmdsZT1zLlBJLzI6XCJsZWZ0XCI9PT10P3RoaXMuYW5nbGU9LXMuUEkvMjpcInJhbmRvbVwiPT09dD90aGlzLmFuZ2xlPVwicmFuZG9tXCI6dCBpbnN0YW5jZW9mIGw/KHRoaXMuYW5nbGU9XCJzcGFuXCIsdGhpcy5zcGFuPXQpOnQmJih0aGlzLmFuZ2xlPXQpLFwiY2hhbmdpbmdcIj09PVN0cmluZyhlKS50b0xvd2VyQ2FzZSgpfHxcImNoYW5nXCI9PT1TdHJpbmcoZSkudG9Mb3dlckNhc2UoKXx8XCJhdXRvXCI9PT1TdHJpbmcoZSkudG9Mb3dlckNhc2UoKT90aGlzLmZvcmNlPUZ0OmUmJih0aGlzLmZvcmNlPWUpfX0se2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksYSl7dGhpcy5hbmdsZT1zLlBJLzIsdGhpcy5zZXRBbmdsZUFuZEZvcmNlKHQsZSksaSYmbihqdC5wcm90b3R5cGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoanQucHJvdG90eXBlKSxcInJlc2V0XCIsdGhpcykuY2FsbCh0aGlzLGksYSl9fSx7a2V5OlwiaW5pdGlhbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe1wicmFuZG9tXCI9PT10aGlzLmFuZ2xlP3QuZGF0YS5jYW5nbGU9cy5yYW5kb21BVG9CKC1zLlBJLHMuUEkpOlwic3BhblwiPT09dGhpcy5hbmdsZSYmKHQuZGF0YS5jYW5nbGU9dGhpcy5zcGFuLmdldFZhbHVlKCkpLHQuZGF0YS5jeWNsb25lPW5ldyBGKDAsMCl9fSx7a2V5OlwiYXBwbHlCZWhhdmlvdXJcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dGhpcy5jYWxjdWxhdGUodCxlLGkpO2U9dm9pZCAwLGk9dC52LmdldEdyYWRpZW50KCk7XCJyYW5kb21cIj09PXRoaXMuYW5nbGV8fFwic3BhblwiPT09dGhpcy5hbmdsZT9pKz10LmRhdGEuY2FuZ2xlOmkrPXRoaXMuYW5nbGUsZT10aGlzLmZvcmNlPT09RnQ/dC52Lmxlbmd0aCgpLzEwMDp0aGlzLmZvcmNlLHQuZGF0YS5jeWNsb25lLng9ZSpNYXRoLmNvcyhpKSx0LmRhdGEuY3ljbG9uZS55PWUqTWF0aC5zaW4oaSksdC5kYXRhLmN5Y2xvbmU9dGhpcy5ub3JtYWxpemVGb3JjZSh0LmRhdGEuY3ljbG9uZSksdC5hLmFkZCh0LmRhdGEuY3ljbG9uZSl9fV0pLGp0KTtmdW5jdGlvbiBqdCh0LGUsaSxhKXtvKHRoaXMsanQpO2E9aCh0aGlzLChqdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihqdCkpLmNhbGwodGhpcyxpLGEpKTtyZXR1cm4gYS5zZXRBbmdsZUFuZEZvcmNlKHQsZSksYS5uYW1lPVwiQ3ljbG9uZVwiLGF9dmFyIE50PShyKEh0LHh0KSx0KEh0LFt7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxhLHIpe24oSHQucHJvdG90eXBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEh0LnByb3RvdHlwZSksXCJyZXNldFwiLHRoaXMpLmNhbGwodGhpcyx0LGUsaSxhLHIpLHRoaXMuZm9yY2UqPS0xfX1dKSxIdCk7ZnVuY3Rpb24gSHQodCxlLGksYSxyKXtvKHRoaXMsSHQpO3I9aCh0aGlzLChIdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihIdCkpLmNhbGwodGhpcyx0LGUsaSxhLHIpKTtyZXR1cm4gci5mb3JjZSo9LTEsci5uYW1lPVwiUmVwdWxzaW9uXCIscn12YXIgcXQ9KHIoR3QsZ3QpLHQoR3QsW3trZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLGEpe3RoaXMuZGlzdGFuY2VWZWM9bmV3IEYsdGhpcy5jZW50ZXJQb2ludD1QLmluaXRWYWx1ZSh0LG5ldyBGKSx0aGlzLmZvcmNlPVAuaW5pdFZhbHVlKHRoaXMubm9ybWFsaXplVmFsdWUoZSksMTAwKSxpJiZuKEd0LnByb3RvdHlwZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihHdC5wcm90b3R5cGUpLFwicmVzZXRcIix0aGlzKS5jYWxsKHRoaXMsaSxhKX19LHtrZXk6XCJpbml0aWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OlwiYXBwbHlCZWhhdmlvdXJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuZGlzdGFuY2VWZWMuc2V0KHRoaXMuY2VudGVyUG9pbnQueC10LnAueCx0aGlzLmNlbnRlclBvaW50LnktdC5wLnkpO3ZhciBpLGE9dGhpcy5kaXN0YW5jZVZlYy5sZW5ndGhTcSgpOzAhPT1hJiYoaT10aGlzLmRpc3RhbmNlVmVjLmxlbmd0aCgpLGk9dGhpcy5mb3JjZSplLyhhKmkpLHQudi54Kz1pKnRoaXMuZGlzdGFuY2VWZWMueCx0LnYueSs9aSp0aGlzLmRpc3RhbmNlVmVjLnkpfX1dKSxHdCk7ZnVuY3Rpb24gR3QodCxlLGksYSl7byh0aGlzLEd0KTthPWgodGhpcywoR3QuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoR3QpKS5jYWxsKHRoaXMsaSxhKSk7cmV0dXJuIGEuZGlzdGFuY2VWZWM9bmV3IEYsYS5jZW50ZXJQb2ludD1QLmluaXRWYWx1ZSh0LG5ldyBGKSxhLmZvcmNlPVAuaW5pdFZhbHVlKGEubm9ybWFsaXplVmFsdWUoZSksMTAwKSxhLm5hbWU9XCJHcmF2aXR5V2VsbFwiLGF9dmFyIFh0PXtpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIGE9aS5sZW5ndGgscj12b2lkIDAscj0wO3I8YTtyKyspaVtyXWluc3RhbmNlb2YgJD9pW3JdLmluaXQodCxlKTp0aGlzLmluaXQodCxlLGlbcl0pO3RoaXMuYmluZEVtaXR0ZXIodCxlKX0saW5pdDpmdW5jdGlvbih0LGUsaSl7UC5zZXRQcm9wKGUsaSksUC5zZXRWZWN0b3JWYWwoZSxpKX0sYmluZEVtaXR0ZXI6ZnVuY3Rpb24odCxlKXt0LmJpbmRFbWl0dGVyJiYoZS5wLmFkZCh0LnApLGUudi5hZGQodC52KSxlLmEuYWRkKHQuYSksZS52LnJvdGF0ZShzLmRlZ3JlZVRyYW5zZm9ybSh0LnJvdGF0aW9uKSkpfX0sWXQ9KHIoV3QsaiksdChXdCxbe2tleTpcImVtaXRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuc3RvcGVkPSExLHRoaXMuZW1pdFRpbWU9MCx0aGlzLnRvdGFsVGltZT1QLmluaXRWYWx1ZSh0LDEvMCksITA9PT1lfHxcImxpZmVcIj09PWV8fFwiZGVzdHJveVwiPT09ZT90aGlzLmxpZmU9XCJvbmNlXCI9PT10PzE6dGhpcy50b3RhbFRpbWU6aXNOYU4oZSl8fCh0aGlzLmxpZmU9ZSksdGhpcy5yYXRlLmluaXQoKX19LHtrZXk6XCJzdG9wXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnRvdGFsVGltZT0tMSx0aGlzLmVtaXRUaW1lPTAsdGhpcy5zdG9wZWQ9ITB9fSx7a2V5OlwicHJlRW1pdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RvcGVkLGk9dGhpcy5lbWl0VGltZSxhPXRoaXMudG90YWxUaW1lO3RoaXMuc3RvcGVkPSExLHRoaXMuZW1pdFRpbWU9MCx0aGlzLnRvdGFsVGltZT10LHRoaXMucmF0ZS5pbml0KCk7Zm9yKDsuMDE2Nzx0Oyl0LT0uMDE2Nyx0aGlzLnVwZGF0ZSguMDE2Nyk7dGhpcy5zdG9wZWQ9ZSx0aGlzLmVtaXRUaW1lPWkrTWF0aC5tYXgodCwwKSx0aGlzLnRvdGFsVGltZT1hfX0se2tleTpcInJlbW92ZUFsbFBhcnRpY2xlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMucGFydGljbGVzLmxlbmd0aDt0LS07KXRoaXMucGFydGljbGVzW3RdLmRlYWQ9ITB9fSx7a2V5OlwiYWRkU2VsZkluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LmluaXQ/dC5pbml0KHRoaXMpOnRoaXMuaW5pdEFsbCgpfX0se2tleTpcImFkZEluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9QXJyYXkodCksaT0wO2k8dDtpKyspZVtpXT1hcmd1bWVudHNbaV07Zm9yKHZhciBhPWUubGVuZ3RoO2EtLTspdGhpcy5pbml0aWFsaXplcy5wdXNoKGVbYV0pfX0se2tleTpcInJlbW92ZUluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt0PXRoaXMuaW5pdGlhbGl6ZXMuaW5kZXhPZih0KTstMTx0JiZ0aGlzLmluaXRpYWxpemVzLnNwbGljZSh0LDEpfX0se2tleTpcInJlbW92ZUFsbEluaXRpYWxpemVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7UC5lbXB0eUFycmF5KHRoaXMuaW5pdGlhbGl6ZXMpfX0se2tleTpcImFkZEJlaGF2aW91clwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1BcnJheSh0KSxpPTA7aTx0O2krKyllW2ldPWFyZ3VtZW50c1tpXTtmb3IodmFyIGE9YXJndW1lbnRzLmxlbmd0aDthLS07KXt2YXIgcj1lW2FdO3RoaXMuYmVoYXZpb3Vycy5wdXNoKHIpLHIucGFyZW50cyYmci5wYXJlbnRzLnB1c2godGhpcyl9fX0se2tleTpcInJlbW92ZUJlaGF2aW91clwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYmVoYXZpb3Vycy5pbmRleE9mKHQpO3JldHVybiB0aGlzLmJlaGF2aW91cnMuc3BsaWNlKGUsMSksdC5wYXJlbnRzJiYoZT10LnBhcmVudHMuaW5kZXhPZih0KSx0LnBhcmVudHMuc3BsaWNlKGUsMSkpLGV9fSx7a2V5OlwicmVtb3ZlQWxsQmVoYXZpb3Vyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7UC5lbXB0eUFycmF5KHRoaXMuYmVoYXZpb3Vycyl9fSx7a2V5OlwidXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5hZ2UrPXQsKHRoaXMuYWdlPj10aGlzLmxpZmV8fHRoaXMuZGVhZCkmJnRoaXMuZGVzdHJveSgpLHRoaXMuZW1pdHRpbmcodCksdGhpcy5pbnRlZ3JhdGUodCl9fSx7a2V5OlwiaW50ZWdyYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5wYXJlbnQpe3ZhciBlPTEtdGhpcy5kYW1waW5nO3RoaXMucGFyZW50LmludGVncmF0b3IuY2FsY3VsYXRlKHRoaXMsdCxlKTtmb3IodmFyIGk9dm9pZCAwLGE9dm9pZCAwLGk9dGhpcy5wYXJ0aWNsZXMubGVuZ3RoLTE7MDw9aTtpLS0pKGE9dGhpcy5wYXJ0aWNsZXNbaV0pLnVwZGF0ZSh0LGkpLHRoaXMucGFyZW50LmludGVncmF0b3IuY2FsY3VsYXRlKGEsdCxlKSx0aGlzLmRpc3BhdGNoKFwiUEFSVElDTEVfVVBEQVRFXCIsYSksYS5kZWFkJiYodGhpcy5kaXNwYXRjaChcIlBBUlRJQ0xFX0RFQURcIixhKSx0aGlzLnBhcmVudC5wb29sLmV4cGlyZShhKSx0aGlzLnBhcnRpY2xlcy5zcGxpY2UoaSwxKSl9fX0se2tleTpcImRpc3BhdGNoXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuZGlzcGF0Y2hFdmVudCh0LGUpLHRoaXMuYmluZEV2ZW50JiZ0aGlzLmRpc3BhdGNoRXZlbnQodCxlKX19LHtrZXk6XCJlbWl0dGluZ1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKFwib25jZVwiPT09dGhpcy50b3RhbFRpbWUpe3ZhciBlPXZvaWQgMCxpPXRoaXMucmF0ZS5nZXRWYWx1ZSg5OTk5OSk7Zm9yKDA8aSYmKHRoaXMuZW1pdFNwZWVkPWkpLGU9MDtlPGk7ZSsrKXRoaXMuY3JlYXRlUGFydGljbGUoKTt0aGlzLnRvdGFsVGltZT1cIm5vbmVcIn1lbHNlIGlmKHRoaXMuZW1pdFRpbWUrPXQsdGhpcy5lbWl0VGltZTx0aGlzLnRvdGFsVGltZSl7dmFyIGE9dGhpcy5yYXRlLmdldFZhbHVlKHQpLHI9dm9pZCAwO2ZvcigwPGEmJih0aGlzLmVtaXRTcGVlZD1hKSxyPTA7cjxhO3IrKyl0aGlzLmNyZWF0ZVBhcnRpY2xlKCl9fX0se2tleTpcImNyZWF0ZVBhcnRpY2xlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnBhcmVudC5wb29sLmdldChqKTtyZXR1cm4gdGhpcy5zZXR1cFBhcnRpY2xlKGksdCxlKSx0aGlzLmRpc3BhdGNoKFwiUEFSVElDTEVfQ1JFQVRFRFwiLGkpLGl9fSx7a2V5Olwic2V0dXBQYXJ0aWNsZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgYT10aGlzLmluaXRpYWxpemVzLHI9dGhpcy5iZWhhdmlvdXJzO2UmJihhPVAudG9BcnJheShlKSksaSYmKHI9UC50b0FycmF5KGkpKSx0LnJlc2V0KCksWHQuaW5pdGlhbGl6ZSh0aGlzLHQsYSksdC5hZGRCZWhhdmlvdXJzKHIpLCh0LnBhcmVudD10aGlzKS5wYXJ0aWNsZXMucHVzaCh0KX19LHtrZXk6XCJyZW1vdmVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RvcCgpLFAuZGVzdHJveUFsbCh0aGlzLnBhcnRpY2xlcyl9fSx7a2V5OlwiZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5kZWFkPSEwLHRoaXMucmVtb3ZlKCksdGhpcy5yZW1vdmVBbGxJbml0aWFsaXplcnMoKSx0aGlzLnJlbW92ZUFsbEJlaGF2aW91cnMoKSx0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQucmVtb3ZlRW1pdHRlcih0aGlzKX19XSksV3QpO2Z1bmN0aW9uIFd0KCl7dmFyIHQ9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O28odGhpcyxXdCk7dD1oKHRoaXMsKFd0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKFd0KSkuY2FsbCh0aGlzLHQpKTtyZXR1cm4gdC5wYXJ0aWNsZXM9W10sdC5iZWhhdmlvdXJzPVtdLHQuaW5pdGlhbGl6ZXM9W10sdC5lbWl0VGltZT0wLHQuZW1pdFNwZWVkPTAsdC50b3RhbFRpbWU9LTEsdC5kYW1waW5nPS4wMDYsdC5iaW5kRW1pdHRlcj0hMCx0LnJhdGU9bmV3IEsoMSwuMSksdC5uYW1lPVwiRW1pdHRlclwiLHQuaWQ9QS5pZCh0Lm5hbWUpLHR9Qy5iaW5kKFl0KTt2YXIgWnQ9KHIoUXQsWXQpLHQoUXQsW3trZXk6XCJhZGRTZWxmQmVoYXZpb3VyXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPUFycmF5KHQpLGk9MDtpPHQ7aSsrKWVbaV09YXJndW1lbnRzW2ldO2Zvcih2YXIgYT12b2lkIDAscj1lLmxlbmd0aCxhPTA7YTxyO2ErKyl7dmFyIG49ZVthXTt0aGlzLnNlbGZCZWhhdmlvdXJzLnB1c2gobiksbi5pbml0aWFsaXplKHRoaXMpfX19LHtrZXk6XCJyZW1vdmVTZWxmQmVoYXZpb3VyXCIsdmFsdWU6ZnVuY3Rpb24odCl7dD10aGlzLnNlbGZCZWhhdmlvdXJzLmluZGV4T2YodCk7LTE8dCYmdGhpcy5zZWxmQmVoYXZpb3Vycy5zcGxpY2UodCwxKX19LHtrZXk6XCJ1cGRhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXtpZihuKFF0LnByb3RvdHlwZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihRdC5wcm90b3R5cGUpLFwidXBkYXRlXCIsdGhpcykuY2FsbCh0aGlzLHQpLCF0aGlzLnNsZWVwKWZvcih2YXIgZT10aGlzLnNlbGZCZWhhdmlvdXJzLmxlbmd0aCxpPXZvaWQgMCxpPTA7aTxlO2krKyl0aGlzLnNlbGZCZWhhdmlvdXJzW2ldLmFwcGx5QmVoYXZpb3VyKHRoaXMsdCxpKX19XSksUXQpO2Z1bmN0aW9uIFF0KHQpe28odGhpcyxRdCk7dD1oKHRoaXMsKFF0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKFF0KSkuY2FsbCh0aGlzLHQpKTtyZXR1cm4gdC5zZWxmQmVoYXZpb3Vycz1bXSx0fXZhciBLdD0ocihKdCxZdCksdChKdCxbe2tleTpcImluaXRFdmVudEhhbmRsZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5tb3VzZW1vdmVIYW5kbGVyPWZ1bmN0aW9uKHQpe3JldHVybiBlLm1vdXNlbW92ZS5jYWxsKGUsdCl9LHRoaXMubW91c2Vkb3duSGFuZGxlcj1mdW5jdGlvbih0KXtyZXR1cm4gZS5tb3VzZWRvd24uY2FsbChlLHQpfSx0aGlzLm1vdXNldXBIYW5kbGVyPWZ1bmN0aW9uKHQpe3JldHVybiBlLm1vdXNldXAuY2FsbChlLHQpfSx0aGlzLm1vdXNlVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLm1vdXNlbW92ZUhhbmRsZXIsITEpfX0se2tleTpcImVtaXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2FsbG93RW1pdHRpbmc9ITB9fSx7a2V5Olwic3RvcFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fYWxsb3dFbWl0dGluZz0hMX19LHtrZXk6XCJtb3VzZW1vdmVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LmxheWVyWHx8MD09PXQubGF5ZXJYPyh0aGlzLnAueCs9KHQubGF5ZXJYLXRoaXMucC54KSp0aGlzLmVhc2UsdGhpcy5wLnkrPSh0LmxheWVyWS10aGlzLnAueSkqdGhpcy5lYXNlKTohdC5vZmZzZXRYJiYwIT09dC5vZmZzZXRYfHwodGhpcy5wLngrPSh0Lm9mZnNldFgtdGhpcy5wLngpKnRoaXMuZWFzZSx0aGlzLnAueSs9KHQub2Zmc2V0WS10aGlzLnAueSkqdGhpcy5lYXNlKSx0aGlzLl9hbGxvd0VtaXR0aW5nJiZuKEp0LnByb3RvdHlwZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihKdC5wcm90b3R5cGUpLFwiZW1pdFwiLHRoaXMpLmNhbGwodGhpcyxcIm9uY2VcIil9fSx7a2V5OlwiZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKCl7bihKdC5wcm90b3R5cGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoSnQucHJvdG90eXBlKSxcImRlc3Ryb3lcIix0aGlzKS5jYWxsKHRoaXMpLHRoaXMubW91c2VUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMubW91c2Vtb3ZlSGFuZGxlciwhMSl9fV0pLEp0KTtmdW5jdGlvbiBKdCh0LGUsaSl7byh0aGlzLEp0KTtpPWgodGhpcywoSnQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoSnQpKS5jYWxsKHRoaXMsaSkpO3JldHVybiBpLm1vdXNlVGFyZ2V0PVAuaW5pdFZhbHVlKHQsd2luZG93KSxpLmVhc2U9UC5pbml0VmFsdWUoZSwuNyksaS5fYWxsb3dFbWl0dGluZz0hMSxpLmluaXRFdmVudEhhbmRsZXIoKSxpfXZhciAkdD0odCh0ZSxbe2tleTpcInNldFN0cm9rZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dD0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQ/dDpcIiMwMDAwMDBcIixlPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09ZT9lOjE7dGhpcy5zdHJva2U9e2NvbG9yOnQsdGhpbmtuZXNzOmV9fX0se2tleTpcImluaXRIYW5kbGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX3Byb3RvblVwZGF0ZUhhbmRsZXI9ZnVuY3Rpb24oKXtlLm9uUHJvdG9uVXBkYXRlLmNhbGwoZSl9LHRoaXMuX3Byb3RvblVwZGF0ZUFmdGVySGFuZGxlcj1mdW5jdGlvbigpe2Uub25Qcm90b25VcGRhdGVBZnRlci5jYWxsKGUpfSx0aGlzLl9lbWl0dGVyQWRkZWRIYW5kbGVyPWZ1bmN0aW9uKHQpe2Uub25FbWl0dGVyQWRkZWQuY2FsbChlLHQpfSx0aGlzLl9lbWl0dGVyUmVtb3ZlZEhhbmRsZXI9ZnVuY3Rpb24odCl7ZS5vbkVtaXR0ZXJSZW1vdmVkLmNhbGwoZSx0KX0sdGhpcy5fcGFydGljbGVDcmVhdGVkSGFuZGxlcj1mdW5jdGlvbih0KXtlLm9uUGFydGljbGVDcmVhdGVkLmNhbGwoZSx0KX0sdGhpcy5fcGFydGljbGVVcGRhdGVIYW5kbGVyPWZ1bmN0aW9uKHQpe2Uub25QYXJ0aWNsZVVwZGF0ZS5jYWxsKGUsdCl9LHRoaXMuX3BhcnRpY2xlRGVhZEhhbmRsZXI9ZnVuY3Rpb24odCl7ZS5vblBhcnRpY2xlRGVhZC5jYWxsKGUsdCl9fX0se2tleTpcImluaXRcIix2YWx1ZTpmdW5jdGlvbih0KXsodGhpcy5wYXJlbnQ9dCkuYWRkRXZlbnRMaXN0ZW5lcihcIlBST1RPTl9VUERBVEVcIix0aGlzLl9wcm90b25VcGRhdGVIYW5kbGVyKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJQUk9UT05fVVBEQVRFX0FGVEVSXCIsdGhpcy5fcHJvdG9uVXBkYXRlQWZ0ZXJIYW5kbGVyKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJFTUlUVEVSX0FEREVEXCIsdGhpcy5fZW1pdHRlckFkZGVkSGFuZGxlciksdC5hZGRFdmVudExpc3RlbmVyKFwiRU1JVFRFUl9SRU1PVkVEXCIsdGhpcy5fZW1pdHRlclJlbW92ZWRIYW5kbGVyKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJQQVJUSUNMRV9DUkVBVEVEXCIsdGhpcy5fcGFydGljbGVDcmVhdGVkSGFuZGxlciksdC5hZGRFdmVudExpc3RlbmVyKFwiUEFSVElDTEVfVVBEQVRFXCIsdGhpcy5fcGFydGljbGVVcGRhdGVIYW5kbGVyKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJQQVJUSUNMRV9ERUFEXCIsdGhpcy5fcGFydGljbGVEZWFkSGFuZGxlcil9fSx7a2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OlwiZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmUoKX19LHtrZXk6XCJyZW1vdmVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGFyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJQUk9UT05fVVBEQVRFXCIsdGhpcy5fcHJvdG9uVXBkYXRlSGFuZGxlciksdGhpcy5wYXJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIlBST1RPTl9VUERBVEVfQUZURVJcIix0aGlzLl9wcm90b25VcGRhdGVBZnRlckhhbmRsZXIpLHRoaXMucGFyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJFTUlUVEVSX0FEREVEXCIsdGhpcy5fZW1pdHRlckFkZGVkSGFuZGxlciksdGhpcy5wYXJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkVNSVRURVJfUkVNT1ZFRFwiLHRoaXMuX2VtaXR0ZXJSZW1vdmVkSGFuZGxlciksdGhpcy5wYXJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIlBBUlRJQ0xFX0NSRUFURURcIix0aGlzLl9wYXJ0aWNsZUNyZWF0ZWRIYW5kbGVyKSx0aGlzLnBhcmVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiUEFSVElDTEVfVVBEQVRFXCIsdGhpcy5fcGFydGljbGVVcGRhdGVIYW5kbGVyKSx0aGlzLnBhcmVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiUEFSVElDTEVfREVBRFwiLHRoaXMuX3BhcnRpY2xlRGVhZEhhbmRsZXIpLHRoaXMucGFyZW50PW51bGx9fSx7a2V5Olwib25Qcm90b25VcGRhdGVcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJvblByb3RvblVwZGF0ZUFmdGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5Olwib25FbWl0dGVyQWRkZWRcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJvbkVtaXR0ZXJSZW1vdmVkXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5Olwib25QYXJ0aWNsZUNyZWF0ZWRcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJvblBhcnRpY2xlVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5Olwib25QYXJ0aWNsZURlYWRcIix2YWx1ZTpmdW5jdGlvbigpe319XSksdGUpO2Z1bmN0aW9uIHRlKHQsZSl7byh0aGlzLHRlKSx0aGlzLnBvb2w9bmV3IFQsdGhpcy5lbGVtZW50PXQsdGhpcy5zdHJva2U9ZSx0aGlzLmNpcmNsZUNvbmY9e2lzQ2lyY2xlOiEwfSx0aGlzLmluaXRIYW5kbGVyKCksdGhpcy5uYW1lPVwiQmFzZVJlbmRlcmVyXCJ9dmFyIGVlPShyKGllLCR0KSx0KGllLFt7a2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmVsZW1lbnQud2lkdGg9dCx0aGlzLmVsZW1lbnQuaGVpZ2h0PWV9fSx7a2V5Olwib25Qcm90b25VcGRhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY29udGV4dC5jbGVhclJlY3QoMCwwLHRoaXMuZWxlbWVudC53aWR0aCx0aGlzLmVsZW1lbnQuaGVpZ2h0KX19LHtrZXk6XCJvblBhcnRpY2xlQ3JlYXRlZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QuYm9keT94KHQuYm9keSx0aGlzLmFkZEltZzJCb2R5LHQpOnQuY29sb3I9dC5jb2xvcnx8XCIjZmYwMDAwXCJ9fSx7a2V5Olwib25QYXJ0aWNsZVVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QuYm9keT90LmJvZHkgaW5zdGFuY2VvZiBJbWFnZSYmdGhpcy5kcmF3SW1hZ2UodCk6dGhpcy5kcmF3Q2lyY2xlKHQpfX0se2tleTpcIm9uUGFydGljbGVEZWFkXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5ib2R5PW51bGx9fSx7a2V5OlwiYWRkSW1nMkJvZHlcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2UuYm9keT10fX0se2tleTpcImRyYXdJbWFnZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLGk9dC5ib2R5LndpZHRoKnQuc2NhbGV8MCxhPXQuYm9keS5oZWlnaHQqdC5zY2FsZXwwLHI9dC5wLngtaS8yLG49dC5wLnktYS8yO3QuY29sb3I/KHQuZGF0YS5idWZmZXJ8fCh0LmRhdGEuYnVmZmVyPXRoaXMuY3JlYXRlQnVmZmVyKHQuYm9keSkpLChlPXQuZGF0YS5idWZmZXIuZ2V0Q29udGV4dChcIjJkXCIpKS5jbGVhclJlY3QoMCwwLHQuZGF0YS5idWZmZXIud2lkdGgsdC5kYXRhLmJ1ZmZlci5oZWlnaHQpLGUuZ2xvYmFsQWxwaGE9dC5hbHBoYSxlLmRyYXdJbWFnZSh0LmJvZHksMCwwKSxlLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1cInNvdXJjZS1hdG9wXCIsZS5maWxsU3R5bGU9SC5yZ2JUb0hleCh0LnJnYiksZS5maWxsUmVjdCgwLDAsdC5kYXRhLmJ1ZmZlci53aWR0aCx0LmRhdGEuYnVmZmVyLmhlaWdodCksZS5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249XCJzb3VyY2Utb3ZlclwiLGUuZ2xvYmFsQWxwaGE9MSx0aGlzLmNvbnRleHQuZHJhd0ltYWdlKHQuZGF0YS5idWZmZXIsMCwwLHQuZGF0YS5idWZmZXIud2lkdGgsdC5kYXRhLmJ1ZmZlci5oZWlnaHQscixuLGksYSkpOih0aGlzLmNvbnRleHQuc2F2ZSgpLHRoaXMuY29udGV4dC5nbG9iYWxBbHBoYT10LmFscGhhLHRoaXMuY29udGV4dC50cmFuc2xhdGUodC5wLngsdC5wLnkpLHRoaXMuY29udGV4dC5yb3RhdGUocy5kZWdyZWVUcmFuc2Zvcm0odC5yb3RhdGlvbikpLHRoaXMuY29udGV4dC50cmFuc2xhdGUoLXQucC54LC10LnAueSksdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0LmJvZHksMCwwLHQuYm9keS53aWR0aCx0LmJvZHkuaGVpZ2h0LHIsbixpLGEpLHRoaXMuY29udGV4dC5nbG9iYWxBbHBoYT0xLHRoaXMuY29udGV4dC5yZXN0b3JlKCkpfX0se2tleTpcImRyYXdDaXJjbGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnJnYj90aGlzLmNvbnRleHQuZmlsbFN0eWxlPVwicmdiYShcIit0LnJnYi5yK1wiLFwiK3QucmdiLmcrXCIsXCIrdC5yZ2IuYitcIixcIit0LmFscGhhK1wiKVwiOnRoaXMuY29udGV4dC5maWxsU3R5bGU9dC5jb2xvcix0aGlzLmNvbnRleHQuYmVnaW5QYXRoKCksdGhpcy5jb250ZXh0LmFyYyh0LnAueCx0LnAueSx0LnJhZGl1cywwLDIqTWF0aC5QSSwhMCksdGhpcy5zdHJva2UmJih0aGlzLmNvbnRleHQuc3Ryb2tlU3R5bGU9dGhpcy5zdHJva2UuY29sb3IsdGhpcy5jb250ZXh0LmxpbmVXaWR0aD10aGlzLnN0cm9rZS50aGlua25lc3MsdGhpcy5jb250ZXh0LnN0cm9rZSgpKSx0aGlzLmNvbnRleHQuY2xvc2VQYXRoKCksdGhpcy5jb250ZXh0LmZpbGwoKX19LHtrZXk6XCJjcmVhdGVCdWZmZXJcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgSW1hZ2Upe3ZhciBlPXQud2lkdGgrXCJfXCIrdC5oZWlnaHQsaT10aGlzLmJ1ZmZlckNhY2hlW2VdO3JldHVybiBpfHwoKGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSkud2lkdGg9dC53aWR0aCxpLmhlaWdodD10LmhlaWdodCx0aGlzLmJ1ZmZlckNhY2hlW2VdPWkpLGl9fX1dKSxpZSk7ZnVuY3Rpb24gaWUodCl7byh0aGlzLGllKTt0PWgodGhpcywoaWUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoaWUpKS5jYWxsKHRoaXMsdCkpO3JldHVybiB0LnN0cm9rZT1udWxsLHQuY29udGV4dD10LmVsZW1lbnQuZ2V0Q29udGV4dChcIjJkXCIpLHQuYnVmZmVyQ2FjaGU9e30sdC5uYW1lPVwiQ2FudmFzUmVuZGVyZXJcIix0fXZhciBhZT0ocihyZSwkdCksdChyZSxbe2tleTpcIm9uUGFydGljbGVDcmVhdGVkXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5ib2R5P3godC5ib2R5LHRoaXMuYWRkSW1nMkJvZHksdCk6KHQuYm9keT10aGlzLnBvb2wuZ2V0KHRoaXMuY2lyY2xlQ29uZix0KSx0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodC5ib2R5KSl9fSx7a2V5Olwib25QYXJ0aWNsZVVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuYm9keVJlYWR5KHQpJiYodGhpcy50cmFuc2Zvcm0zZD92LnRyYW5zZm9ybTNkKHQuYm9keSx0LnAueCx0LnAueSx0LnNjYWxlLHQucm90YXRpb24pOnYudHJhbnNmb3JtKHQuYm9keSx0LnAueCx0LnAueSx0LnNjYWxlLHQucm90YXRpb24pLHQuYm9keS5zdHlsZS5vcGFjaXR5PXQuYWxwaGEsdC5ib2R5LmlzQ2lyY2xlJiYodC5ib2R5LnN0eWxlLmJhY2tncm91bmRDb2xvcj10LmNvbG9yfHxcIiNmZjAwMDBcIikpfX0se2tleTpcIm9uUGFydGljbGVEZWFkXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5ib2R5UmVhZHkodCkmJih0aGlzLmVsZW1lbnQucmVtb3ZlQ2hpbGQodC5ib2R5KSx0aGlzLnBvb2wuZXhwaXJlKHQuYm9keSksdC5ib2R5PW51bGwpfX0se2tleTpcImJvZHlSZWFkeVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVyblwib2JqZWN0XCI9PT1pKHQuYm9keSkmJnQuYm9keSYmIXQuYm9keS5pc0lubmVyfX0se2tleTpcImFkZEltZzJCb2R5XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtlLmRlYWR8fChlLmJvZHk9dGhpcy5wb29sLmdldCh0LGUpLHYucmVzaXplKGUuYm9keSx0LndpZHRoLHQuaGVpZ2h0KSx0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoZS5ib2R5KSl9fSx7a2V5OlwiY3JlYXRlQm9keVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuaXNDaXJjbGU/dGhpcy5jcmVhdGVDaXJjbGUoZSk6dGhpcy5jcmVhdGVTcHJpdGUodCxlKX19LHtrZXk6XCJjcmVhdGVDaXJjbGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT12LmNyZWF0ZURpdih0LmlkK1wiX2RvbVwiLDIqdC5yYWRpdXMsMip0LnJhZGl1cyk7cmV0dXJuIGUuc3R5bGUuYm9yZGVyUmFkaXVzPXQucmFkaXVzK1wicHhcIix0aGlzLnN0cm9rZSYmKGUuc3R5bGUuYm9yZGVyQ29sb3I9dGhpcy5zdHJva2UuY29sb3IsZS5zdHlsZS5ib3JkZXJXaWR0aD10aGlzLnN0cm9rZS50aGlua25lc3MrXCJweFwiKSxlLmlzQ2lyY2xlPSEwLGV9fSx7a2V5OlwiY3JlYXRlU3ByaXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1cInN0cmluZ1wiPT10eXBlb2YgdD90OnQuc3JjLHQ9di5jcmVhdGVEaXYoZS5pZCtcIl9kb21cIix0LndpZHRoLHQuaGVpZ2h0KTtyZXR1cm4gdC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9XCJ1cmwoXCIraStcIilcIix0fX1dKSxyZSk7ZnVuY3Rpb24gcmUodCl7byh0aGlzLHJlKTt2YXIgaT1oKHRoaXMsKHJlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHJlKSkuY2FsbCh0aGlzLHQpKTtyZXR1cm4gaS5zdHJva2U9bnVsbCxpLnBvb2wuY3JlYXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuY3JlYXRlQm9keSh0LGUpfSxpLmFkZEltZzJCb2R5PWkuYWRkSW1nMkJvZHkuYmluZChpKSxpLnRyYW5zZm9ybTNkPSExLGkubmFtZT1cIkRvbVJlbmRlcmVyXCIsaX12YXIgbmU9KHIoc2UsJHQpLHQoc2UsW3trZXk6XCJvblBhcnRpY2xlQ3JlYXRlZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QuYm9keT90aGlzLmNyZWF0ZVNwcml0ZSh0KTp0aGlzLmNyZWF0ZUNpcmNsZSh0KSx0aGlzLmVsZW1lbnQuYWRkQ2hpbGQodC5ib2R5KX19LHtrZXk6XCJvblBhcnRpY2xlVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5ib2R5JiYodC5ib2R5Lng9dC5wLngsdC5ib2R5Lnk9dC5wLnksdC5ib2R5LmFscGhhPXQuYWxwaGEsdC5ib2R5LnNjYWxlWD10LmJvZHkuc2NhbGVZPXQuc2NhbGUsdC5ib2R5LnJvdGF0aW9uPXQucm90YXRpb24pfX0se2tleTpcIm9uUGFydGljbGVEZWFkXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5ib2R5JiYodC5ib2R5LnBhcmVudCYmdC5ib2R5LnBhcmVudC5yZW1vdmVDaGlsZCh0LmJvZHkpLHRoaXMucG9vbC5leHBpcmUodC5ib2R5KSx0LmJvZHk9bnVsbCksdC5ncmFwaGljcyYmdGhpcy5wb29sLmV4cGlyZSh0LmdyYXBoaWNzKX19LHtrZXk6XCJjcmVhdGVTcHJpdGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LmJvZHk9dGhpcy5wb29sLmdldCh0LmJvZHkpLHQuYm9keS5wYXJlbnR8fHQuYm9keS5pbWFnZSYmKHQuYm9keS5yZWdYPXQuYm9keS5pbWFnZS53aWR0aC8yLHQuYm9keS5yZWdZPXQuYm9keS5pbWFnZS5oZWlnaHQvMil9fSx7a2V5OlwiY3JlYXRlQ2lyY2xlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wb29sLmdldChjcmVhdGVqcy5HcmFwaGljcyk7dGhpcy5zdHJva2UmJih0aGlzLnN0cm9rZSBpbnN0YW5jZW9mIFN0cmluZz9lLmJlZ2luU3Ryb2tlKHRoaXMuc3Ryb2tlKTplLmJlZ2luU3Ryb2tlKFwiIzAwMDAwMFwiKSksZS5iZWdpbkZpbGwodC5jb2xvcnx8XCIjZmYwMDAwXCIpLmRyYXdDaXJjbGUoMCwwLHQucmFkaXVzKTt2YXIgaT10aGlzLnBvb2wuZ2V0KGNyZWF0ZWpzLlNoYXBlLFtlXSk7dC5ib2R5PWksdC5ncmFwaGljcz1lfX1dKSxzZSk7ZnVuY3Rpb24gc2UodCxlKXtvKHRoaXMsc2UpO3Q9aCh0aGlzLChzZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihzZSkpLmNhbGwodGhpcyx0KSk7cmV0dXJuIHQuc3Ryb2tlPWUsdC5uYW1lPVwiRWFzZWxSZW5kZXJlclwiLHR9dmFyIG9lPShyKGhlLCR0KSx0KGhlLFt7a2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmVsZW1lbnQud2lkdGg9dCx0aGlzLmVsZW1lbnQuaGVpZ2h0PWV9fSx7a2V5OlwiY3JlYXRlSW1hZ2VEYXRhXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5yZWN0YW5nbGU9dHx8bmV3IFooMCwwLHRoaXMuZWxlbWVudC53aWR0aCx0aGlzLmVsZW1lbnQuaGVpZ2h0KSx0aGlzLmltYWdlRGF0YT10aGlzLmNvbnRleHQuY3JlYXRlSW1hZ2VEYXRhKHRoaXMucmVjdGFuZ2xlLndpZHRoLHRoaXMucmVjdGFuZ2xlLmhlaWdodCksdGhpcy5jb250ZXh0LnB1dEltYWdlRGF0YSh0aGlzLmltYWdlRGF0YSx0aGlzLnJlY3RhbmdsZS54LHRoaXMucmVjdGFuZ2xlLnkpfX0se2tleTpcIm9uUHJvdG9uVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNvbnRleHQuY2xlYXJSZWN0KHRoaXMucmVjdGFuZ2xlLngsdGhpcy5yZWN0YW5nbGUueSx0aGlzLnJlY3RhbmdsZS53aWR0aCx0aGlzLnJlY3RhbmdsZS5oZWlnaHQpLHRoaXMuaW1hZ2VEYXRhPXRoaXMuY29udGV4dC5nZXRJbWFnZURhdGEodGhpcy5yZWN0YW5nbGUueCx0aGlzLnJlY3RhbmdsZS55LHRoaXMucmVjdGFuZ2xlLndpZHRoLHRoaXMucmVjdGFuZ2xlLmhlaWdodCl9fSx7a2V5Olwib25Qcm90b25VcGRhdGVBZnRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jb250ZXh0LnB1dEltYWdlRGF0YSh0aGlzLmltYWdlRGF0YSx0aGlzLnJlY3RhbmdsZS54LHRoaXMucmVjdGFuZ2xlLnkpfX0se2tleTpcIm9uUGFydGljbGVDcmVhdGVkXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5Olwib25QYXJ0aWNsZVVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuaW1hZ2VEYXRhJiZ0aGlzLnNldFBpeGVsKHRoaXMuaW1hZ2VEYXRhLE1hdGguZmxvb3IodC5wLngtdGhpcy5yZWN0YW5nbGUueCksTWF0aC5mbG9vcih0LnAueS10aGlzLnJlY3RhbmdsZS55KSx0KX19LHtrZXk6XCJzZXRQaXhlbFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLGEpe3ZhciByPWEucmdiO2U8MHx8ZT50aGlzLmVsZW1lbnQud2lkdGh8fGk8MHx8aT50aGlzLmVsZW1lbnR3aWR0aHx8KGU9NCooKGk+PjApKnQud2lkdGgrKGU+PjApKSx0LmRhdGFbZV09ci5yLHQuZGF0YVsxK2VdPXIuZyx0LmRhdGFbMitlXT1yLmIsdC5kYXRhWzMrZV09MjU1KmEuYWxwaGEpfX0se2tleTpcIm9uUGFydGljbGVEZWFkXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fV0pLGhlKTtmdW5jdGlvbiBoZSh0LGUpe28odGhpcyxoZSk7dD1oKHRoaXMsKGhlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGhlKSkuY2FsbCh0aGlzLHQpKTtyZXR1cm4gdC5jb250ZXh0PXQuZWxlbWVudC5nZXRDb250ZXh0KFwiMmRcIiksdC5pbWFnZURhdGE9bnVsbCx0LnJlY3RhbmdsZT1udWxsLHQucmVjdGFuZ2xlPWUsdC5jcmVhdGVJbWFnZURhdGEoZSksdC5uYW1lPVwiUGl4ZWxSZW5kZXJlclwiLHR9dmFyIGxlPXZvaWQgMCx1ZT0ocihjZSwkdCksdChjZSxbe2tleTpcInNldFBJWElcIix2YWx1ZTpmdW5jdGlvbih0KXt0cnl7bGU9dHx8e1Nwcml0ZTp7fX0sdGhpcy5jcmVhdGVGcm9tSW1hZ2U9bGUuU3ByaXRlLmZyb218fGxlLlNwcml0ZS5mcm9tSW1hZ2V9Y2F0Y2godCl7fX19LHtrZXk6XCJvblByb3RvblVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleTpcIm9uUGFydGljbGVDcmVhdGVkXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5ib2R5P3QuYm9keT10aGlzLnBvb2wuZ2V0KHQuYm9keSx0KTp0LmJvZHk9dGhpcy5wb29sLmdldCh0aGlzLmNpcmNsZUNvbmYsdCksdGhpcy5ibGVuZE1vZGUmJih0LmJvZHkuYmxlbmRNb2RlPXRoaXMuYmxlbmRNb2RlKSx0aGlzLmVsZW1lbnQuYWRkQ2hpbGQodC5ib2R5KX19LHtrZXk6XCJvblBhcnRpY2xlVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy50cmFuc2Zvcm0odCx0LmJvZHkpLCEwIT09dGhpcy5zZXRDb2xvciYmITAhPT10aGlzLmNvbG9yfHwodC5ib2R5LnRpbnQ9SC5nZXRIZXgxNkZyb21QYXJ0aWNsZSh0KSl9fSx7a2V5Olwib25QYXJ0aWNsZURlYWRcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2hpbGQodC5ib2R5KSx0aGlzLnBvb2wuZXhwaXJlKHQuYm9keSksdC5ib2R5PW51bGx9fSx7a2V5OlwiZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKHQpe24oY2UucHJvdG90eXBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGNlLnByb3RvdHlwZSksXCJkZXN0cm95XCIsdGhpcykuY2FsbCh0aGlzKSx0aGlzLnBvb2wuZGVzdHJveSgpO2Zvcih2YXIgZT10Lmxlbmd0aDtlLS07KXt2YXIgaT10W2VdO2kuYm9keSYmdGhpcy5lbGVtZW50LnJlbW92ZUNoaWxkKGkuYm9keSl9fX0se2tleTpcInRyYW5zZm9ybVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7ZS54PXQucC54LGUueT10LnAueSxlLmFscGhhPXQuYWxwaGEsZS5zY2FsZS54PXQuc2NhbGUsZS5zY2FsZS55PXQuc2NhbGUsZS5yb3RhdGlvbj10LnJvdGF0aW9uKnMuUElfMTgwfX0se2tleTpcImNyZWF0ZUJvZHlcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0LmlzQ2lyY2xlP3RoaXMuY3JlYXRlQ2lyY2xlKGUpOnRoaXMuY3JlYXRlU3ByaXRlKHQpfX0se2tleTpcImNyZWF0ZVNwcml0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3Q9dC5pc0lubmVyP3RoaXMuY3JlYXRlRnJvbUltYWdlKHQuc3JjKTpuZXcgbGUuU3ByaXRlKHQpO3JldHVybiB0LmFuY2hvci54PS41LHQuYW5jaG9yLnk9LjUsdH19LHtrZXk6XCJjcmVhdGVDaXJjbGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxpPW5ldyBsZS5HcmFwaGljcztyZXR1cm4gdGhpcy5zdHJva2UmJihlPXRoaXMuc3Ryb2tlIGluc3RhbmNlb2YgU3RyaW5nP3RoaXMuc3Ryb2tlOjAsaS5iZWdpblN0cm9rZShlKSksaS5iZWdpbkZpbGwodC5jb2xvcnx8MzYwNzcpLGkuZHJhd0NpcmNsZSgwLDAsdC5yYWRpdXMpLGkuZW5kRmlsbCgpLGl9fV0pLGNlKTtmdW5jdGlvbiBjZSh0LGUpe28odGhpcyxjZSk7dmFyIGk9aCh0aGlzLChjZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihjZSkpLmNhbGwodGhpcyx0KSk7cmV0dXJuIGkuc3Ryb2tlPWUsaS5jb2xvcj0hMSxpLnNldENvbG9yPSExLGkuYmxlbmRNb2RlPW51bGwsaS5wb29sLmNyZWF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBpLmNyZWF0ZUJvZHkodCxlKX0saS5zZXRQSVhJKHdpbmRvdy5QSVhJKSxpLm5hbWU9XCJQaXhpUmVuZGVyZXJcIixpfXZhciBkZT0odCh5ZSxbe2tleTpcInNldFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7MD09PWU/WC5zZXQodCx0aGlzLm1hdHNbMF0pOlgubXVsdGlwbHkodGhpcy5tYXRzW2UtMV0sdCx0aGlzLm1hdHNbZV0pLHRoaXMuc2l6ZT1NYXRoLm1heCh0aGlzLnNpemUsZSsxKX19LHtrZXk6XCJwdXNoXCIsdmFsdWU6ZnVuY3Rpb24odCl7MD09PXRoaXMuc2l6ZT9YLnNldCh0LHRoaXMubWF0c1swXSk6WC5tdWx0aXBseSh0aGlzLm1hdHNbdGhpcy5zaXplLTFdLHQsdGhpcy5tYXRzW3RoaXMuc2l6ZV0pLHRoaXMuc2l6ZSsrfX0se2tleTpcInBvcFwiLHZhbHVlOmZ1bmN0aW9uKCl7MDx0aGlzLnNpemUmJnRoaXMuc2l6ZS0tfX0se2tleTpcInRvcFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWF0c1t0aGlzLnNpemUtMV19fV0pLHllKTtmdW5jdGlvbiB5ZSgpe28odGhpcyx5ZSksdGhpcy5tYXRzPVtdO2Zvcih2YXIgdD10aGlzLnNpemU9MDt0PDIwO3QrKyl0aGlzLm1hdHMucHVzaChYLmNyZWF0ZShbMCwwLDAsMCwwLDAsMCwwLDBdKSl9cihwZSwkdCksdChwZSxbe2tleTpcImluaXRcIix2YWx1ZTpmdW5jdGlvbih0KXtuKHBlLnByb3RvdHlwZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihwZS5wcm90b3R5cGUpLFwiaW5pdFwiLHRoaXMpLmNhbGwodGhpcyx0KSx0aGlzLnJlc2l6ZSh0aGlzLmVsZW1lbnQud2lkdGgsdGhpcy5lbGVtZW50LmhlaWdodCl9fSx7a2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLnVtYXRbNF09LTIsdGhpcy51bWF0WzddPTEsdGhpcy5zbWF0WzBdPTEvdCx0aGlzLnNtYXRbNF09MS9lLHRoaXMubXN0YWNrLnNldCh0aGlzLnVtYXQsMCksdGhpcy5tc3RhY2suc2V0KHRoaXMuc21hdCwxKSx0aGlzLmdsLnZpZXdwb3J0KDAsMCx0LGUpLHRoaXMuZWxlbWVudC53aWR0aD10LHRoaXMuZWxlbWVudC5oZWlnaHQ9ZX19LHtrZXk6XCJzZXRNYXhSYWRpdXNcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmNpcmNsZUNhbnZhc1VSTD10aGlzLmNyZWF0ZUNpcmNsZSh0KX19LHtrZXk6XCJnZXRWZXJ0ZXhTaGFkZXJcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybltcInVuaWZvcm0gdmVjMiB2aWV3cG9ydDtcIixcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcIixcImF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XCIsXCJ1bmlmb3JtIG1hdDMgdE1hdDtcIixcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1wiLFwidmFyeWluZyBmbG9hdCBhbHBoYTtcIixcInZvaWQgbWFpbigpIHtcIixcInZlYzMgdiA9IHRNYXQgKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKTtcIixcImdsX1Bvc2l0aW9uID0gdmVjNCh2LngsIHYueSwgMCwgMSk7XCIsXCJ2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcIixcImFscGhhID0gdE1hdFswXVsyXTtcIixcIn1cIl0uam9pbihcIlxcblwiKX19LHtrZXk6XCJnZXRGcmFnbWVudFNoYWRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuW1wicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XCIsXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcIixcInZhcnlpbmcgZmxvYXQgYWxwaGE7XCIsXCJ1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcIixcInVuaWZvcm0gdmVjNCBjb2xvcjtcIixcInVuaWZvcm0gYm9vbCB1c2VUZXh0dXJlO1wiLFwidW5pZm9ybSB2ZWMzIHVDb2xvcjtcIixcInZvaWQgbWFpbigpIHtcIixcInZlYzQgdGV4dHVyZUNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcIixcImdsX0ZyYWdDb2xvciA9IHRleHR1cmVDb2xvciAqIHZlYzQodUNvbG9yLCAxLjApO1wiLFwiZ2xfRnJhZ0NvbG9yLncgKj0gYWxwaGE7XCIsXCJ9XCJdLmpvaW4oXCJcXG5cIil9fSx7a2V5OlwiaW5pdFZhclwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5tc3RhY2s9bmV3IGRlLHRoaXMudW1hdD1YLmNyZWF0ZShbMiwwLDEsMCwtMiwwLC0xLDEsMV0pLHRoaXMuc21hdD1YLmNyZWF0ZShbLjAxLDAsMSwwLC4wMSwwLDAsMCwxXSksdGhpcy50ZXh0dXJlYnVmZmVycz17fX19LHtrZXk6XCJibGVuZEVxdWF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5nbC5ibGVuZEVxdWF0aW9uKHRoaXMuZ2xbdF0pfX0se2tleTpcImJsZW5kRnVuY1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5nbC5ibGVuZEZ1bmModGhpcy5nbFt0XSx0aGlzLmdsW2VdKX19LHtrZXk6XCJnZXRTaGFkZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7aT1pP3QuY3JlYXRlU2hhZGVyKHQuRlJBR01FTlRfU0hBREVSKTp0LmNyZWF0ZVNoYWRlcih0LlZFUlRFWF9TSEFERVIpO3JldHVybiB0LnNoYWRlclNvdXJjZShpLGUpLHQuY29tcGlsZVNoYWRlcihpKSx0LmdldFNoYWRlclBhcmFtZXRlcihpLHQuQ09NUElMRV9TVEFUVVMpP2k6KGFsZXJ0KHQuZ2V0U2hhZGVySW5mb0xvZyhpKSksbnVsbCl9fSx7a2V5OlwiaW5pdFNoYWRlcnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0U2hhZGVyKHRoaXMuZ2wsdGhpcy5nZXRGcmFnbWVudFNoYWRlcigpLCEwKSxlPXRoaXMuZ2V0U2hhZGVyKHRoaXMuZ2wsdGhpcy5nZXRWZXJ0ZXhTaGFkZXIoKSwhMSk7dGhpcy5zcHJvZ3JhbT10aGlzLmdsLmNyZWF0ZVByb2dyYW0oKSx0aGlzLmdsLmF0dGFjaFNoYWRlcih0aGlzLnNwcm9ncmFtLGUpLHRoaXMuZ2wuYXR0YWNoU2hhZGVyKHRoaXMuc3Byb2dyYW0sdCksdGhpcy5nbC5saW5rUHJvZ3JhbSh0aGlzLnNwcm9ncmFtKSx0aGlzLmdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5zcHJvZ3JhbSx0aGlzLmdsLkxJTktfU1RBVFVTKXx8YWxlcnQoXCJDb3VsZCBub3QgaW5pdGlhbGlzZSBzaGFkZXJzXCIpLHRoaXMuZ2wudXNlUHJvZ3JhbSh0aGlzLnNwcm9ncmFtKSx0aGlzLnNwcm9ncmFtLnZwYT10aGlzLmdsLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMuc3Byb2dyYW0sXCJhVmVydGV4UG9zaXRpb25cIiksdGhpcy5zcHJvZ3JhbS50Y2E9dGhpcy5nbC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLnNwcm9ncmFtLFwiYVRleHR1cmVDb29yZFwiKSx0aGlzLmdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMuc3Byb2dyYW0udGNhKSx0aGlzLmdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMuc3Byb2dyYW0udnBhKSx0aGlzLnNwcm9ncmFtLnRNYXRVbmlmb3JtPXRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMuc3Byb2dyYW0sXCJ0TWF0XCIpLHRoaXMuc3Byb2dyYW0uc2FtcGxlclVuaWZvcm09dGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5zcHJvZ3JhbSxcInVTYW1wbGVyXCIpLHRoaXMuc3Byb2dyYW0udXNlVGV4PXRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMuc3Byb2dyYW0sXCJ1c2VUZXh0dXJlXCIpLHRoaXMuc3Byb2dyYW0uY29sb3I9dGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5zcHJvZ3JhbSxcInVDb2xvclwiKSx0aGlzLmdsLnVuaWZvcm0xaSh0aGlzLnNwcm9ncmFtLnVzZVRleCwxKX19LHtrZXk6XCJpbml0QnVmZmVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy51bml0SUJ1ZmZlcj10aGlzLmdsLmNyZWF0ZUJ1ZmZlcigpLHRoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLmdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHRoaXMudW5pdElCdWZmZXIpLHRoaXMuZ2wuYnVmZmVyRGF0YSh0aGlzLmdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLG5ldyBVaW50MTZBcnJheShbMCwzLDEsMCwyLDNdKSx0aGlzLmdsLlNUQVRJQ19EUkFXKTtmb3IodmFyIGU9dm9pZCAwLGk9W10sZT0wO2U8MTAwO2UrKylpLnB1c2goZSk7Zm9yKHQ9bmV3IFVpbnQxNkFycmF5KGkpLHRoaXMudW5pdEkzMz10aGlzLmdsLmNyZWF0ZUJ1ZmZlcigpLHRoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLmdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHRoaXMudW5pdEkzMyksdGhpcy5nbC5idWZmZXJEYXRhKHRoaXMuZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdCx0aGlzLmdsLlNUQVRJQ19EUkFXKSxpPVtdLGU9MDtlPDEwMDtlKyspaS5wdXNoKGUsZSsxLGUrMik7dD1uZXcgVWludDE2QXJyYXkoaSksdGhpcy5zdHJpcEJ1ZmZlcj10aGlzLmdsLmNyZWF0ZUJ1ZmZlcigpLHRoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLmdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHRoaXMuc3RyaXBCdWZmZXIpLHRoaXMuZ2wuYnVmZmVyRGF0YSh0aGlzLmdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHQsdGhpcy5nbC5TVEFUSUNfRFJBVyl9fSx7a2V5OlwiY3JlYXRlQ2lyY2xlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5jaXJjbGVDYW52YXNSYWRpdXM9YyhQLmluaXRWYWx1ZSh0LDMyKSk7dmFyIGU9di5jcmVhdGVDYW52YXMoXCJjaXJjbGVfY2FudmFzXCIsMip0aGlzLmNpcmNsZUNhbnZhc1JhZGl1cywyKnRoaXMuY2lyY2xlQ2FudmFzUmFkaXVzKSx0PWUuZ2V0Q29udGV4dChcIjJkXCIpO3JldHVybiB0LmJlZ2luUGF0aCgpLHQuYXJjKHRoaXMuY2lyY2xlQ2FudmFzUmFkaXVzLHRoaXMuY2lyY2xlQ2FudmFzUmFkaXVzLHRoaXMuY2lyY2xlQ2FudmFzUmFkaXVzLDAsMipNYXRoLlBJLCEwKSx0LmNsb3NlUGF0aCgpLHQuZmlsbFN0eWxlPVwiI0ZGRlwiLHQuZmlsbCgpLGUudG9EYXRhVVJMKCl9fSx7a2V5OlwiZHJhd0ltZzJDYW52YXNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmJvZHkud2lkdGgsaT10LmJvZHkuaGVpZ2h0LGE9Yyh0LmJvZHkud2lkdGgpLHI9Yyh0LmJvZHkuaGVpZ2h0KSxuPXQuYm9keS53aWR0aC9hLHM9dC5ib2R5LmhlaWdodC9yO3RoaXMudGV4dHVyZWJ1ZmZlcnNbdC5kYXRhLnNyY118fCh0aGlzLnRleHR1cmVidWZmZXJzW3QuZGF0YS5zcmNdPVt0aGlzLmdsLmNyZWF0ZVRleHR1cmUoKSx0aGlzLmdsLmNyZWF0ZUJ1ZmZlcigpLHRoaXMuZ2wuY3JlYXRlQnVmZmVyKCldKSx0LmRhdGEudGV4dHVyZT10aGlzLnRleHR1cmVidWZmZXJzW3QuZGF0YS5zcmNdWzBdLHQuZGF0YS52Y0J1ZmZlcj10aGlzLnRleHR1cmVidWZmZXJzW3QuZGF0YS5zcmNdWzFdLHQuZGF0YS50Y0J1ZmZlcj10aGlzLnRleHR1cmVidWZmZXJzW3QuZGF0YS5zcmNdWzJdLHRoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLmdsLkFSUkFZX0JVRkZFUix0LmRhdGEudGNCdWZmZXIpLHRoaXMuZ2wuYnVmZmVyRGF0YSh0aGlzLmdsLkFSUkFZX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KFswLDAsbiwwLDAscyxzLHNdKSx0aGlzLmdsLlNUQVRJQ19EUkFXKSx0aGlzLmdsLmJpbmRCdWZmZXIodGhpcy5nbC5BUlJBWV9CVUZGRVIsdC5kYXRhLnZjQnVmZmVyKSx0aGlzLmdsLmJ1ZmZlckRhdGEodGhpcy5nbC5BUlJBWV9CVUZGRVIsbmV3IEZsb2F0MzJBcnJheShbMCwwLGUsMCwwLGksZSxpXSksdGhpcy5nbC5TVEFUSUNfRFJBVyk7cj10LmRhdGEuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKS5nZXRJbWFnZURhdGEoMCwwLGEscik7dGhpcy5nbC5iaW5kVGV4dHVyZSh0aGlzLmdsLlRFWFRVUkVfMkQsdC5kYXRhLnRleHR1cmUpLHRoaXMuZ2wudGV4SW1hZ2UyRCh0aGlzLmdsLlRFWFRVUkVfMkQsMCx0aGlzLmdsLlJHQkEsdGhpcy5nbC5SR0JBLHRoaXMuZ2wuVU5TSUdORURfQllURSxyKSx0aGlzLmdsLnRleFBhcmFtZXRlcmkodGhpcy5nbC5URVhUVVJFXzJELHRoaXMuZ2wuVEVYVFVSRV9NQUdfRklMVEVSLHRoaXMuZ2wuTElORUFSKSx0aGlzLmdsLnRleFBhcmFtZXRlcmkodGhpcy5nbC5URVhUVVJFXzJELHRoaXMuZ2wuVEVYVFVSRV9NSU5fRklMVEVSLHRoaXMuZ2wuTElORUFSX01JUE1BUF9ORUFSRVNUKSx0aGlzLmdsLmdlbmVyYXRlTWlwbWFwKHRoaXMuZ2wuVEVYVFVSRV8yRCksdC5kYXRhLnRleHR1cmVMb2FkZWQ9ITAsdC5kYXRhLnRleHR1cmVXaWR0aD1lLHQuZGF0YS50ZXh0dXJlSGVpZ2h0PWl9fSx7a2V5Olwib25Qcm90b25VcGRhdGVcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJvblBhcnRpY2xlQ3JlYXRlZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QuZGF0YS50ZXh0dXJlTG9hZGVkPSExLHQuZGF0YS50bWF0PVguY3JlYXRlKCksdC5kYXRhLnRtYXRbOF09MSx0LmRhdGEuaW1hdD1YLmNyZWF0ZSgpLHQuZGF0YS5pbWF0WzhdPTEsdC5ib2R5P3godC5ib2R5LHRoaXMuYWRkSW1nMkJvZHksdCk6KHgodGhpcy5jaXJjbGVDYW52YXNVUkwsdGhpcy5hZGRJbWcyQm9keSx0KSx0LmRhdGEub2xkU2NhbGU9dC5yYWRpdXMvdGhpcy5jaXJjbGVDYW52YXNSYWRpdXMpfX0se2tleTpcImFkZEltZzJCb2R5XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtlLmRlYWR8fChlLmJvZHk9dCxlLmRhdGEuc3JjPXQuc3JjLGUuZGF0YS5jYW52YXM9ayh0KSxlLmRhdGEub2xkU2NhbGU9MSx0aGlzLmRyYXdJbWcyQ2FudmFzKGUpKX19LHtrZXk6XCJvblBhcnRpY2xlVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5kYXRhLnRleHR1cmVMb2FkZWQmJih0aGlzLnVwZGF0ZU1hdHJpeCh0KSx0aGlzLmdsLnVuaWZvcm0zZih0aGlzLnNwcm9ncmFtLmNvbG9yLHQucmdiLnIvMjU1LHQucmdiLmcvMjU1LHQucmdiLmIvMjU1KSx0aGlzLmdsLnVuaWZvcm1NYXRyaXgzZnYodGhpcy5zcHJvZ3JhbS50TWF0VW5pZm9ybSwhMSx0aGlzLm1zdGFjay50b3AoKSksdGhpcy5nbC5iaW5kQnVmZmVyKHRoaXMuZ2wuQVJSQVlfQlVGRkVSLHQuZGF0YS52Y0J1ZmZlciksdGhpcy5nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMuc3Byb2dyYW0udnBhLDIsdGhpcy5nbC5GTE9BVCwhMSwwLDApLHRoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLmdsLkFSUkFZX0JVRkZFUix0LmRhdGEudGNCdWZmZXIpLHRoaXMuZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLnNwcm9ncmFtLnRjYSwyLHRoaXMuZ2wuRkxPQVQsITEsMCwwKSx0aGlzLmdsLmJpbmRUZXh0dXJlKHRoaXMuZ2wuVEVYVFVSRV8yRCx0LmRhdGEudGV4dHVyZSksdGhpcy5nbC51bmlmb3JtMWkodGhpcy5zcHJvZ3JhbS5zYW1wbGVyVW5pZm9ybSwwKSx0aGlzLmdsLmJpbmRCdWZmZXIodGhpcy5nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUix0aGlzLnVuaXRJQnVmZmVyKSx0aGlzLmdsLmRyYXdFbGVtZW50cyh0aGlzLmdsLlRSSUFOR0xFUyw2LHRoaXMuZ2wuVU5TSUdORURfU0hPUlQsMCksdGhpcy5tc3RhY2sucG9wKCkpfX0se2tleTpcIm9uUGFydGljbGVEZWFkXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OlwidXBkYXRlTWF0cml4XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9ZCgtdC5kYXRhLnRleHR1cmVXaWR0aC8yLC10LmRhdGEudGV4dHVyZUhlaWdodC8yKSxpPWQodC5wLngsdC5wLnkpLGE9dC5yb3RhdGlvbipzLlBJXzE4MCxyPXkoYSksYT10LnNjYWxlKnQuZGF0YS5vbGRTY2FsZSxhPXAoYSxhKSxhPWYoZSxhKSxhPWYoYSxyKTthPWYoYSxpKSxYLmludmVyc2UoYSx0LmRhdGEuaW1hdCksYVsyXT10LmFscGhhLHRoaXMubXN0YWNrLnB1c2goYSl9fV0pLEM9cGU7ZnVuY3Rpb24gcGUodCl7byh0aGlzLHBlKTt0PWgodGhpcywocGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YocGUpKS5jYWxsKHRoaXMsdCkpO3JldHVybiB0LmdsPXQuZWxlbWVudC5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIse2FudGlhbGlhczohMCxzdGVuY2lsOiExLGRlcHRoOiExfSksdC5nbHx8YWxlcnQoXCJTb3JyeSB5b3VyIGJyb3dzZXIgZG8gbm90IHN1cHBlc3QgV2ViR0whXCIpLHQuaW5pdFZhcigpLHQuc2V0TWF4UmFkaXVzKCksdC5pbml0U2hhZGVycygpLHQuaW5pdEJ1ZmZlcnMoKSx0LmdsLmJsZW5kRXF1YXRpb24odC5nbC5GVU5DX0FERCksdC5nbC5ibGVuZEZ1bmModC5nbC5TUkNfQUxQSEEsdC5nbC5PTkVfTUlOVVNfU1JDX0FMUEhBKSx0LmdsLmVuYWJsZSh0LmdsLkJMRU5EKSx0LmFkZEltZzJCb2R5PXQuYWRkSW1nMkJvZHkuYmluZCh0KSx0Lm5hbWU9XCJXZWJHTFJlbmRlcmVyXCIsdH1yKGZlLCR0KSwkdD1mZTtmdW5jdGlvbiBmZSh0KXtvKHRoaXMsZmUpO3Q9aCh0aGlzLChmZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihmZSkpLmNhbGwodGhpcyx0KSk7cmV0dXJuIHQubmFtZT1cIkN1c3RvbVJlbmRlcmVyXCIsdH12YXIgdmU9KHIoZ2UsYXQpLHQoZ2UsW3trZXk6XCJnZXRQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmFuZG9tPU1hdGgucmFuZG9tKCksdGhpcy52ZWN0b3IueD10aGlzLngxK3RoaXMucmFuZG9tKnRoaXMubGVuZ3RoKk1hdGguY29zKHRoaXMuZ3JhZGllbnQpLHRoaXMudmVjdG9yLnk9dGhpcy55MSt0aGlzLnJhbmRvbSp0aGlzLmxlbmd0aCpNYXRoLnNpbih0aGlzLmdyYWRpZW50KSx0aGlzLnZlY3Rvcn19LHtrZXk6XCJnZXREaXJlY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZHksYT0tdGhpcy5keDtyZXR1cm4gMDwoaSp0K2EqZSt0aGlzLmRvdCkqKDA9PWE/MTphKX19LHtrZXk6XCJnZXREaXN0YW5jZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuKHRoaXMuZHkqdCstdGhpcy5keCplK3RoaXMuZG90KS9NYXRoLnNxcnQodGhpcy54eHl5KX19LHtrZXk6XCJnZXRTeW1tZXRyaWNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmdldEdyYWRpZW50KCksaT0yKih0aGlzLmdldEdyYWRpZW50KCktZSksYT10LngsZT10Lnk7cmV0dXJuIHQueD1hKk1hdGguY29zKGkpLWUqTWF0aC5zaW4oaSksdC55PWEqTWF0aC5zaW4oaSkrZSpNYXRoLmNvcyhpKSx0fX0se2tleTpcImdldEdyYWRpZW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLmR5LHRoaXMuZHgpfX0se2tleTpcInJhbmdlT3V0XCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoTWF0aC5hYnModGhpcy5nZXRHcmFkaWVudCgpKTw9cy5QSS80KXtpZih0LnAueDw9dGhpcy5tYXh4JiZ0LnAueD49dGhpcy5taW54KXJldHVybiEwfWVsc2UgaWYodC5wLnk8PXRoaXMubWF4eSYmdC5wLnk+PXRoaXMubWlueSlyZXR1cm4hMDtyZXR1cm4hMX19LHtrZXk6XCJnZXRMZW5ndGhcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBNYXRoLnNxcnQodGhpcy5keCp0aGlzLmR4K3RoaXMuZHkqdGhpcy5keSl9fSx7a2V5OlwiY3Jvc3NpbmdcIix2YWx1ZTpmdW5jdGlvbih0KXtcImRlYWRcIj09PXRoaXMuY3Jvc3NUeXBlP1wiPlwiPT09dGhpcy5kaXJlY3Rpb258fFwiUlwiPT09dGhpcy5kaXJlY3Rpb258fFwicmlnaHRcIj09PXRoaXMuZGlyZWN0aW9ufHxcImRvd25cIj09PXRoaXMuZGlyZWN0aW9uP3RoaXMucmFuZ2VPdXQodCkmJnRoaXMuZ2V0RGlyZWN0aW9uKHQucC54LHQucC55KSYmKHQuZGVhZD0hMCk6dGhpcy5yYW5nZU91dCh0KSYmKHRoaXMuZ2V0RGlyZWN0aW9uKHQucC54LHQucC55KXx8KHQuZGVhZD0hMCkpOlwiYm91bmRcIj09PXRoaXMuY3Jvc3NUeXBlP3RoaXMucmFuZ2VPdXQodCkmJnRoaXMuZ2V0RGlzdGFuY2UodC5wLngsdC5wLnkpPD10LnJhZGl1cyYmKDA9PT10aGlzLmR4P3Qudi54Kj0tMTowPT09dGhpcy5keT90LnYueSo9LTE6dGhpcy5nZXRTeW1tZXRyaWModC52KSk6XCJjcm9zc1wiPT09dGhpcy5jcm9zc1R5cGUmJnRoaXMuYWxlcnQmJihjb25zb2xlLmVycm9yKFwiU29ycnksIExpbmVab25lIGRvZXMgbm90IHN1cHBvcnQgY3Jvc3MgbWV0aG9kIVwiKSx0aGlzLmFsZXJ0PSExKX19XSksZ2UpO2Z1bmN0aW9uIGdlKHQsZSxpLGEscil7byh0aGlzLGdlKTt2YXIgbj1oKHRoaXMsKGdlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGdlKSkuY2FsbCh0aGlzKSk7cmV0dXJuIDA8PWktdD8obi54MT10LG4ueTE9ZSxuLngyPWksbi55Mj1hKToobi54MT1pLG4ueTE9YSxuLngyPXQsbi55Mj1lKSxuLmR4PW4ueDItbi54MSxuLmR5PW4ueTItbi55MSxuLm1pbng9TWF0aC5taW4obi54MSxuLngyKSxuLm1pbnk9TWF0aC5taW4obi55MSxuLnkyKSxuLm1heHg9TWF0aC5tYXgobi54MSxuLngyKSxuLm1heHk9TWF0aC5tYXgobi55MSxuLnkyKSxuLmRvdD1uLngyKm4ueTEtbi54MSpuLnkyLG4ueHh5eT1uLmR4Km4uZHgrbi5keSpuLmR5LG4uZ3JhZGllbnQ9bi5nZXRHcmFkaWVudCgpLG4ubGVuZ3RoPW4uZ2V0TGVuZ3RoKCksbi5kaXJlY3Rpb249UC5pbml0VmFsdWUocixcIj5cIiksbn12YXIgbWU9KHIoYmUsYXQpLHQoYmUsW3trZXk6XCJnZXRQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYW5nbGU9cy5QSXgyKk1hdGgucmFuZG9tKCksdGhpcy5yYW5kb21SYWRpdXM9TWF0aC5yYW5kb20oKSp0aGlzLnJhZGl1cyx0aGlzLnZlY3Rvci54PXRoaXMueCt0aGlzLnJhbmRvbVJhZGl1cypNYXRoLmNvcyh0aGlzLmFuZ2xlKSx0aGlzLnZlY3Rvci55PXRoaXMueSt0aGlzLnJhbmRvbVJhZGl1cypNYXRoLnNpbih0aGlzLmFuZ2xlKSx0aGlzLnZlY3Rvcn19LHtrZXk6XCJzZXRDZW50ZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuY2VudGVyLng9dCx0aGlzLmNlbnRlci55PWV9fSx7a2V5OlwiY3Jvc3NpbmdcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnAuZGlzdGFuY2VUbyh0aGlzLmNlbnRlcik7XCJkZWFkXCI9PT10aGlzLmNyb3NzVHlwZT9lLXQucmFkaXVzPnRoaXMucmFkaXVzJiYodC5kZWFkPSEwKTpcImJvdW5kXCI9PT10aGlzLmNyb3NzVHlwZT9lK3QucmFkaXVzPj10aGlzLnJhZGl1cyYmdGhpcy5nZXRTeW1tZXRyaWModCk6XCJjcm9zc1wiPT09dGhpcy5jcm9zc1R5cGUmJnRoaXMuYWxlcnQmJihjb25zb2xlLmVycm9yKFwiU29ycnksIENpcmNsZVpvbmUgZG9lcyBub3Qgc3VwcG9ydCBjcm9zcyBtZXRob2QhXCIpLHRoaXMuYWxlcnQ9ITEpfX0se2tleTpcImdldFN5bW1ldHJpY1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudi5nZXRHcmFkaWVudCgpLGk9MioodGhpcy5nZXRHcmFkaWVudCh0KS1lKSxhPXQudi54LGU9dC52Lnk7dC52Lng9YSpNYXRoLmNvcyhpKS1lKk1hdGguc2luKGkpLHQudi55PWEqTWF0aC5zaW4oaSkrZSpNYXRoLmNvcyhpKX19LHtrZXk6XCJnZXRHcmFkaWVudFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybi1zLlBJXzIrTWF0aC5hdGFuMih0LnAueS10aGlzLmNlbnRlci55LHQucC54LXRoaXMuY2VudGVyLngpfX1dKSxiZSk7ZnVuY3Rpb24gYmUodCxlLGkpe28odGhpcyxiZSk7dmFyIGE9aCh0aGlzLChiZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihiZSkpLmNhbGwodGhpcykpO3JldHVybiBhLng9dCxhLnk9ZSxhLnJhZGl1cz1pLGEuYW5nbGU9MCxhLmNlbnRlcj17eDp0LHk6ZX0sYX12YXIgX2U9KHIoeGUsYXQpLHQoeGUsW3trZXk6XCJnZXRQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmVjdG9yLng9dGhpcy54K01hdGgucmFuZG9tKCkqdGhpcy53aWR0aCx0aGlzLnZlY3Rvci55PXRoaXMueStNYXRoLnJhbmRvbSgpKnRoaXMuaGVpZ2h0LHRoaXMudmVjdG9yfX0se2tleTpcImNyb3NzaW5nXCIsdmFsdWU6ZnVuY3Rpb24odCl7XCJkZWFkXCI9PT10aGlzLmNyb3NzVHlwZT8oKHQucC54K3QucmFkaXVzPHRoaXMueHx8dC5wLngtdC5yYWRpdXM+dGhpcy54K3RoaXMud2lkdGgpJiYodC5kZWFkPSEwKSwodC5wLnkrdC5yYWRpdXM8dGhpcy55fHx0LnAueS10LnJhZGl1cz50aGlzLnkrdGhpcy5oZWlnaHQpJiYodC5kZWFkPSEwKSk6XCJib3VuZFwiPT09dGhpcy5jcm9zc1R5cGU/KHQucC54LXQucmFkaXVzPHRoaXMueD8odC5wLng9dGhpcy54K3QucmFkaXVzLHQudi54Kj0tMSk6dC5wLngrdC5yYWRpdXM+dGhpcy54K3RoaXMud2lkdGgmJih0LnAueD10aGlzLngrdGhpcy53aWR0aC10LnJhZGl1cyx0LnYueCo9LTEpLHQucC55LXQucmFkaXVzPHRoaXMueT8odC5wLnk9dGhpcy55K3QucmFkaXVzLHQudi55Kj0tMSk6dC5wLnkrdC5yYWRpdXM+dGhpcy55K3RoaXMuaGVpZ2h0JiYodC5wLnk9dGhpcy55K3RoaXMuaGVpZ2h0LXQucmFkaXVzLHQudi55Kj0tMSkpOlwiY3Jvc3NcIj09PXRoaXMuY3Jvc3NUeXBlJiYodC5wLngrdC5yYWRpdXM8dGhpcy54JiZ0LnYueDw9MD90LnAueD10aGlzLngrdGhpcy53aWR0aCt0LnJhZGl1czp0LnAueC10LnJhZGl1cz50aGlzLngrdGhpcy53aWR0aCYmMDw9dC52LngmJih0LnAueD10aGlzLngtdC5yYWRpdXMpLHQucC55K3QucmFkaXVzPHRoaXMueSYmdC52Lnk8PTA/dC5wLnk9dGhpcy55K3RoaXMuaGVpZ2h0K3QucmFkaXVzOnQucC55LXQucmFkaXVzPnRoaXMueSt0aGlzLmhlaWdodCYmMDw9dC52LnkmJih0LnAueT10aGlzLnktdC5yYWRpdXMpKX19XSkseGUpO2Z1bmN0aW9uIHhlKHQsZSxpLGEpe28odGhpcyx4ZSk7dmFyIHI9aCh0aGlzLCh4ZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih4ZSkpLmNhbGwodGhpcykpO3JldHVybiByLng9dCxyLnk9ZSxyLndpZHRoPWksci5oZWlnaHQ9YSxyfXIoa2UsYXQpLHQoa2UsW3trZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLGEpe3RoaXMuaW1hZ2VEYXRhPXQsdGhpcy54PVAuaW5pdFZhbHVlKGUsMCksdGhpcy55PVAuaW5pdFZhbHVlKGksMCksdGhpcy5kPVAuaW5pdFZhbHVlKGEsMiksdGhpcy52ZWN0b3JzPVtdLHRoaXMuc2V0VmVjdG9ycygpfX0se2tleTpcInNldFZlY3RvcnNcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD12b2lkIDAsZT12b2lkIDAsaT10aGlzLmltYWdlRGF0YS53aWR0aCxhPXRoaXMuaW1hZ2VEYXRhLmhlaWdodCx0PTA7dDxpO3QrPXRoaXMuZClmb3IoZT0wO2U8YTtlKz10aGlzLmQpe3ZhciByPTQqKChlPj4wKSppKyh0Pj4wKSk7MDx0aGlzLmltYWdlRGF0YS5kYXRhWzMrcl0mJnRoaXMudmVjdG9ycy5wdXNoKHt4OnQrdGhpcy54LHk6ZSt0aGlzLnl9KX1yZXR1cm4gdGhpcy52ZWN0b3J9fSx7a2V5OlwiZ2V0Qm91bmRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3Q9NCooKGU+PjApKnRoaXMuaW1hZ2VEYXRhLndpZHRoKyh0Pj4wKSk7cmV0dXJuIDA8dGhpcy5pbWFnZURhdGEuZGF0YVszK3RdfX0se2tleTpcImdldFBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1QLmdldFJhbmRGcm9tQXJyYXkodGhpcy52ZWN0b3JzKTtyZXR1cm4gdGhpcy52ZWN0b3IuY29weSh0KX19LHtrZXk6XCJnZXRDb2xvclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dC09dGhpcy54O3Q9NCooKChlLT10aGlzLnkpPj4wKSp0aGlzLmltYWdlRGF0YS53aWR0aCsodD4+MCkpO3JldHVybntyOnRoaXMuaW1hZ2VEYXRhLmRhdGFbdF0sZzp0aGlzLmltYWdlRGF0YS5kYXRhWzErdF0sYjp0aGlzLmltYWdlRGF0YS5kYXRhWzIrdF0sYTp0aGlzLmltYWdlRGF0YS5kYXRhWzMrdF19fX0se2tleTpcImNyb3NzaW5nXCIsdmFsdWU6ZnVuY3Rpb24odCl7XCJkZWFkXCI9PT10aGlzLmNyb3NzVHlwZT90aGlzLmdldEJvdW5kKHQucC54LXRoaXMueCx0LnAueS10aGlzLnkpP3QuZGVhZD0hMDp0LmRlYWQ9ITE6XCJib3VuZFwiPT09dGhpcy5jcm9zc1R5cGUmJih0aGlzLmdldEJvdW5kKHQucC54LXRoaXMueCx0LnAueS10aGlzLnkpfHx0LnYubmVnYXRlKCkpfX1dKSxyPWtlO2Z1bmN0aW9uIGtlKHQsZSxpLGEpe28odGhpcyxrZSk7dmFyIHI9aCh0aGlzLChrZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihrZSkpLmNhbGwodGhpcykpO3JldHVybiByLnJlc2V0KHQsZSxpLGEpLHJ9dD17YWRkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbih0LGUpe3QuYWRkRXZlbnRMaXN0ZW5lcihcIlBST1RPTl9VUERBVEVfQUZURVJcIixmdW5jdGlvbigpe3JldHVybiBlKCl9KX0sZ2V0U3R5bGU6ZnVuY3Rpb24odCl7dD1ILmhleFRvUmdiKDA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90OlwiI2ZmMDAwMFwiKTtyZXR1cm5cInJnYmEoXCIrdC5yK1wiLCBcIit0LmcrXCIsIFwiK3QuYitcIiwgMC41KVwifSxkcmF3Wm9uZTpmdW5jdGlvbih0LGUsaSxhKXt2YXIgcj1lLmdldENvbnRleHQoXCIyZFwiKSxuPXRoaXMuZ2V0U3R5bGUoKTt0aGlzLmFkZEV2ZW50TGlzdGVuZXIodCxmdW5jdGlvbigpe2EmJnIuY2xlYXJSZWN0KDAsMCxlLndpZHRoLGUuaGVpZ2h0KSxpIGluc3RhbmNlb2YgbnQ/KHIuYmVnaW5QYXRoKCksci5maWxsU3R5bGU9bixyLmFyYyhpLngsaS55LDEwLDAsMipNYXRoLlBJLCEwKSxyLmZpbGwoKSxyLmNsb3NlUGF0aCgpKTppIGluc3RhbmNlb2YgdmU/KHIuYmVnaW5QYXRoKCksci5zdHJva2VTdHlsZT1uLHIubW92ZVRvKGkueDEsaS55MSksci5saW5lVG8oaS54MixpLnkyKSxyLnN0cm9rZSgpLHIuY2xvc2VQYXRoKCkpOmkgaW5zdGFuY2VvZiBfZT8oci5iZWdpblBhdGgoKSxyLnN0cm9rZVN0eWxlPW4sci5kcmF3UmVjdChpLngsaS55LGkud2lkdGgsaS5oZWlnaHQpLHIuc3Ryb2tlKCksci5jbG9zZVBhdGgoKSk6aSBpbnN0YW5jZW9mIG1lJiYoci5iZWdpblBhdGgoKSxyLnN0cm9rZVN0eWxlPW4sci5hcmMoaS54LGkueSxpLnJhZGl1cywwLDIqTWF0aC5QSSwhMCksci5zdHJva2UoKSxyLmNsb3NlUGF0aCgpKX0pfSxkcmF3RW1pdHRlcjpmdW5jdGlvbih0LGUsaSxhKXt2YXIgcj1lLmdldENvbnRleHQoXCIyZFwiKSxuPXRoaXMuZ2V0U3R5bGUoKTt0aGlzLmFkZEV2ZW50TGlzdGVuZXIodCxmdW5jdGlvbigpe2EmJnIuY2xlYXJSZWN0KDAsMCxlLndpZHRoLGUuaGVpZ2h0KSxyLmJlZ2luUGF0aCgpLHIuZmlsbFN0eWxlPW4sci5hcmMoaS5wLngsaS5wLnksMTAsMCwyKk1hdGguUEksITApLHIuZmlsbCgpLHIuY2xvc2VQYXRoKCl9KX19O3JldHVybiBWLlBhcnRpY2xlPWosVi5Qb29sPVQsVi5VdGlsPVAsVi5Db2xvclV0aWw9SCxWLk1hdGhVdGlsPXMsVi5WZWN0b3IyRD1WLlZlY3Rvcj1GLFYuUG9sYXIyRD1WLlBvbGFyPXEsVi5BcnJheVNwYW49WSxWLlJlY3RhbmdsZT1aLFYuUmF0ZT1LLFYuZWFzZT1VLFYuU3Bhbj1sLFYuTWF0Mz1YLFYuZ2V0U3Bhbj1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIG5ldyBsKHQsZSxpKX0sVi5jcmVhdGVBcnJheVNwYW49WS5jcmVhdGVBcnJheVNwYW4sVi5Jbml0aWFsaXplPVYuSW5pdD0kLFYuTGlmZT1WLkw9ZXQsVi5Qb3NpdGlvbj1WLlA9b3QsVi5WZWxvY2l0eT1WLlY9bHQsVi5NYXNzPVYuTT1jdCxWLlJhZGl1cz1WLlI9eXQsVi5Cb2R5PVYuQj1mdCxWLkJlaGF2aW91cj1ndCxWLkZvcmNlPVYuRj1idCxWLkF0dHJhY3Rpb249Vi5BPXh0LFYuUmFuZG9tRHJpZnQ9Vi5SRD1QdCxWLkdyYXZpdHk9Vi5HPUF0LFYuQ29sbGlzaW9uPVJ0LFYuQ3Jvc3Nab25lPXd0LFYuQWxwaGE9U3QsVi5TY2FsZT1WLlM9RHQsVi5Sb3RhdGU9TXQsVi5Db2xvcj1MdCxWLlJlcHVsc2lvbj1OdCxWLkN5Y2xvbmU9enQsVi5HcmF2aXR5V2VsbD1xdCxWLkVtaXR0ZXI9WXQsVi5CZWhhdmlvdXJFbWl0dGVyPVp0LFYuRm9sbG93RW1pdHRlcj1LdCxWLlpvbmU9YXQsVi5MaW5lWm9uZT12ZSxWLkNpcmNsZVpvbmU9bWUsVi5Qb2ludFpvbmU9bnQsVi5SZWN0Wm9uZT1fZSxWLkltYWdlWm9uZT1yLFYuQ2FudmFzUmVuZGVyZXI9ZWUsVi5Eb21SZW5kZXJlcj1hZSxWLkVhc2VsUmVuZGVyZXI9bmUsVi5QaXhpUmVuZGVyZXI9dWUsVi5QaXhlbFJlbmRlcmVyPW9lLFYuV2ViR0xSZW5kZXJlcj1WLldlYkdsUmVuZGVyZXI9QyxWLkN1c3RvbVJlbmRlcmVyPSR0LFYuRGVidWc9dCxQLmFzc2lnbihWLFUpLFZ9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb3Rvbi5taW4uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/proton-engine@4.2.1/node_modules/proton-engine/build/proton.min.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/raf-manager@0.3.3/node_modules/raf-manager/build/RAFManager.min.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/.pnpm/raf-manager@0.3.3/node_modules/raf-manager/build/RAFManager.min.js ***!
  \***********************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("/*!\n* raf-manager v0.3.3\n*\n* Copyright 2018-2025, drawcall <co***@gmail.com>\n* Licensed under the MIT license\n* http://www.opensource.org/licenses/mit-license\n*\n*/\n!function(t,i){ true?module.exports=i():0}(this,function(){\"use strict\";return function(){for(var t=[\"ms\",\"moz\",\"webkit\",\"o\"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+\"RequestAnimationFrame\"],window.cancelAnimationFrame=window[t[i]+\"CancelAnimationFrame\"]||window[t[i]+\"CancelRequestAnimationFrame\"]}(),{timer:0,state:\"stop\",animations:[],paused:!1,immediate:!0,add:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n={callback:t,fps:i,n:60/i,param:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i:0};return this.animations.push(n),this.immediate&&this.animations.length>=1&&this.start(),this},getIndex:function(t){for(var i=0;i<this.animations.length;i++){if(this.animations[i].callback===t)return i}return-1},remove:function(t){if(!(this.getIndex(t)<0))return this.deleteMap(t),this.immediate&&0===this.animations.length&&this.stop(),this},deleteMap:function(t){var i=this.getIndex(t),n=this.animations[i];for(var e in n)delete n[e];this.animations.splice(i,1)},start:function(){if(\"start\"!==this.state)return this.state=\"start\",this.tick(),this},stop:function(){if(\"stop\"!==this.state)return this.state=\"stop\",cancelAnimationFrame(this.timer),this},pause:function(){if(\"start\"===this.state&&!this.paused)return this.paused=!0,this},resume:function(){if(\"start\"===this.state&&this.paused)return this.paused=!1,this},tick:function(){var t=this;if(this.timer=requestAnimationFrame(function(){t.tick()}),!this.paused)for(var i=0;i<this.animations.length;i++){var n=this.animations[i],e=n.callback,a=n.param;n.i++,n.i>=n.n&&(e(a),n.i=0)}}}});\n//# sourceMappingURL=RAFManager.min.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9yYWYtbWFuYWdlckAwLjMuMy9ub2RlX21vZHVsZXMvcmFmLW1hbmFnZXIvYnVpbGQvUkFGTWFuYWdlci5taW4uanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsS0FBb0Qsb0JBQW9CLENBQWdFLENBQUMsaUJBQWlCLGFBQWEsa0JBQWtCLHdDQUF3QywwQ0FBMEMsa0xBQWtMLElBQUksMEVBQTBFLG1FQUFtRSwrRkFBK0YsNEZBQTRGLHNCQUFzQixZQUFZLHlCQUF5QixLQUFLLDRDQUE0QyxTQUFTLG9CQUFvQiwrR0FBK0csdUJBQXVCLDRDQUE0QywyQkFBMkIsNEJBQTRCLGtCQUFrQixtRUFBbUUsaUJBQWlCLHNGQUFzRixrQkFBa0IsaUVBQWlFLG1CQUFtQixnRUFBZ0UsaUJBQWlCLFdBQVcsK0NBQStDLFNBQVMsMkJBQTJCLHlCQUF5QixLQUFLLGdEQUFnRCxnQ0FBZ0M7QUFDenNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9yYWYtbWFuYWdlckAwLjMuMy9ub2RlX21vZHVsZXMvcmFmLW1hbmFnZXIvYnVpbGQvUkFGTWFuYWdlci5taW4uanM/OWNkYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiogcmFmLW1hbmFnZXIgdjAuMy4zXG4qXG4qIENvcHlyaWdodCAyMDE4LTIwMjUsIGRyYXdjYWxsIDxjbyoqKkBnbWFpbC5jb20+XG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4qXG4qL1xuIWZ1bmN0aW9uKHQsaSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9aSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoaSk6dC5SQUZNYW5hZ2VyPWkoKX0odGhpcyxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgdD1bXCJtc1wiLFwibW96XCIsXCJ3ZWJraXRcIixcIm9cIl0saT0wO2k8dC5sZW5ndGgmJiF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lOysraSl3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lPXdpbmRvd1t0W2ldK1wiUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdLHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZT13aW5kb3dbdFtpXStcIkNhbmNlbEFuaW1hdGlvbkZyYW1lXCJdfHx3aW5kb3dbdFtpXStcIkNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZVwiXX0oKSx7dGltZXI6MCxzdGF0ZTpcInN0b3BcIixhbmltYXRpb25zOltdLHBhdXNlZDohMSxpbW1lZGlhdGU6ITAsYWRkOmZ1bmN0aW9uKHQpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTo2MCxuPXtjYWxsYmFjazp0LGZwczppLG46NjAvaSxwYXJhbTphcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06bnVsbCxpOjB9O3JldHVybiB0aGlzLmFuaW1hdGlvbnMucHVzaChuKSx0aGlzLmltbWVkaWF0ZSYmdGhpcy5hbmltYXRpb25zLmxlbmd0aD49MSYmdGhpcy5zdGFydCgpLHRoaXN9LGdldEluZGV4OmZ1bmN0aW9uKHQpe2Zvcih2YXIgaT0wO2k8dGhpcy5hbmltYXRpb25zLmxlbmd0aDtpKyspe2lmKHRoaXMuYW5pbWF0aW9uc1tpXS5jYWxsYmFjaz09PXQpcmV0dXJuIGl9cmV0dXJuLTF9LHJlbW92ZTpmdW5jdGlvbih0KXtpZighKHRoaXMuZ2V0SW5kZXgodCk8MCkpcmV0dXJuIHRoaXMuZGVsZXRlTWFwKHQpLHRoaXMuaW1tZWRpYXRlJiYwPT09dGhpcy5hbmltYXRpb25zLmxlbmd0aCYmdGhpcy5zdG9wKCksdGhpc30sZGVsZXRlTWFwOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuZ2V0SW5kZXgodCksbj10aGlzLmFuaW1hdGlvbnNbaV07Zm9yKHZhciBlIGluIG4pZGVsZXRlIG5bZV07dGhpcy5hbmltYXRpb25zLnNwbGljZShpLDEpfSxzdGFydDpmdW5jdGlvbigpe2lmKFwic3RhcnRcIiE9PXRoaXMuc3RhdGUpcmV0dXJuIHRoaXMuc3RhdGU9XCJzdGFydFwiLHRoaXMudGljaygpLHRoaXN9LHN0b3A6ZnVuY3Rpb24oKXtpZihcInN0b3BcIiE9PXRoaXMuc3RhdGUpcmV0dXJuIHRoaXMuc3RhdGU9XCJzdG9wXCIsY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy50aW1lciksdGhpc30scGF1c2U6ZnVuY3Rpb24oKXtpZihcInN0YXJ0XCI9PT10aGlzLnN0YXRlJiYhdGhpcy5wYXVzZWQpcmV0dXJuIHRoaXMucGF1c2VkPSEwLHRoaXN9LHJlc3VtZTpmdW5jdGlvbigpe2lmKFwic3RhcnRcIj09PXRoaXMuc3RhdGUmJnRoaXMucGF1c2VkKXJldHVybiB0aGlzLnBhdXNlZD0hMSx0aGlzfSx0aWNrOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0aGlzLnRpbWVyPXJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe3QudGljaygpfSksIXRoaXMucGF1c2VkKWZvcih2YXIgaT0wO2k8dGhpcy5hbmltYXRpb25zLmxlbmd0aDtpKyspe3ZhciBuPXRoaXMuYW5pbWF0aW9uc1tpXSxlPW4uY2FsbGJhY2ssYT1uLnBhcmFtO24uaSsrLG4uaT49bi5uJiYoZShhKSxuLmk9MCl9fX19KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJBRk1hbmFnZXIubWluLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/raf-manager@0.3.3/node_modules/raf-manager/build/RAFManager.min.js\n"));

/***/ })

}]);